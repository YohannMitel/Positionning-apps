var Gu=Object.defineProperty;var Uu=(s,i,a)=>i in s?Gu(s,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[i]=a;var G=(s,i,a)=>Uu(s,typeof i!="symbol"?i+"":i,a);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))h(u);new MutationObserver(u=>{for(const p of u)if(p.type==="childList")for(const f of p.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&h(f)}).observe(document,{childList:!0,subtree:!0});function a(u){const p={};return u.integrity&&(p.integrity=u.integrity),u.referrerPolicy&&(p.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?p.credentials="include":u.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function h(u){if(u.ep)return;u.ep=!0;const p=a(u);fetch(u.href,p)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ir(s){const i=Object.create(null);for(const a of s.split(","))i[a]=1;return a=>a in i}const At={},ls=[],Ne=()=>{},Ku=()=>!1,Gn=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),Br=s=>s.startsWith("onUpdate:"),$t=Object.assign,Vr=(s,i)=>{const a=s.indexOf(i);a>-1&&s.splice(a,1)},Yu=Object.prototype.hasOwnProperty,Tt=(s,i)=>Yu.call(s,i),ct=Array.isArray,hs=s=>Un(s)==="[object Map]",sh=s=>Un(s)==="[object Set]",dt=s=>typeof s=="function",Vt=s=>typeof s=="string",Ei=s=>typeof s=="symbol",Dt=s=>s!==null&&typeof s=="object",nh=s=>(Dt(s)||dt(s))&&dt(s.then)&&dt(s.catch),oh=Object.prototype.toString,Un=s=>oh.call(s),qu=s=>Un(s).slice(8,-1),rh=s=>Un(s)==="[object Object]",Wr=s=>Vt(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,Is=Ir(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Kn=s=>{const i=Object.create(null);return a=>i[a]||(i[a]=s(a))},Xu=/-(\w)/g,_e=Kn(s=>s.replace(Xu,(i,a)=>a?a.toUpperCase():"")),Ju=/\B([A-Z])/g,Wi=Kn(s=>s.replace(Ju,"-$1").toLowerCase()),Yn=Kn(s=>s.charAt(0).toUpperCase()+s.slice(1)),Vo=Kn(s=>s?`on${Yn(s)}`:""),gi=(s,i)=>!Object.is(s,i),Wo=(s,...i)=>{for(let a=0;a<s.length;a++)s[a](...i)},ah=(s,i,a,h=!1)=>{Object.defineProperty(s,i,{configurable:!0,enumerable:!1,writable:h,value:a})},Qu=s=>{const i=parseFloat(s);return isNaN(i)?s:i};let ka;const qn=()=>ka||(ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function jr(s){if(ct(s)){const i={};for(let a=0;a<s.length;a++){const h=s[a],u=Vt(h)?id(h):jr(h);if(u)for(const p in u)i[p]=u[p]}return i}else if(Vt(s)||Dt(s))return s}const Zu=/;(?![^(]*\))/g,td=/:([^]+)/,ed=/\/\*[^]*?\*\//g;function id(s){const i={};return s.replace(ed,"").split(Zu).forEach(a=>{if(a){const h=a.split(td);h.length>1&&(i[h[0].trim()]=h[1].trim())}}),i}function Pi(s){let i="";if(Vt(s))i=s;else if(ct(s))for(let a=0;a<s.length;a++){const h=Pi(s[a]);h&&(i+=h+" ")}else if(Dt(s))for(const a in s)s[a]&&(i+=a+" ");return i.trim()}const sd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nd=Ir(sd);function lh(s){return!!s||s===""}const hh=s=>!!(s&&s.__v_isRef===!0),br=s=>Vt(s)?s:s==null?"":ct(s)||Dt(s)&&(s.toString===oh||!dt(s.toString))?hh(s)?br(s.value):JSON.stringify(s,ch,2):String(s),ch=(s,i)=>hh(i)?ch(s,i.value):hs(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((a,[h,u],p)=>(a[jo(h,p)+" =>"]=u,a),{})}:sh(i)?{[`Set(${i.size})`]:[...i.values()].map(a=>jo(a))}:Ei(i)?jo(i):Dt(i)&&!ct(i)&&!rh(i)?String(i):i,jo=(s,i="")=>{var a;return Ei(s)?`Symbol(${(a=s.description)!=null?a:i})`:s};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ge;class od{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ge,!i&&ge&&(this.index=(ge.scopes||(ge.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let i,a;if(this.scopes)for(i=0,a=this.scopes.length;i<a;i++)this.scopes[i].pause();for(i=0,a=this.effects.length;i<a;i++)this.effects[i].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let i,a;if(this.scopes)for(i=0,a=this.scopes.length;i<a;i++)this.scopes[i].resume();for(i=0,a=this.effects.length;i<a;i++)this.effects[i].resume()}}run(i){if(this._active){const a=ge;try{return ge=this,i()}finally{ge=a}}}on(){ge=this}off(){ge=this.parent}stop(i){if(this._active){this._active=!1;let a,h;for(a=0,h=this.effects.length;a<h;a++)this.effects[a].stop();for(this.effects.length=0,a=0,h=this.cleanups.length;a<h;a++)this.cleanups[a]();if(this.cleanups.length=0,this.scopes){for(a=0,h=this.scopes.length;a<h;a++)this.scopes[a].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!i){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0}}}function rd(){return ge}let kt;const $o=new WeakSet;class uh{constructor(i){this.fn=i,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ge&&ge.active&&ge.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,$o.has(this)&&($o.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ph(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Aa(this),mh(this);const i=kt,a=Le;kt=this,Le=!0;try{return this.fn()}finally{fh(this),kt=i,Le=a,this.flags&=-3}}stop(){if(this.flags&1){for(let i=this.deps;i;i=i.nextDep)Ur(i);this.deps=this.depsTail=void 0,Aa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?$o.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vr(this)&&this.run()}get dirty(){return vr(this)}}let dh=0,Bs,Vs;function ph(s,i=!1){if(s.flags|=8,i){s.next=Vs,Vs=s;return}s.next=Bs,Bs=s}function $r(){dh++}function Gr(){if(--dh>0)return;if(Vs){let i=Vs;for(Vs=void 0;i;){const a=i.next;i.next=void 0,i.flags&=-9,i=a}}let s;for(;Bs;){let i=Bs;for(Bs=void 0;i;){const a=i.next;if(i.next=void 0,i.flags&=-9,i.flags&1)try{i.trigger()}catch(h){s||(s=h)}i=a}}if(s)throw s}function mh(s){for(let i=s.deps;i;i=i.nextDep)i.version=-1,i.prevActiveLink=i.dep.activeLink,i.dep.activeLink=i}function fh(s){let i,a=s.depsTail,h=a;for(;h;){const u=h.prevDep;h.version===-1?(h===a&&(a=u),Ur(h),ad(h)):i=h,h.dep.activeLink=h.prevActiveLink,h.prevActiveLink=void 0,h=u}s.deps=i,s.depsTail=a}function vr(s){for(let i=s.deps;i;i=i.nextDep)if(i.dep.version!==i.version||i.dep.computed&&(gh(i.dep.computed)||i.dep.version!==i.version))return!0;return!!s._dirty}function gh(s){if(s.flags&4&&!(s.flags&16)||(s.flags&=-17,s.globalVersion===Js))return;s.globalVersion=Js;const i=s.dep;if(s.flags|=2,i.version>0&&!s.isSSR&&s.deps&&!vr(s)){s.flags&=-3;return}const a=kt,h=Le;kt=s,Le=!0;try{mh(s);const u=s.fn(s._value);(i.version===0||gi(u,s._value))&&(s._value=u,i.version++)}catch(u){throw i.version++,u}finally{kt=a,Le=h,fh(s),s.flags&=-3}}function Ur(s,i=!1){const{dep:a,prevSub:h,nextSub:u}=s;if(h&&(h.nextSub=u,s.prevSub=void 0),u&&(u.prevSub=h,s.nextSub=void 0),a.subs===s&&(a.subs=h,!h&&a.computed)){a.computed.flags&=-5;for(let p=a.computed.deps;p;p=p.nextDep)Ur(p,!0)}!i&&!--a.sc&&a.map&&a.map.delete(a.key)}function ad(s){const{prevDep:i,nextDep:a}=s;i&&(i.nextDep=a,s.prevDep=void 0),a&&(a.prevDep=i,s.nextDep=void 0)}let Le=!0;const bh=[];function Ci(){bh.push(Le),Le=!1}function yi(){const s=bh.pop();Le=s===void 0?!0:s}function Aa(s){const{cleanup:i}=s;if(s.cleanup=void 0,i){const a=kt;kt=void 0;try{i()}finally{kt=a}}}let Js=0;class ld{constructor(i,a){this.sub=i,this.dep=a,this.version=a.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Kr{constructor(i){this.computed=i,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(i){if(!kt||!Le||kt===this.computed)return;let a=this.activeLink;if(a===void 0||a.sub!==kt)a=this.activeLink=new ld(kt,this),kt.deps?(a.prevDep=kt.depsTail,kt.depsTail.nextDep=a,kt.depsTail=a):kt.deps=kt.depsTail=a,vh(a);else if(a.version===-1&&(a.version=this.version,a.nextDep)){const h=a.nextDep;h.prevDep=a.prevDep,a.prevDep&&(a.prevDep.nextDep=h),a.prevDep=kt.depsTail,a.nextDep=void 0,kt.depsTail.nextDep=a,kt.depsTail=a,kt.deps===a&&(kt.deps=h)}return a}trigger(i){this.version++,Js++,this.notify(i)}notify(i){$r();try{for(let a=this.subs;a;a=a.prevSub)a.sub.notify()&&a.sub.dep.notify()}finally{Gr()}}}function vh(s){if(s.dep.sc++,s.sub.flags&4){const i=s.dep.computed;if(i&&!s.dep.subs){i.flags|=20;for(let h=i.deps;h;h=h.nextDep)vh(h)}const a=s.dep.subs;a!==s&&(s.prevSub=a,a&&(a.nextSub=s)),s.dep.subs=s}}const wr=new WeakMap,zi=Symbol(""),Er=Symbol(""),Qs=Symbol("");function Qt(s,i,a){if(Le&&kt){let h=wr.get(s);h||wr.set(s,h=new Map);let u=h.get(a);u||(h.set(a,u=new Kr),u.map=h,u.key=a),u.track()}}function Xe(s,i,a,h,u,p){const f=wr.get(s);if(!f){Js++;return}const g=v=>{v&&v.trigger()};if($r(),i==="clear")f.forEach(g);else{const v=ct(s),E=v&&Wr(a);if(v&&a==="length"){const w=Number(h);f.forEach((_,S)=>{(S==="length"||S===Qs||!Ei(S)&&S>=w)&&g(_)})}else switch((a!==void 0||f.has(void 0))&&g(f.get(a)),E&&g(f.get(Qs)),i){case"add":v?E&&g(f.get("length")):(g(f.get(zi)),hs(s)&&g(f.get(Er)));break;case"delete":v||(g(f.get(zi)),hs(s)&&g(f.get(Er)));break;case"set":hs(s)&&g(f.get(zi));break}}Gr()}function Ji(s){const i=_t(s);return i===s?i:(Qt(i,"iterate",Qs),ke(s)?i:i.map(re))}function Yr(s){return Qt(s=_t(s),"iterate",Qs),s}const hd={__proto__:null,[Symbol.iterator](){return Go(this,Symbol.iterator,re)},concat(...s){return Ji(this).concat(...s.map(i=>ct(i)?Ji(i):i))},entries(){return Go(this,"entries",s=>(s[1]=re(s[1]),s))},every(s,i){return Ue(this,"every",s,i,void 0,arguments)},filter(s,i){return Ue(this,"filter",s,i,a=>a.map(re),arguments)},find(s,i){return Ue(this,"find",s,i,re,arguments)},findIndex(s,i){return Ue(this,"findIndex",s,i,void 0,arguments)},findLast(s,i){return Ue(this,"findLast",s,i,re,arguments)},findLastIndex(s,i){return Ue(this,"findLastIndex",s,i,void 0,arguments)},forEach(s,i){return Ue(this,"forEach",s,i,void 0,arguments)},includes(...s){return Uo(this,"includes",s)},indexOf(...s){return Uo(this,"indexOf",s)},join(s){return Ji(this).join(s)},lastIndexOf(...s){return Uo(this,"lastIndexOf",s)},map(s,i){return Ue(this,"map",s,i,void 0,arguments)},pop(){return Ds(this,"pop")},push(...s){return Ds(this,"push",s)},reduce(s,...i){return Da(this,"reduce",s,i)},reduceRight(s,...i){return Da(this,"reduceRight",s,i)},shift(){return Ds(this,"shift")},some(s,i){return Ue(this,"some",s,i,void 0,arguments)},splice(...s){return Ds(this,"splice",s)},toReversed(){return Ji(this).toReversed()},toSorted(s){return Ji(this).toSorted(s)},toSpliced(...s){return Ji(this).toSpliced(...s)},unshift(...s){return Ds(this,"unshift",s)},values(){return Go(this,"values",re)}};function Go(s,i,a){const h=Yr(s),u=h[i]();return h!==s&&!ke(s)&&(u._next=u.next,u.next=()=>{const p=u._next();return p.value&&(p.value=a(p.value)),p}),u}const cd=Array.prototype;function Ue(s,i,a,h,u,p){const f=Yr(s),g=f!==s&&!ke(s),v=f[i];if(v!==cd[i]){const _=v.apply(s,p);return g?re(_):_}let E=a;f!==s&&(g?E=function(_,S){return a.call(this,re(_),S,s)}:a.length>2&&(E=function(_,S){return a.call(this,_,S,s)}));const w=v.call(f,E,h);return g&&u?u(w):w}function Da(s,i,a,h){const u=Yr(s);let p=a;return u!==s&&(ke(s)?a.length>3&&(p=function(f,g,v){return a.call(this,f,g,v,s)}):p=function(f,g,v){return a.call(this,f,re(g),v,s)}),u[i](p,...h)}function Uo(s,i,a){const h=_t(s);Qt(h,"iterate",Qs);const u=h[i](...a);return(u===-1||u===!1)&&Jr(a[0])?(a[0]=_t(a[0]),h[i](...a)):u}function Ds(s,i,a=[]){Ci(),$r();const h=_t(s)[i].apply(s,a);return Gr(),yi(),h}const ud=Ir("__proto__,__v_isRef,__isVue"),wh=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(Ei));function dd(s){Ei(s)||(s=String(s));const i=_t(this);return Qt(i,"has",s),i.hasOwnProperty(s)}class Eh{constructor(i=!1,a=!1){this._isReadonly=i,this._isShallow=a}get(i,a,h){if(a==="__v_skip")return i.__v_skip;const u=this._isReadonly,p=this._isShallow;if(a==="__v_isReactive")return!u;if(a==="__v_isReadonly")return u;if(a==="__v_isShallow")return p;if(a==="__v_raw")return h===(u?p?yd:Th:p?_h:yh).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(h)?i:void 0;const f=ct(i);if(!u){let v;if(f&&(v=hd[a]))return v;if(a==="hasOwnProperty")return dd}const g=Reflect.get(i,a,te(i)?i:h);return(Ei(a)?wh.has(a):ud(a))||(u||Qt(i,"get",a),p)?g:te(g)?f&&Wr(a)?g:g.value:Dt(g)?u?xh(g):Xn(g):g}}class Ch extends Eh{constructor(i=!1){super(!1,i)}set(i,a,h,u){let p=i[a];if(!this._isShallow){const v=Ii(p);if(!ke(h)&&!Ii(h)&&(p=_t(p),h=_t(h)),!ct(i)&&te(p)&&!te(h))return v?!1:(p.value=h,!0)}const f=ct(i)&&Wr(a)?Number(a)<i.length:Tt(i,a),g=Reflect.set(i,a,h,te(i)?i:u);return i===_t(u)&&(f?gi(h,p)&&Xe(i,"set",a,h):Xe(i,"add",a,h)),g}deleteProperty(i,a){const h=Tt(i,a);i[a];const u=Reflect.deleteProperty(i,a);return u&&h&&Xe(i,"delete",a,void 0),u}has(i,a){const h=Reflect.has(i,a);return(!Ei(a)||!wh.has(a))&&Qt(i,"has",a),h}ownKeys(i){return Qt(i,"iterate",ct(i)?"length":zi),Reflect.ownKeys(i)}}class pd extends Eh{constructor(i=!1){super(!0,i)}set(i,a){return!0}deleteProperty(i,a){return!0}}const md=new Ch,fd=new pd,gd=new Ch(!0);const Cr=s=>s,vn=s=>Reflect.getPrototypeOf(s);function bd(s,i,a){return function(...h){const u=this.__v_raw,p=_t(u),f=hs(p),g=s==="entries"||s===Symbol.iterator&&f,v=s==="keys"&&f,E=u[s](...h),w=a?Cr:i?yr:re;return!i&&Qt(p,"iterate",v?Er:zi),{next(){const{value:_,done:S}=E.next();return S?{value:_,done:S}:{value:g?[w(_[0]),w(_[1])]:w(_),done:S}},[Symbol.iterator](){return this}}}}function wn(s){return function(...i){return s==="delete"?!1:s==="clear"?void 0:this}}function vd(s,i){const a={get(u){const p=this.__v_raw,f=_t(p),g=_t(u);s||(gi(u,g)&&Qt(f,"get",u),Qt(f,"get",g));const{has:v}=vn(f),E=i?Cr:s?yr:re;if(v.call(f,u))return E(p.get(u));if(v.call(f,g))return E(p.get(g));p!==f&&p.get(u)},get size(){const u=this.__v_raw;return!s&&Qt(_t(u),"iterate",zi),Reflect.get(u,"size",u)},has(u){const p=this.__v_raw,f=_t(p),g=_t(u);return s||(gi(u,g)&&Qt(f,"has",u),Qt(f,"has",g)),u===g?p.has(u):p.has(u)||p.has(g)},forEach(u,p){const f=this,g=f.__v_raw,v=_t(g),E=i?Cr:s?yr:re;return!s&&Qt(v,"iterate",zi),g.forEach((w,_)=>u.call(p,E(w),E(_),f))}};return $t(a,s?{add:wn("add"),set:wn("set"),delete:wn("delete"),clear:wn("clear")}:{add(u){!i&&!ke(u)&&!Ii(u)&&(u=_t(u));const p=_t(this);return vn(p).has.call(p,u)||(p.add(u),Xe(p,"add",u,u)),this},set(u,p){!i&&!ke(p)&&!Ii(p)&&(p=_t(p));const f=_t(this),{has:g,get:v}=vn(f);let E=g.call(f,u);E||(u=_t(u),E=g.call(f,u));const w=v.call(f,u);return f.set(u,p),E?gi(p,w)&&Xe(f,"set",u,p):Xe(f,"add",u,p),this},delete(u){const p=_t(this),{has:f,get:g}=vn(p);let v=f.call(p,u);v||(u=_t(u),v=f.call(p,u)),g&&g.call(p,u);const E=p.delete(u);return v&&Xe(p,"delete",u,void 0),E},clear(){const u=_t(this),p=u.size!==0,f=u.clear();return p&&Xe(u,"clear",void 0,void 0),f}}),["keys","values","entries",Symbol.iterator].forEach(u=>{a[u]=bd(u,s,i)}),a}function qr(s,i){const a=vd(s,i);return(h,u,p)=>u==="__v_isReactive"?!s:u==="__v_isReadonly"?s:u==="__v_raw"?h:Reflect.get(Tt(a,u)&&u in h?a:h,u,p)}const wd={get:qr(!1,!1)},Ed={get:qr(!1,!0)},Cd={get:qr(!0,!1)};const yh=new WeakMap,_h=new WeakMap,Th=new WeakMap,yd=new WeakMap;function _d(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Td(s){return s.__v_skip||!Object.isExtensible(s)?0:_d(qu(s))}function Xn(s){return Ii(s)?s:Xr(s,!1,md,wd,yh)}function Rh(s){return Xr(s,!1,gd,Ed,_h)}function xh(s){return Xr(s,!0,fd,Cd,Th)}function Xr(s,i,a,h,u){if(!Dt(s)||s.__v_raw&&!(i&&s.__v_isReactive))return s;const p=u.get(s);if(p)return p;const f=Td(s);if(f===0)return s;const g=new Proxy(s,f===2?h:a);return u.set(s,g),g}function Ws(s){return Ii(s)?Ws(s.__v_raw):!!(s&&s.__v_isReactive)}function Ii(s){return!!(s&&s.__v_isReadonly)}function ke(s){return!!(s&&s.__v_isShallow)}function Jr(s){return s?!!s.__v_raw:!1}function _t(s){const i=s&&s.__v_raw;return i?_t(i):s}function Rd(s){return!Tt(s,"__v_skip")&&Object.isExtensible(s)&&ah(s,"__v_skip",!0),s}const re=s=>Dt(s)?Xn(s):s,yr=s=>Dt(s)?xh(s):s;function te(s){return s?s.__v_isRef===!0:!1}function Sh(s){return Mh(s,!1)}function xd(s){return Mh(s,!0)}function Mh(s,i){return te(s)?s:new Sd(s,i)}class Sd{constructor(i,a){this.dep=new Kr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=a?i:_t(i),this._value=a?i:re(i),this.__v_isShallow=a}get value(){return this.dep.track(),this._value}set value(i){const a=this._rawValue,h=this.__v_isShallow||ke(i)||Ii(i);i=h?i:_t(i),gi(i,a)&&(this._rawValue=i,this._value=h?i:re(i),this.dep.trigger())}}function ze(s){return te(s)?s.value:s}const Md={get:(s,i,a)=>i==="__v_raw"?s:ze(Reflect.get(s,i,a)),set:(s,i,a,h)=>{const u=s[i];return te(u)&&!te(a)?(u.value=a,!0):Reflect.set(s,i,a,h)}};function Lh(s){return Ws(s)?s:new Proxy(s,Md)}class Ld{constructor(i,a,h){this.fn=i,this.setter=a,this._value=void 0,this.dep=new Kr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Js-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!a,this.isSSR=h}notify(){if(this.flags|=16,!(this.flags&8)&&kt!==this)return ph(this,!0),!0}get value(){const i=this.dep.track();return gh(this),i&&(i.version=this.dep.version),this._value}set value(i){this.setter&&this.setter(i)}}function kd(s,i,a=!1){let h,u;return dt(s)?h=s:(h=s.get,u=s.set),new Ld(h,u,a)}const En={},Pn=new WeakMap;let Oi;function Ad(s,i=!1,a=Oi){if(a){let h=Pn.get(a);h||Pn.set(a,h=[]),h.push(s)}}function Dd(s,i,a=At){const{immediate:h,deep:u,once:p,scheduler:f,augmentJob:g,call:v}=a,E=I=>u?I:ke(I)||u===!1||u===0?fi(I,1):fi(I);let w,_,S,M,V=!1,O=!1;if(te(s)?(_=()=>s.value,V=ke(s)):Ws(s)?(_=()=>E(s),V=!0):ct(s)?(O=!0,V=s.some(I=>Ws(I)||ke(I)),_=()=>s.map(I=>{if(te(I))return I.value;if(Ws(I))return E(I);if(dt(I))return v?v(I,2):I()})):dt(s)?i?_=v?()=>v(s,2):s:_=()=>{if(S){Ci();try{S()}finally{yi()}}const I=Oi;Oi=w;try{return v?v(s,3,[M]):s(M)}finally{Oi=I}}:_=Ne,i&&u){const I=_,nt=u===!0?1/0:u;_=()=>fi(I(),nt)}const W=rd(),Y=()=>{w.stop(),W&&W.active&&Vr(W.effects,w)};if(p&&i){const I=i;i=(...nt)=>{I(...nt),Y()}}let U=O?new Array(s.length).fill(En):En;const Q=I=>{if(!(!(w.flags&1)||!w.dirty&&!I))if(i){const nt=w.run();if(u||V||(O?nt.some((lt,ht)=>gi(lt,U[ht])):gi(nt,U))){S&&S();const lt=Oi;Oi=w;try{const ht=[nt,U===En?void 0:O&&U[0]===En?[]:U,M];v?v(i,3,ht):i(...ht),U=nt}finally{Oi=lt}}}else w.run()};return g&&g(Q),w=new uh(_),w.scheduler=f?()=>f(Q,!1):Q,M=I=>Ad(I,!1,w),S=w.onStop=()=>{const I=Pn.get(w);if(I){if(v)v(I,4);else for(const nt of I)nt();Pn.delete(w)}},i?h?Q(!0):U=w.run():f?f(Q.bind(null,!0),!0):w.run(),Y.pause=w.pause.bind(w),Y.resume=w.resume.bind(w),Y.stop=Y,Y}function fi(s,i=1/0,a){if(i<=0||!Dt(s)||s.__v_skip||(a=a||new Set,a.has(s)))return s;if(a.add(s),i--,te(s))fi(s.value,i,a);else if(ct(s))for(let h=0;h<s.length;h++)fi(s[h],i,a);else if(sh(s)||hs(s))s.forEach(h=>{fi(h,i,a)});else if(rh(s)){for(const h in s)fi(s[h],i,a);for(const h of Object.getOwnPropertySymbols(s))Object.prototype.propertyIsEnumerable.call(s,h)&&fi(s[h],i,a)}return s}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function an(s,i,a,h){try{return h?s(...h):s()}catch(u){Jn(u,i,a)}}function Ve(s,i,a,h){if(dt(s)){const u=an(s,i,a,h);return u&&nh(u)&&u.catch(p=>{Jn(p,i,a)}),u}if(ct(s)){const u=[];for(let p=0;p<s.length;p++)u.push(Ve(s[p],i,a,h));return u}}function Jn(s,i,a,h=!0){const u=i?i.vnode:null,{errorHandler:p,throwUnhandledErrorInProduction:f}=i&&i.appContext.config||At;if(i){let g=i.parent;const v=i.proxy,E=`https://vuejs.org/error-reference/#runtime-${a}`;for(;g;){const w=g.ec;if(w){for(let _=0;_<w.length;_++)if(w[_](s,v,E)===!1)return}g=g.parent}if(p){Ci(),an(p,null,10,[s,v,E]),yi();return}}Od(s,a,u,h,f)}function Od(s,i,a,h=!0,u=!1){if(u)throw s;console.error(s)}const ae=[];let He=-1;const cs=[];let di=null,ts=0;const kh=Promise.resolve();let Hn=null;function Ah(s){const i=Hn||kh;return s?i.then(this?s.bind(this):s):i}function Pd(s){let i=He+1,a=ae.length;for(;i<a;){const h=i+a>>>1,u=ae[h],p=Zs(u);p<s||p===s&&u.flags&2?i=h+1:a=h}return i}function Qr(s){if(!(s.flags&1)){const i=Zs(s),a=ae[ae.length-1];!a||!(s.flags&2)&&i>=Zs(a)?ae.push(s):ae.splice(Pd(i),0,s),s.flags|=1,Dh()}}function Dh(){Hn||(Hn=kh.then(Ph))}function Hd(s){ct(s)?cs.push(...s):di&&s.id===-1?di.splice(ts+1,0,s):s.flags&1||(cs.push(s),s.flags|=1),Dh()}function Oa(s,i,a=He+1){for(;a<ae.length;a++){const h=ae[a];if(h&&h.flags&2){if(s&&h.id!==s.uid)continue;ae.splice(a,1),a--,h.flags&4&&(h.flags&=-2),h(),h.flags&4||(h.flags&=-2)}}}function Oh(s){if(cs.length){const i=[...new Set(cs)].sort((a,h)=>Zs(a)-Zs(h));if(cs.length=0,di){di.push(...i);return}for(di=i,ts=0;ts<di.length;ts++){const a=di[ts];a.flags&4&&(a.flags&=-2),a.flags&8||a(),a.flags&=-2}di=null,ts=0}}const Zs=s=>s.id==null?s.flags&2?-1:1/0:s.id;function Ph(s){try{for(He=0;He<ae.length;He++){const i=ae[He];i&&!(i.flags&8)&&(i.flags&4&&(i.flags&=-2),an(i,i.i,i.i?15:14),i.flags&4||(i.flags&=-2))}}finally{for(;He<ae.length;He++){const i=ae[He];i&&(i.flags&=-2)}He=-1,ae.length=0,Oh(),Hn=null,(ae.length||cs.length)&&Ph()}}let Me=null,Hh=null;function Fn(s){const i=Me;return Me=s,Hh=s&&s.type.__scopeId||null,i}function es(s,i=Me,a){if(!i||s._n)return s;const h=(...u)=>{h._d&&Wa(-1);const p=Fn(i);let f;try{f=s(...u)}finally{Fn(p),h._d&&Wa(1)}return f};return h._n=!0,h._c=!0,h._d=!0,h}function Ai(s,i,a,h){const u=s.dirs,p=i&&i.dirs;for(let f=0;f<u.length;f++){const g=u[f];p&&(g.oldValue=p[f].value);let v=g.dir[h];v&&(Ci(),Ve(v,a,8,[s.el,g,s,i]),yi())}}const Fd=Symbol("_vte"),zd=s=>s.__isTeleport;function Zr(s,i){s.shapeFlag&6&&s.component?(s.transition=i,Zr(s.component.subTree,i)):s.shapeFlag&128?(s.ssContent.transition=i.clone(s.ssContent),s.ssFallback.transition=i.clone(s.ssFallback)):s.transition=i}/*! #__NO_SIDE_EFFECTS__ */function Fh(s,i){return dt(s)?$t({name:s.name},i,{setup:s}):s}function zh(s){s.ids=[s.ids[0]+s.ids[2]+++"-",0,0]}function zn(s,i,a,h,u=!1){if(ct(s)){s.forEach((V,O)=>zn(V,i&&(ct(i)?i[O]:i),a,h,u));return}if(js(h)&&!u){h.shapeFlag&512&&h.type.__asyncResolved&&h.component.subTree.component&&zn(s,i,a,h.component.subTree);return}const p=h.shapeFlag&4?sa(h.component):h.el,f=u?null:p,{i:g,r:v}=s,E=i&&i.r,w=g.refs===At?g.refs={}:g.refs,_=g.setupState,S=_t(_),M=_===At?()=>!1:V=>Tt(S,V);if(E!=null&&E!==v&&(Vt(E)?(w[E]=null,M(E)&&(_[E]=null)):te(E)&&(E.value=null)),dt(v))an(v,g,12,[f,w]);else{const V=Vt(v),O=te(v);if(V||O){const W=()=>{if(s.f){const Y=V?M(v)?_[v]:w[v]:v.value;u?ct(Y)&&Vr(Y,p):ct(Y)?Y.includes(p)||Y.push(p):V?(w[v]=[p],M(v)&&(_[v]=w[v])):(v.value=[p],s.k&&(w[s.k]=v.value))}else V?(w[v]=f,M(v)&&(_[v]=f)):O&&(v.value=f,s.k&&(w[s.k]=f))};f?(W.id=-1,fe(W,a)):W()}}}qn().requestIdleCallback;qn().cancelIdleCallback;const js=s=>!!s.type.__asyncLoader,Nh=s=>s.type.__isKeepAlive;function Nd(s,i){Ih(s,"a",i)}function Id(s,i){Ih(s,"da",i)}function Ih(s,i,a=Zt){const h=s.__wdc||(s.__wdc=()=>{let u=a;for(;u;){if(u.isDeactivated)return;u=u.parent}return s()});if(Qn(i,h,a),a){let u=a.parent;for(;u&&u.parent;)Nh(u.parent.vnode)&&Bd(h,i,a,u),u=u.parent}}function Bd(s,i,a,h){const u=Qn(i,s,h,!0);Bh(()=>{Vr(h[i],u)},a)}function Qn(s,i,a=Zt,h=!1){if(a){const u=a[s]||(a[s]=[]),p=i.__weh||(i.__weh=(...f)=>{Ci();const g=ln(a),v=Ve(i,a,s,f);return g(),yi(),v});return h?u.unshift(p):u.push(p),p}}const ti=s=>(i,a=Zt)=>{(!sn||s==="sp")&&Qn(s,(...h)=>i(...h),a)},Vd=ti("bm"),_i=ti("m"),Wd=ti("bu"),jd=ti("u"),$d=ti("bum"),Bh=ti("um"),Gd=ti("sp"),Ud=ti("rtg"),Kd=ti("rtc");function Yd(s,i=Zt){Qn("ec",s,i)}const qd="components";function Vh(s,i){return Jd(qd,s,!0,i)||s}const Xd=Symbol.for("v-ndc");function Jd(s,i,a=!0,h=!1){const u=Me||Zt;if(u){const p=u.type;{const g=Np(p,!1);if(g&&(g===i||g===_e(i)||g===Yn(_e(i))))return p}const f=Pa(u[s]||p[s],i)||Pa(u.appContext[s],i);return!f&&h?p:f}}function Pa(s,i){return s&&(s[i]||s[_e(i)]||s[Yn(_e(i))])}const _r=s=>s?rc(s)?sa(s):_r(s.parent):null,$s=$t(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>_r(s.parent),$root:s=>_r(s.root),$host:s=>s.ce,$emit:s=>s.emit,$options:s=>ta(s),$forceUpdate:s=>s.f||(s.f=()=>{Qr(s.update)}),$nextTick:s=>s.n||(s.n=Ah.bind(s.proxy)),$watch:s=>vp.bind(s)}),Ko=(s,i)=>s!==At&&!s.__isScriptSetup&&Tt(s,i),Qd={get({_:s},i){if(i==="__v_skip")return!0;const{ctx:a,setupState:h,data:u,props:p,accessCache:f,type:g,appContext:v}=s;let E;if(i[0]!=="$"){const M=f[i];if(M!==void 0)switch(M){case 1:return h[i];case 2:return u[i];case 4:return a[i];case 3:return p[i]}else{if(Ko(h,i))return f[i]=1,h[i];if(u!==At&&Tt(u,i))return f[i]=2,u[i];if((E=s.propsOptions[0])&&Tt(E,i))return f[i]=3,p[i];if(a!==At&&Tt(a,i))return f[i]=4,a[i];Tr&&(f[i]=0)}}const w=$s[i];let _,S;if(w)return i==="$attrs"&&Qt(s.attrs,"get",""),w(s);if((_=g.__cssModules)&&(_=_[i]))return _;if(a!==At&&Tt(a,i))return f[i]=4,a[i];if(S=v.config.globalProperties,Tt(S,i))return S[i]},set({_:s},i,a){const{data:h,setupState:u,ctx:p}=s;return Ko(u,i)?(u[i]=a,!0):h!==At&&Tt(h,i)?(h[i]=a,!0):Tt(s.props,i)||i[0]==="$"&&i.slice(1)in s?!1:(p[i]=a,!0)},has({_:{data:s,setupState:i,accessCache:a,ctx:h,appContext:u,propsOptions:p}},f){let g;return!!a[f]||s!==At&&Tt(s,f)||Ko(i,f)||(g=p[0])&&Tt(g,f)||Tt(h,f)||Tt($s,f)||Tt(u.config.globalProperties,f)},defineProperty(s,i,a){return a.get!=null?s._.accessCache[i]=0:Tt(a,"value")&&this.set(s,i,a.value,null),Reflect.defineProperty(s,i,a)}};function Ha(s){return ct(s)?s.reduce((i,a)=>(i[a]=null,i),{}):s}let Tr=!0;function Zd(s){const i=ta(s),a=s.proxy,h=s.ctx;Tr=!1,i.beforeCreate&&Fa(i.beforeCreate,s,"bc");const{data:u,computed:p,methods:f,watch:g,provide:v,inject:E,created:w,beforeMount:_,mounted:S,beforeUpdate:M,updated:V,activated:O,deactivated:W,beforeDestroy:Y,beforeUnmount:U,destroyed:Q,unmounted:I,render:nt,renderTracked:lt,renderTriggered:ht,errorCaptured:Ct,serverPrefetch:Rt,expose:wt,inheritAttrs:Mt,components:Pt,directives:Z,filters:qt}=i;if(E&&tp(E,h,null),f)for(const ut in f){const mt=f[ut];dt(mt)&&(h[ut]=mt.bind(a))}if(u){const ut=u.call(a,a);Dt(ut)&&(s.data=Xn(ut))}if(Tr=!0,p)for(const ut in p){const mt=p[ut],zt=dt(mt)?mt.bind(a,a):dt(mt.get)?mt.get.bind(a,a):Ne,Gt=!dt(mt)&&dt(mt.set)?mt.set.bind(a):Ne,Wt=Ce({get:zt,set:Gt});Object.defineProperty(h,ut,{enumerable:!0,configurable:!0,get:()=>Wt.value,set:Ot=>Wt.value=Ot})}if(g)for(const ut in g)Wh(g[ut],h,a,ut);if(v){const ut=dt(v)?v.call(a):v;Reflect.ownKeys(ut).forEach(mt=>{Mn(mt,ut[mt])})}w&&Fa(w,s,"c");function gt(ut,mt){ct(mt)?mt.forEach(zt=>ut(zt.bind(a))):mt&&ut(mt.bind(a))}if(gt(Vd,_),gt(_i,S),gt(Wd,M),gt(jd,V),gt(Nd,O),gt(Id,W),gt(Yd,Ct),gt(Kd,lt),gt(Ud,ht),gt($d,U),gt(Bh,I),gt(Gd,Rt),ct(wt))if(wt.length){const ut=s.exposed||(s.exposed={});wt.forEach(mt=>{Object.defineProperty(ut,mt,{get:()=>a[mt],set:zt=>a[mt]=zt})})}else s.exposed||(s.exposed={});nt&&s.render===Ne&&(s.render=nt),Mt!=null&&(s.inheritAttrs=Mt),Pt&&(s.components=Pt),Z&&(s.directives=Z),Rt&&zh(s)}function tp(s,i,a=Ne){ct(s)&&(s=Rr(s));for(const h in s){const u=s[h];let p;Dt(u)?"default"in u?p=Ae(u.from||h,u.default,!0):p=Ae(u.from||h):p=Ae(u),te(p)?Object.defineProperty(i,h,{enumerable:!0,configurable:!0,get:()=>p.value,set:f=>p.value=f}):i[h]=p}}function Fa(s,i,a){Ve(ct(s)?s.map(h=>h.bind(i.proxy)):s.bind(i.proxy),i,a)}function Wh(s,i,a,h){let u=h.includes(".")?ic(a,h):()=>a[h];if(Vt(s)){const p=i[s];dt(p)&&Gs(u,p)}else if(dt(s))Gs(u,s.bind(a));else if(Dt(s))if(ct(s))s.forEach(p=>Wh(p,i,a,h));else{const p=dt(s.handler)?s.handler.bind(a):i[s.handler];dt(p)&&Gs(u,p,s)}}function ta(s){const i=s.type,{mixins:a,extends:h}=i,{mixins:u,optionsCache:p,config:{optionMergeStrategies:f}}=s.appContext,g=p.get(i);let v;return g?v=g:!u.length&&!a&&!h?v=i:(v={},u.length&&u.forEach(E=>Nn(v,E,f,!0)),Nn(v,i,f)),Dt(i)&&p.set(i,v),v}function Nn(s,i,a,h=!1){const{mixins:u,extends:p}=i;p&&Nn(s,p,a,!0),u&&u.forEach(f=>Nn(s,f,a,!0));for(const f in i)if(!(h&&f==="expose")){const g=ep[f]||a&&a[f];s[f]=g?g(s[f],i[f]):i[f]}return s}const ep={data:za,props:Na,emits:Na,methods:zs,computed:zs,beforeCreate:oe,created:oe,beforeMount:oe,mounted:oe,beforeUpdate:oe,updated:oe,beforeDestroy:oe,beforeUnmount:oe,destroyed:oe,unmounted:oe,activated:oe,deactivated:oe,errorCaptured:oe,serverPrefetch:oe,components:zs,directives:zs,watch:sp,provide:za,inject:ip};function za(s,i){return i?s?function(){return $t(dt(s)?s.call(this,this):s,dt(i)?i.call(this,this):i)}:i:s}function ip(s,i){return zs(Rr(s),Rr(i))}function Rr(s){if(ct(s)){const i={};for(let a=0;a<s.length;a++)i[s[a]]=s[a];return i}return s}function oe(s,i){return s?[...new Set([].concat(s,i))]:i}function zs(s,i){return s?$t(Object.create(null),s,i):i}function Na(s,i){return s?ct(s)&&ct(i)?[...new Set([...s,...i])]:$t(Object.create(null),Ha(s),Ha(i??{})):i}function sp(s,i){if(!s)return i;if(!i)return s;const a=$t(Object.create(null),s);for(const h in i)a[h]=oe(s[h],i[h]);return a}function jh(){return{app:null,config:{isNativeTag:Ku,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let np=0;function op(s,i){return function(h,u=null){dt(h)||(h=$t({},h)),u!=null&&!Dt(u)&&(u=null);const p=jh(),f=new WeakSet,g=[];let v=!1;const E=p.app={_uid:np++,_component:h,_props:u,_container:null,_context:p,_instance:null,version:Bp,get config(){return p.config},set config(w){},use(w,..._){return f.has(w)||(w&&dt(w.install)?(f.add(w),w.install(E,..._)):dt(w)&&(f.add(w),w(E,..._))),E},mixin(w){return p.mixins.includes(w)||p.mixins.push(w),E},component(w,_){return _?(p.components[w]=_,E):p.components[w]},directive(w,_){return _?(p.directives[w]=_,E):p.directives[w]},mount(w,_,S){if(!v){const M=E._ceVNode||Bt(h,u);return M.appContext=p,S===!0?S="svg":S===!1&&(S=void 0),_&&i?i(M,w):s(M,w,S),v=!0,E._container=w,w.__vue_app__=E,sa(M.component)}},onUnmount(w){g.push(w)},unmount(){v&&(Ve(g,E._instance,16),s(null,E._container),delete E._container.__vue_app__)},provide(w,_){return p.provides[w]=_,E},runWithContext(w){const _=us;us=E;try{return w()}finally{us=_}}};return E}}let us=null;function Mn(s,i){if(Zt){let a=Zt.provides;const h=Zt.parent&&Zt.parent.provides;h===a&&(a=Zt.provides=Object.create(h)),a[s]=i}}function Ae(s,i,a=!1){const h=Zt||Me;if(h||us){const u=us?us._context.provides:h?h.parent==null?h.vnode.appContext&&h.vnode.appContext.provides:h.parent.provides:void 0;if(u&&s in u)return u[s];if(arguments.length>1)return a&&dt(i)?i.call(h&&h.proxy):i}}const $h={},Gh=()=>Object.create($h),Uh=s=>Object.getPrototypeOf(s)===$h;function rp(s,i,a,h=!1){const u={},p=Gh();s.propsDefaults=Object.create(null),Kh(s,i,u,p);for(const f in s.propsOptions[0])f in u||(u[f]=void 0);a?s.props=h?u:Rh(u):s.type.props?s.props=u:s.props=p,s.attrs=p}function ap(s,i,a,h){const{props:u,attrs:p,vnode:{patchFlag:f}}=s,g=_t(u),[v]=s.propsOptions;let E=!1;if((h||f>0)&&!(f&16)){if(f&8){const w=s.vnode.dynamicProps;for(let _=0;_<w.length;_++){let S=w[_];if(Zn(s.emitsOptions,S))continue;const M=i[S];if(v)if(Tt(p,S))M!==p[S]&&(p[S]=M,E=!0);else{const V=_e(S);u[V]=xr(v,g,V,M,s,!1)}else M!==p[S]&&(p[S]=M,E=!0)}}}else{Kh(s,i,u,p)&&(E=!0);let w;for(const _ in g)(!i||!Tt(i,_)&&((w=Wi(_))===_||!Tt(i,w)))&&(v?a&&(a[_]!==void 0||a[w]!==void 0)&&(u[_]=xr(v,g,_,void 0,s,!0)):delete u[_]);if(p!==g)for(const _ in p)(!i||!Tt(i,_))&&(delete p[_],E=!0)}E&&Xe(s.attrs,"set","")}function Kh(s,i,a,h){const[u,p]=s.propsOptions;let f=!1,g;if(i)for(let v in i){if(Is(v))continue;const E=i[v];let w;u&&Tt(u,w=_e(v))?!p||!p.includes(w)?a[w]=E:(g||(g={}))[w]=E:Zn(s.emitsOptions,v)||(!(v in h)||E!==h[v])&&(h[v]=E,f=!0)}if(p){const v=_t(a),E=g||At;for(let w=0;w<p.length;w++){const _=p[w];a[_]=xr(u,v,_,E[_],s,!Tt(E,_))}}return f}function xr(s,i,a,h,u,p){const f=s[a];if(f!=null){const g=Tt(f,"default");if(g&&h===void 0){const v=f.default;if(f.type!==Function&&!f.skipFactory&&dt(v)){const{propsDefaults:E}=u;if(a in E)h=E[a];else{const w=ln(u);h=E[a]=v.call(null,i),w()}}else h=v;u.ce&&u.ce._setProp(a,h)}f[0]&&(p&&!g?h=!1:f[1]&&(h===""||h===Wi(a))&&(h=!0))}return h}const lp=new WeakMap;function Yh(s,i,a=!1){const h=a?lp:i.propsCache,u=h.get(s);if(u)return u;const p=s.props,f={},g=[];let v=!1;if(!dt(s)){const w=_=>{v=!0;const[S,M]=Yh(_,i,!0);$t(f,S),M&&g.push(...M)};!a&&i.mixins.length&&i.mixins.forEach(w),s.extends&&w(s.extends),s.mixins&&s.mixins.forEach(w)}if(!p&&!v)return Dt(s)&&h.set(s,ls),ls;if(ct(p))for(let w=0;w<p.length;w++){const _=_e(p[w]);Ia(_)&&(f[_]=At)}else if(p)for(const w in p){const _=_e(w);if(Ia(_)){const S=p[w],M=f[_]=ct(S)||dt(S)?{type:S}:$t({},S),V=M.type;let O=!1,W=!0;if(ct(V))for(let Y=0;Y<V.length;++Y){const U=V[Y],Q=dt(U)&&U.name;if(Q==="Boolean"){O=!0;break}else Q==="String"&&(W=!1)}else O=dt(V)&&V.name==="Boolean";M[0]=O,M[1]=W,(O||Tt(M,"default"))&&g.push(_)}}const E=[f,g];return Dt(s)&&h.set(s,E),E}function Ia(s){return s[0]!=="$"&&!Is(s)}const qh=s=>s[0]==="_"||s==="$stable",ea=s=>ct(s)?s.map(Fe):[Fe(s)],hp=(s,i,a)=>{if(i._n)return i;const h=es((...u)=>ea(i(...u)),a);return h._c=!1,h},Xh=(s,i,a)=>{const h=s._ctx;for(const u in s){if(qh(u))continue;const p=s[u];if(dt(p))i[u]=hp(u,p,h);else if(p!=null){const f=ea(p);i[u]=()=>f}}},Jh=(s,i)=>{const a=ea(i);s.slots.default=()=>a},Qh=(s,i,a)=>{for(const h in i)(a||h!=="_")&&(s[h]=i[h])},cp=(s,i,a)=>{const h=s.slots=Gh();if(s.vnode.shapeFlag&32){const u=i._;u?(Qh(h,i,a),a&&ah(h,"_",u,!0)):Xh(i,h)}else i&&Jh(s,i)},up=(s,i,a)=>{const{vnode:h,slots:u}=s;let p=!0,f=At;if(h.shapeFlag&32){const g=i._;g?a&&g===1?p=!1:Qh(u,i,a):(p=!i.$stable,Xh(i,u)),f=i}else i&&(Jh(s,i),f={default:1});if(p)for(const g in u)!qh(g)&&f[g]==null&&delete u[g]},fe=Rp;function dp(s){return pp(s)}function pp(s,i){const a=qn();a.__VUE__=!0;const{insert:h,remove:u,patchProp:p,createElement:f,createText:g,createComment:v,setText:E,setElementText:w,parentNode:_,nextSibling:S,setScopeId:M=Ne,insertStaticContent:V}=s,O=(y,T,k,P=null,A=null,N=null,q=void 0,j=null,$=!!T.dynamicChildren)=>{if(y===T)return;y&&!Os(y,T)&&(P=D(y),Ot(y,A,N,!0),y=null),T.patchFlag===-2&&($=!1,T.dynamicChildren=null);const{type:z,ref:ot,shapeFlag:J}=T;switch(z){case to:W(y,T,k,P);break;case tn:Y(y,T,k,P);break;case Xo:y==null&&U(T,k,P,q);break;case qe:Pt(y,T,k,P,A,N,q,j,$);break;default:J&1?nt(y,T,k,P,A,N,q,j,$):J&6?Z(y,T,k,P,A,N,q,j,$):(J&64||J&128)&&z.process(y,T,k,P,A,N,q,j,$,tt)}ot!=null&&A&&zn(ot,y&&y.ref,N,T||y,!T)},W=(y,T,k,P)=>{if(y==null)h(T.el=g(T.children),k,P);else{const A=T.el=y.el;T.children!==y.children&&E(A,T.children)}},Y=(y,T,k,P)=>{y==null?h(T.el=v(T.children||""),k,P):T.el=y.el},U=(y,T,k,P)=>{[y.el,y.anchor]=V(y.children,T,k,P,y.el,y.anchor)},Q=({el:y,anchor:T},k,P)=>{let A;for(;y&&y!==T;)A=S(y),h(y,k,P),y=A;h(T,k,P)},I=({el:y,anchor:T})=>{let k;for(;y&&y!==T;)k=S(y),u(y),y=k;u(T)},nt=(y,T,k,P,A,N,q,j,$)=>{T.type==="svg"?q="svg":T.type==="math"&&(q="mathml"),y==null?lt(T,k,P,A,N,q,j,$):Rt(y,T,A,N,q,j,$)},lt=(y,T,k,P,A,N,q,j)=>{let $,z;const{props:ot,shapeFlag:J,transition:st,dirs:at}=y;if($=y.el=f(y.type,N,ot&&ot.is,ot),J&8?w($,y.children):J&16&&Ct(y.children,$,null,P,A,Yo(y,N),q,j),at&&Ai(y,null,P,"created"),ht($,y,y.scopeId,q,P),ot){for(const vt in ot)vt!=="value"&&!Is(vt)&&p($,vt,null,ot[vt],N,P);"value"in ot&&p($,"value",null,ot.value,N),(z=ot.onVnodeBeforeMount)&&Pe(z,P,y)}at&&Ai(y,null,P,"beforeMount");const pt=mp(A,st);pt&&st.beforeEnter($),h($,T,k),((z=ot&&ot.onVnodeMounted)||pt||at)&&fe(()=>{z&&Pe(z,P,y),pt&&st.enter($),at&&Ai(y,null,P,"mounted")},A)},ht=(y,T,k,P,A)=>{if(k&&M(y,k),P)for(let N=0;N<P.length;N++)M(y,P[N]);if(A){let N=A.subTree;if(T===N||nc(N.type)&&(N.ssContent===T||N.ssFallback===T)){const q=A.vnode;ht(y,q,q.scopeId,q.slotScopeIds,A.parent)}}},Ct=(y,T,k,P,A,N,q,j,$=0)=>{for(let z=$;z<y.length;z++){const ot=y[z]=j?pi(y[z]):Fe(y[z]);O(null,ot,T,k,P,A,N,q,j)}},Rt=(y,T,k,P,A,N,q)=>{const j=T.el=y.el;let{patchFlag:$,dynamicChildren:z,dirs:ot}=T;$|=y.patchFlag&16;const J=y.props||At,st=T.props||At;let at;if(k&&Di(k,!1),(at=st.onVnodeBeforeUpdate)&&Pe(at,k,T,y),ot&&Ai(T,y,k,"beforeUpdate"),k&&Di(k,!0),(J.innerHTML&&st.innerHTML==null||J.textContent&&st.textContent==null)&&w(j,""),z?wt(y.dynamicChildren,z,j,k,P,Yo(T,A),N):q||mt(y,T,j,null,k,P,Yo(T,A),N,!1),$>0){if($&16)Mt(j,J,st,k,A);else if($&2&&J.class!==st.class&&p(j,"class",null,st.class,A),$&4&&p(j,"style",J.style,st.style,A),$&8){const pt=T.dynamicProps;for(let vt=0;vt<pt.length;vt++){const Et=pt[vt],ie=J[Et],Ft=st[Et];(Ft!==ie||Et==="value")&&p(j,Et,ie,Ft,A,k)}}$&1&&y.children!==T.children&&w(j,T.children)}else!q&&z==null&&Mt(j,J,st,k,A);((at=st.onVnodeUpdated)||ot)&&fe(()=>{at&&Pe(at,k,T,y),ot&&Ai(T,y,k,"updated")},P)},wt=(y,T,k,P,A,N,q)=>{for(let j=0;j<T.length;j++){const $=y[j],z=T[j],ot=$.el&&($.type===qe||!Os($,z)||$.shapeFlag&70)?_($.el):k;O($,z,ot,null,P,A,N,q,!0)}},Mt=(y,T,k,P,A)=>{if(T!==k){if(T!==At)for(const N in T)!Is(N)&&!(N in k)&&p(y,N,T[N],null,A,P);for(const N in k){if(Is(N))continue;const q=k[N],j=T[N];q!==j&&N!=="value"&&p(y,N,j,q,A,P)}"value"in k&&p(y,"value",T.value,k.value,A)}},Pt=(y,T,k,P,A,N,q,j,$)=>{const z=T.el=y?y.el:g(""),ot=T.anchor=y?y.anchor:g("");let{patchFlag:J,dynamicChildren:st,slotScopeIds:at}=T;at&&(j=j?j.concat(at):at),y==null?(h(z,k,P),h(ot,k,P),Ct(T.children||[],k,ot,A,N,q,j,$)):J>0&&J&64&&st&&y.dynamicChildren?(wt(y.dynamicChildren,st,k,A,N,q,j),(T.key!=null||A&&T===A.subTree)&&Zh(y,T,!0)):mt(y,T,k,ot,A,N,q,j,$)},Z=(y,T,k,P,A,N,q,j,$)=>{T.slotScopeIds=j,y==null?T.shapeFlag&512?A.ctx.activate(T,k,P,q,$):qt(T,k,P,A,N,q,$):Xt(y,T,$)},qt=(y,T,k,P,A,N,q)=>{const j=y.component=Op(y,P,A);if(Nh(y)&&(j.ctx.renderer=tt),Pp(j,!1,q),j.asyncDep){if(A&&A.registerDep(j,gt,q),!y.el){const $=j.subTree=Bt(tn);Y(null,$,T,k)}}else gt(j,y,T,k,A,N,q)},Xt=(y,T,k)=>{const P=T.component=y.component;if(_p(y,T,k))if(P.asyncDep&&!P.asyncResolved){ut(P,T,k);return}else P.next=T,P.update();else T.el=y.el,P.vnode=T},gt=(y,T,k,P,A,N,q)=>{const j=()=>{if(y.isMounted){let{next:J,bu:st,u:at,parent:pt,vnode:vt}=y;{const Kt=tc(y);if(Kt){J&&(J.el=vt.el,ut(y,J,q)),Kt.asyncDep.then(()=>{y.isUnmounted||j()});return}}let Et=J,ie;Di(y,!1),J?(J.el=vt.el,ut(y,J,q)):J=vt,st&&Wo(st),(ie=J.props&&J.props.onVnodeBeforeUpdate)&&Pe(ie,pt,J,vt),Di(y,!0);const Ft=qo(y),de=y.subTree;y.subTree=Ft,O(de,Ft,_(de.el),D(de),y,A,N),J.el=Ft.el,Et===null&&Tp(y,Ft.el),at&&fe(at,A),(ie=J.props&&J.props.onVnodeUpdated)&&fe(()=>Pe(ie,pt,J,vt),A)}else{let J;const{el:st,props:at}=T,{bm:pt,m:vt,parent:Et,root:ie,type:Ft}=y,de=js(T);if(Di(y,!1),pt&&Wo(pt),!de&&(J=at&&at.onVnodeBeforeMount)&&Pe(J,Et,T),Di(y,!0),st&&Lt){const Kt=()=>{y.subTree=qo(y),Lt(st,y.subTree,y,A,null)};de&&Ft.__asyncHydrate?Ft.__asyncHydrate(st,y,Kt):Kt()}else{ie.ce&&ie.ce._injectChildStyle(Ft);const Kt=y.subTree=qo(y);O(null,Kt,k,P,y,A,N),T.el=Kt.el}if(vt&&fe(vt,A),!de&&(J=at&&at.onVnodeMounted)){const Kt=T;fe(()=>Pe(J,Et,Kt),A)}(T.shapeFlag&256||Et&&js(Et.vnode)&&Et.vnode.shapeFlag&256)&&y.a&&fe(y.a,A),y.isMounted=!0,T=k=P=null}};y.scope.on();const $=y.effect=new uh(j);y.scope.off();const z=y.update=$.run.bind($),ot=y.job=$.runIfDirty.bind($);ot.i=y,ot.id=y.uid,$.scheduler=()=>Qr(ot),Di(y,!0),z()},ut=(y,T,k)=>{T.component=y;const P=y.vnode.props;y.vnode=T,y.next=null,ap(y,T.props,P,k),up(y,T.children,k),Ci(),Oa(y),yi()},mt=(y,T,k,P,A,N,q,j,$=!1)=>{const z=y&&y.children,ot=y?y.shapeFlag:0,J=T.children,{patchFlag:st,shapeFlag:at}=T;if(st>0){if(st&128){Gt(z,J,k,P,A,N,q,j,$);return}else if(st&256){zt(z,J,k,P,A,N,q,j,$);return}}at&8?(ot&16&&Ht(z,A,N),J!==z&&w(k,J)):ot&16?at&16?Gt(z,J,k,P,A,N,q,j,$):Ht(z,A,N,!0):(ot&8&&w(k,""),at&16&&Ct(J,k,P,A,N,q,j,$))},zt=(y,T,k,P,A,N,q,j,$)=>{y=y||ls,T=T||ls;const z=y.length,ot=T.length,J=Math.min(z,ot);let st;for(st=0;st<J;st++){const at=T[st]=$?pi(T[st]):Fe(T[st]);O(y[st],at,k,null,A,N,q,j,$)}z>ot?Ht(y,A,N,!0,!1,J):Ct(T,k,P,A,N,q,j,$,J)},Gt=(y,T,k,P,A,N,q,j,$)=>{let z=0;const ot=T.length;let J=y.length-1,st=ot-1;for(;z<=J&&z<=st;){const at=y[z],pt=T[z]=$?pi(T[z]):Fe(T[z]);if(Os(at,pt))O(at,pt,k,null,A,N,q,j,$);else break;z++}for(;z<=J&&z<=st;){const at=y[J],pt=T[st]=$?pi(T[st]):Fe(T[st]);if(Os(at,pt))O(at,pt,k,null,A,N,q,j,$);else break;J--,st--}if(z>J){if(z<=st){const at=st+1,pt=at<ot?T[at].el:P;for(;z<=st;)O(null,T[z]=$?pi(T[z]):Fe(T[z]),k,pt,A,N,q,j,$),z++}}else if(z>st)for(;z<=J;)Ot(y[z],A,N,!0),z++;else{const at=z,pt=z,vt=new Map;for(z=pt;z<=st;z++){const se=T[z]=$?pi(T[z]):Fe(T[z]);se.key!=null&&vt.set(se.key,z)}let Et,ie=0;const Ft=st-pt+1;let de=!1,Kt=0;const Si=new Array(Ft);for(z=0;z<Ft;z++)Si[z]=0;for(z=at;z<=J;z++){const se=y[z];if(ie>=Ft){Ot(se,A,N,!0);continue}let Yt;if(se.key!=null)Yt=vt.get(se.key);else for(Et=pt;Et<=st;Et++)if(Si[Et-pt]===0&&Os(se,T[Et])){Yt=Et;break}Yt===void 0?Ot(se,A,N,!0):(Si[Yt-pt]=z+1,Yt>=Kt?Kt=Yt:de=!0,O(se,T[Yt],k,null,A,N,q,j,$),ie++)}const Gi=de?fp(Si):ls;for(Et=Gi.length-1,z=Ft-1;z>=0;z--){const se=pt+z,Yt=T[se],fn=se+1<ot?T[se+1].el:P;Si[z]===0?O(null,Yt,k,fn,A,N,q,j,$):de&&(Et<0||z!==Gi[Et]?Wt(Yt,k,fn,2):Et--)}}},Wt=(y,T,k,P,A=null)=>{const{el:N,type:q,transition:j,children:$,shapeFlag:z}=y;if(z&6){Wt(y.component.subTree,T,k,P);return}if(z&128){y.suspense.move(T,k,P);return}if(z&64){q.move(y,T,k,tt);return}if(q===qe){h(N,T,k);for(let J=0;J<$.length;J++)Wt($[J],T,k,P);h(y.anchor,T,k);return}if(q===Xo){Q(y,T,k);return}if(P!==2&&z&1&&j)if(P===0)j.beforeEnter(N),h(N,T,k),fe(()=>j.enter(N),A);else{const{leave:J,delayLeave:st,afterLeave:at}=j,pt=()=>h(N,T,k),vt=()=>{J(N,()=>{pt(),at&&at()})};st?st(N,pt,vt):vt()}else h(N,T,k)},Ot=(y,T,k,P=!1,A=!1)=>{const{type:N,props:q,ref:j,children:$,dynamicChildren:z,shapeFlag:ot,patchFlag:J,dirs:st,cacheIndex:at}=y;if(J===-2&&(A=!1),j!=null&&zn(j,null,k,y,!0),at!=null&&(T.renderCache[at]=void 0),ot&256){T.ctx.deactivate(y);return}const pt=ot&1&&st,vt=!js(y);let Et;if(vt&&(Et=q&&q.onVnodeBeforeUnmount)&&Pe(Et,T,y),ot&6)Ut(y.component,k,P);else{if(ot&128){y.suspense.unmount(k,P);return}pt&&Ai(y,null,T,"beforeUnmount"),ot&64?y.type.remove(y,T,k,tt,P):z&&!z.hasOnce&&(N!==qe||J>0&&J&64)?Ht(z,T,k,!1,!0):(N===qe&&J&384||!A&&ot&16)&&Ht($,T,k),P&&Nt(y)}(vt&&(Et=q&&q.onVnodeUnmounted)||pt)&&fe(()=>{Et&&Pe(Et,T,y),pt&&Ai(y,null,T,"unmounted")},k)},Nt=y=>{const{type:T,el:k,anchor:P,transition:A}=y;if(T===qe){ee(k,P);return}if(T===Xo){I(y);return}const N=()=>{u(k),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(y.shapeFlag&1&&A&&!A.persisted){const{leave:q,delayLeave:j}=A,$=()=>q(k,N);j?j(y.el,N,$):$()}else N()},ee=(y,T)=>{let k;for(;y!==T;)k=S(y),u(y),y=k;u(T)},Ut=(y,T,k)=>{const{bum:P,scope:A,job:N,subTree:q,um:j,m:$,a:z}=y;Ba($),Ba(z),P&&Wo(P),A.stop(),N&&(N.flags|=8,Ot(q,y,T,k)),j&&fe(j,T),fe(()=>{y.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},Ht=(y,T,k,P=!1,A=!1,N=0)=>{for(let q=N;q<y.length;q++)Ot(y[q],T,k,P,A)},D=y=>{if(y.shapeFlag&6)return D(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const T=S(y.anchor||y.el),k=T&&T[Fd];return k?S(k):T};let X=!1;const K=(y,T,k)=>{y==null?T._vnode&&Ot(T._vnode,null,null,!0):O(T._vnode||null,y,T,null,null,null,k),T._vnode=y,X||(X=!0,Oa(),Oh(),X=!1)},tt={p:O,um:Ot,m:Wt,r:Nt,mt:qt,mc:Ct,pc:mt,pbc:wt,n:D,o:s};let ft,Lt;return{render:K,hydrate:ft,createApp:op(K,ft)}}function Yo({type:s,props:i},a){return a==="svg"&&s==="foreignObject"||a==="mathml"&&s==="annotation-xml"&&i&&i.encoding&&i.encoding.includes("html")?void 0:a}function Di({effect:s,job:i},a){a?(s.flags|=32,i.flags|=4):(s.flags&=-33,i.flags&=-5)}function mp(s,i){return(!s||s&&!s.pendingBranch)&&i&&!i.persisted}function Zh(s,i,a=!1){const h=s.children,u=i.children;if(ct(h)&&ct(u))for(let p=0;p<h.length;p++){const f=h[p];let g=u[p];g.shapeFlag&1&&!g.dynamicChildren&&((g.patchFlag<=0||g.patchFlag===32)&&(g=u[p]=pi(u[p]),g.el=f.el),!a&&g.patchFlag!==-2&&Zh(f,g)),g.type===to&&(g.el=f.el)}}function fp(s){const i=s.slice(),a=[0];let h,u,p,f,g;const v=s.length;for(h=0;h<v;h++){const E=s[h];if(E!==0){if(u=a[a.length-1],s[u]<E){i[h]=u,a.push(h);continue}for(p=0,f=a.length-1;p<f;)g=p+f>>1,s[a[g]]<E?p=g+1:f=g;E<s[a[p]]&&(p>0&&(i[h]=a[p-1]),a[p]=h)}}for(p=a.length,f=a[p-1];p-- >0;)a[p]=f,f=i[f];return a}function tc(s){const i=s.subTree.component;if(i)return i.asyncDep&&!i.asyncResolved?i:tc(i)}function Ba(s){if(s)for(let i=0;i<s.length;i++)s[i].flags|=8}const gp=Symbol.for("v-scx"),bp=()=>Ae(gp);function Gs(s,i,a){return ec(s,i,a)}function ec(s,i,a=At){const{immediate:h,deep:u,flush:p,once:f}=a,g=$t({},a),v=i&&h||!i&&p!=="post";let E;if(sn){if(p==="sync"){const M=bp();E=M.__watcherHandles||(M.__watcherHandles=[])}else if(!v){const M=()=>{};return M.stop=Ne,M.resume=Ne,M.pause=Ne,M}}const w=Zt;g.call=(M,V,O)=>Ve(M,w,V,O);let _=!1;p==="post"?g.scheduler=M=>{fe(M,w&&w.suspense)}:p!=="sync"&&(_=!0,g.scheduler=(M,V)=>{V?M():Qr(M)}),g.augmentJob=M=>{i&&(M.flags|=4),_&&(M.flags|=2,w&&(M.id=w.uid,M.i=w))};const S=Dd(s,i,g);return sn&&(E?E.push(S):v&&S()),S}function vp(s,i,a){const h=this.proxy,u=Vt(s)?s.includes(".")?ic(h,s):()=>h[s]:s.bind(h,h);let p;dt(i)?p=i:(p=i.handler,a=i);const f=ln(this),g=ec(u,p.bind(h),a);return f(),g}function ic(s,i){const a=i.split(".");return()=>{let h=s;for(let u=0;u<a.length&&h;u++)h=h[a[u]];return h}}const wp=(s,i)=>i==="modelValue"||i==="model-value"?s.modelModifiers:s[`${i}Modifiers`]||s[`${_e(i)}Modifiers`]||s[`${Wi(i)}Modifiers`];function Ep(s,i,...a){if(s.isUnmounted)return;const h=s.vnode.props||At;let u=a;const p=i.startsWith("update:"),f=p&&wp(h,i.slice(7));f&&(f.trim&&(u=a.map(w=>Vt(w)?w.trim():w)),f.number&&(u=a.map(Qu)));let g,v=h[g=Vo(i)]||h[g=Vo(_e(i))];!v&&p&&(v=h[g=Vo(Wi(i))]),v&&Ve(v,s,6,u);const E=h[g+"Once"];if(E){if(!s.emitted)s.emitted={};else if(s.emitted[g])return;s.emitted[g]=!0,Ve(E,s,6,u)}}function sc(s,i,a=!1){const h=i.emitsCache,u=h.get(s);if(u!==void 0)return u;const p=s.emits;let f={},g=!1;if(!dt(s)){const v=E=>{const w=sc(E,i,!0);w&&(g=!0,$t(f,w))};!a&&i.mixins.length&&i.mixins.forEach(v),s.extends&&v(s.extends),s.mixins&&s.mixins.forEach(v)}return!p&&!g?(Dt(s)&&h.set(s,null),null):(ct(p)?p.forEach(v=>f[v]=null):$t(f,p),Dt(s)&&h.set(s,f),f)}function Zn(s,i){return!s||!Gn(i)?!1:(i=i.slice(2).replace(/Once$/,""),Tt(s,i[0].toLowerCase()+i.slice(1))||Tt(s,Wi(i))||Tt(s,i))}function qo(s){const{type:i,vnode:a,proxy:h,withProxy:u,propsOptions:[p],slots:f,attrs:g,emit:v,render:E,renderCache:w,props:_,data:S,setupState:M,ctx:V,inheritAttrs:O}=s,W=Fn(s);let Y,U;try{if(a.shapeFlag&4){const I=u||h,nt=I;Y=Fe(E.call(nt,I,w,_,M,S,V)),U=g}else{const I=i;Y=Fe(I.length>1?I(_,{attrs:g,slots:f,emit:v}):I(_,null)),U=i.props?g:Cp(g)}}catch(I){Us.length=0,Jn(I,s,1),Y=Bt(tn)}let Q=Y;if(U&&O!==!1){const I=Object.keys(U),{shapeFlag:nt}=Q;I.length&&nt&7&&(p&&I.some(Br)&&(U=yp(U,p)),Q=ds(Q,U,!1,!0))}return a.dirs&&(Q=ds(Q,null,!1,!0),Q.dirs=Q.dirs?Q.dirs.concat(a.dirs):a.dirs),a.transition&&Zr(Q,a.transition),Y=Q,Fn(W),Y}const Cp=s=>{let i;for(const a in s)(a==="class"||a==="style"||Gn(a))&&((i||(i={}))[a]=s[a]);return i},yp=(s,i)=>{const a={};for(const h in s)(!Br(h)||!(h.slice(9)in i))&&(a[h]=s[h]);return a};function _p(s,i,a){const{props:h,children:u,component:p}=s,{props:f,children:g,patchFlag:v}=i,E=p.emitsOptions;if(i.dirs||i.transition)return!0;if(a&&v>=0){if(v&1024)return!0;if(v&16)return h?Va(h,f,E):!!f;if(v&8){const w=i.dynamicProps;for(let _=0;_<w.length;_++){const S=w[_];if(f[S]!==h[S]&&!Zn(E,S))return!0}}}else return(u||g)&&(!g||!g.$stable)?!0:h===f?!1:h?f?Va(h,f,E):!0:!!f;return!1}function Va(s,i,a){const h=Object.keys(i);if(h.length!==Object.keys(s).length)return!0;for(let u=0;u<h.length;u++){const p=h[u];if(i[p]!==s[p]&&!Zn(a,p))return!0}return!1}function Tp({vnode:s,parent:i},a){for(;i;){const h=i.subTree;if(h.suspense&&h.suspense.activeBranch===s&&(h.el=s.el),h===s)(s=i.vnode).el=a,i=i.parent;else break}}const nc=s=>s.__isSuspense;function Rp(s,i){i&&i.pendingBranch?ct(s)?i.effects.push(...s):i.effects.push(s):Hd(s)}const qe=Symbol.for("v-fgt"),to=Symbol.for("v-txt"),tn=Symbol.for("v-cmt"),Xo=Symbol.for("v-stc"),Us=[];let be=null;function ei(s=!1){Us.push(be=s?null:[])}function xp(){Us.pop(),be=Us[Us.length-1]||null}let en=1;function Wa(s,i=!1){en+=s,s<0&&be&&i&&(be.hasOnce=!0)}function Sp(s){return s.dynamicChildren=en>0?be||ls:null,xp(),en>0&&be&&be.push(s),s}function ii(s,i,a,h,u,p){return Sp(It(s,i,a,h,u,p,!0))}function In(s){return s?s.__v_isVNode===!0:!1}function Os(s,i){return s.type===i.type&&s.key===i.key}const oc=({key:s})=>s??null,Ln=({ref:s,ref_key:i,ref_for:a})=>(typeof s=="number"&&(s=""+s),s!=null?Vt(s)||te(s)||dt(s)?{i:Me,r:s,k:i,f:!!a}:s:null);function It(s,i=null,a=null,h=0,u=null,p=s===qe?0:1,f=!1,g=!1){const v={__v_isVNode:!0,__v_skip:!0,type:s,props:i,key:i&&oc(i),ref:i&&Ln(i),scopeId:Hh,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:h,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:Me};return g?(ia(v,a),p&128&&s.normalize(v)):a&&(v.shapeFlag|=Vt(a)?8:16),en>0&&!f&&be&&(v.patchFlag>0||p&6)&&v.patchFlag!==32&&be.push(v),v}const Bt=Mp;function Mp(s,i=null,a=null,h=0,u=null,p=!1){if((!s||s===Xd)&&(s=tn),In(s)){const g=ds(s,i,!0);return a&&ia(g,a),en>0&&!p&&be&&(g.shapeFlag&6?be[be.indexOf(s)]=g:be.push(g)),g.patchFlag=-2,g}if(Ip(s)&&(s=s.__vccOpts),i){i=Lp(i);let{class:g,style:v}=i;g&&!Vt(g)&&(i.class=Pi(g)),Dt(v)&&(Jr(v)&&!ct(v)&&(v=$t({},v)),i.style=jr(v))}const f=Vt(s)?1:nc(s)?128:zd(s)?64:Dt(s)?4:dt(s)?2:0;return It(s,i,a,h,u,f,p,!0)}function Lp(s){return s?Jr(s)||Uh(s)?$t({},s):s:null}function ds(s,i,a=!1,h=!1){const{props:u,ref:p,patchFlag:f,children:g,transition:v}=s,E=i?kp(u||{},i):u,w={__v_isVNode:!0,__v_skip:!0,type:s.type,props:E,key:E&&oc(E),ref:i&&i.ref?a&&p?ct(p)?p.concat(Ln(i)):[p,Ln(i)]:Ln(i):p,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:g,target:s.target,targetStart:s.targetStart,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:i&&s.type!==qe?f===-1?16:f|16:f,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:v,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&ds(s.ssContent),ssFallback:s.ssFallback&&ds(s.ssFallback),el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce};return v&&h&&Zr(w,v.clone(w)),w}function Ns(s=" ",i=0){return Bt(to,null,s,i)}function Fe(s){return s==null||typeof s=="boolean"?Bt(tn):ct(s)?Bt(qe,null,s.slice()):In(s)?pi(s):Bt(to,null,String(s))}function pi(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:ds(s)}function ia(s,i){let a=0;const{shapeFlag:h}=s;if(i==null)i=null;else if(ct(i))a=16;else if(typeof i=="object")if(h&65){const u=i.default;u&&(u._c&&(u._d=!1),ia(s,u()),u._c&&(u._d=!0));return}else{a=32;const u=i._;!u&&!Uh(i)?i._ctx=Me:u===3&&Me&&(Me.slots._===1?i._=1:(i._=2,s.patchFlag|=1024))}else dt(i)?(i={default:i,_ctx:Me},a=32):(i=String(i),h&64?(a=16,i=[Ns(i)]):a=8);s.children=i,s.shapeFlag|=a}function kp(...s){const i={};for(let a=0;a<s.length;a++){const h=s[a];for(const u in h)if(u==="class")i.class!==h.class&&(i.class=Pi([i.class,h.class]));else if(u==="style")i.style=jr([i.style,h.style]);else if(Gn(u)){const p=i[u],f=h[u];f&&p!==f&&!(ct(p)&&p.includes(f))&&(i[u]=p?[].concat(p,f):f)}else u!==""&&(i[u]=h[u])}return i}function Pe(s,i,a,h=null){Ve(s,i,7,[a,h])}const Ap=jh();let Dp=0;function Op(s,i,a){const h=s.type,u=(i?i.appContext:s.appContext)||Ap,p={uid:Dp++,vnode:s,type:h,parent:i,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new od(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(u.provides),ids:i?i.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yh(h,u),emitsOptions:sc(h,u),emit:null,emitted:null,propsDefaults:At,inheritAttrs:h.inheritAttrs,ctx:At,data:At,props:At,attrs:At,slots:At,refs:At,setupState:At,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=i?i.root:p,p.emit=Ep.bind(null,p),s.ce&&s.ce(p),p}let Zt=null,Bn,Sr;{const s=qn(),i=(a,h)=>{let u;return(u=s[a])||(u=s[a]=[]),u.push(h),p=>{u.length>1?u.forEach(f=>f(p)):u[0](p)}};Bn=i("__VUE_INSTANCE_SETTERS__",a=>Zt=a),Sr=i("__VUE_SSR_SETTERS__",a=>sn=a)}const ln=s=>{const i=Zt;return Bn(s),s.scope.on(),()=>{s.scope.off(),Bn(i)}},ja=()=>{Zt&&Zt.scope.off(),Bn(null)};function rc(s){return s.vnode.shapeFlag&4}let sn=!1;function Pp(s,i=!1,a=!1){i&&Sr(i);const{props:h,children:u}=s.vnode,p=rc(s);rp(s,h,p,i),cp(s,u,a);const f=p?Hp(s,i):void 0;return i&&Sr(!1),f}function Hp(s,i){const a=s.type;s.accessCache=Object.create(null),s.proxy=new Proxy(s.ctx,Qd);const{setup:h}=a;if(h){Ci();const u=s.setupContext=h.length>1?zp(s):null,p=ln(s),f=an(h,s,0,[s.props,u]),g=nh(f);if(yi(),p(),(g||s.sp)&&!js(s)&&zh(s),g){if(f.then(ja,ja),i)return f.then(v=>{$a(s,v,i)}).catch(v=>{Jn(v,s,0)});s.asyncDep=f}else $a(s,f,i)}else ac(s,i)}function $a(s,i,a){dt(i)?s.type.__ssrInlineRender?s.ssrRender=i:s.render=i:Dt(i)&&(s.setupState=Lh(i)),ac(s,a)}let Ga;function ac(s,i,a){const h=s.type;if(!s.render){if(!i&&Ga&&!h.render){const u=h.template||ta(s).template;if(u){const{isCustomElement:p,compilerOptions:f}=s.appContext.config,{delimiters:g,compilerOptions:v}=h,E=$t($t({isCustomElement:p,delimiters:g},f),v);h.render=Ga(u,E)}}s.render=h.render||Ne}{const u=ln(s);Ci();try{Zd(s)}finally{yi(),u()}}}const Fp={get(s,i){return Qt(s,"get",""),s[i]}};function zp(s){const i=a=>{s.exposed=a||{}};return{attrs:new Proxy(s.attrs,Fp),slots:s.slots,emit:s.emit,expose:i}}function sa(s){return s.exposed?s.exposeProxy||(s.exposeProxy=new Proxy(Lh(Rd(s.exposed)),{get(i,a){if(a in i)return i[a];if(a in $s)return $s[a](s)},has(i,a){return a in i||a in $s}})):s.proxy}function Np(s,i=!0){return dt(s)?s.displayName||s.name:s.name||i&&s.__name}function Ip(s){return dt(s)&&"__vccOpts"in s}const Ce=(s,i)=>kd(s,i,sn);function lc(s,i,a){const h=arguments.length;return h===2?Dt(i)&&!ct(i)?In(i)?Bt(s,null,[i]):Bt(s,i):Bt(s,null,i):(h>3?a=Array.prototype.slice.call(arguments,2):h===3&&In(a)&&(a=[a]),Bt(s,i,a))}const Bp="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mr;const Ua=typeof window<"u"&&window.trustedTypes;if(Ua)try{Mr=Ua.createPolicy("vue",{createHTML:s=>s})}catch{}const hc=Mr?s=>Mr.createHTML(s):s=>s,Vp="http://www.w3.org/2000/svg",Wp="http://www.w3.org/1998/Math/MathML",Ye=typeof document<"u"?document:null,Ka=Ye&&Ye.createElement("template"),jp={insert:(s,i,a)=>{i.insertBefore(s,a||null)},remove:s=>{const i=s.parentNode;i&&i.removeChild(s)},createElement:(s,i,a,h)=>{const u=i==="svg"?Ye.createElementNS(Vp,s):i==="mathml"?Ye.createElementNS(Wp,s):a?Ye.createElement(s,{is:a}):Ye.createElement(s);return s==="select"&&h&&h.multiple!=null&&u.setAttribute("multiple",h.multiple),u},createText:s=>Ye.createTextNode(s),createComment:s=>Ye.createComment(s),setText:(s,i)=>{s.nodeValue=i},setElementText:(s,i)=>{s.textContent=i},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>Ye.querySelector(s),setScopeId(s,i){s.setAttribute(i,"")},insertStaticContent(s,i,a,h,u,p){const f=a?a.previousSibling:i.lastChild;if(u&&(u===p||u.nextSibling))for(;i.insertBefore(u.cloneNode(!0),a),!(u===p||!(u=u.nextSibling)););else{Ka.innerHTML=hc(h==="svg"?`<svg>${s}</svg>`:h==="mathml"?`<math>${s}</math>`:s);const g=Ka.content;if(h==="svg"||h==="mathml"){const v=g.firstChild;for(;v.firstChild;)g.appendChild(v.firstChild);g.removeChild(v)}i.insertBefore(g,a)}return[f?f.nextSibling:i.firstChild,a?a.previousSibling:i.lastChild]}},$p=Symbol("_vtc");function Gp(s,i,a){const h=s[$p];h&&(i=(i?[i,...h]:[...h]).join(" ")),i==null?s.removeAttribute("class"):a?s.setAttribute("class",i):s.className=i}const Ya=Symbol("_vod"),Up=Symbol("_vsh"),Kp=Symbol(""),Yp=/(^|;)\s*display\s*:/;function qp(s,i,a){const h=s.style,u=Vt(a);let p=!1;if(a&&!u){if(i)if(Vt(i))for(const f of i.split(";")){const g=f.slice(0,f.indexOf(":")).trim();a[g]==null&&kn(h,g,"")}else for(const f in i)a[f]==null&&kn(h,f,"");for(const f in a)f==="display"&&(p=!0),kn(h,f,a[f])}else if(u){if(i!==a){const f=h[Kp];f&&(a+=";"+f),h.cssText=a,p=Yp.test(a)}}else i&&s.removeAttribute("style");Ya in s&&(s[Ya]=p?h.display:"",s[Up]&&(h.display="none"))}const qa=/\s*!important$/;function kn(s,i,a){if(ct(a))a.forEach(h=>kn(s,i,h));else if(a==null&&(a=""),i.startsWith("--"))s.setProperty(i,a);else{const h=Xp(s,i);qa.test(a)?s.setProperty(Wi(h),a.replace(qa,""),"important"):s[h]=a}}const Xa=["Webkit","Moz","ms"],Jo={};function Xp(s,i){const a=Jo[i];if(a)return a;let h=_e(i);if(h!=="filter"&&h in s)return Jo[i]=h;h=Yn(h);for(let u=0;u<Xa.length;u++){const p=Xa[u]+h;if(p in s)return Jo[i]=p}return i}const Ja="http://www.w3.org/1999/xlink";function Qa(s,i,a,h,u,p=nd(i)){h&&i.startsWith("xlink:")?a==null?s.removeAttributeNS(Ja,i.slice(6,i.length)):s.setAttributeNS(Ja,i,a):a==null||p&&!lh(a)?s.removeAttribute(i):s.setAttribute(i,p?"":Ei(a)?String(a):a)}function Za(s,i,a,h,u){if(i==="innerHTML"||i==="textContent"){a!=null&&(s[i]=i==="innerHTML"?hc(a):a);return}const p=s.tagName;if(i==="value"&&p!=="PROGRESS"&&!p.includes("-")){const g=p==="OPTION"?s.getAttribute("value")||"":s.value,v=a==null?s.type==="checkbox"?"on":"":String(a);(g!==v||!("_value"in s))&&(s.value=v),a==null&&s.removeAttribute(i),s._value=a;return}let f=!1;if(a===""||a==null){const g=typeof s[i];g==="boolean"?a=lh(a):a==null&&g==="string"?(a="",f=!0):g==="number"&&(a=0,f=!0)}try{s[i]=a}catch{}f&&s.removeAttribute(u||i)}function Jp(s,i,a,h){s.addEventListener(i,a,h)}function Qp(s,i,a,h){s.removeEventListener(i,a,h)}const tl=Symbol("_vei");function Zp(s,i,a,h,u=null){const p=s[tl]||(s[tl]={}),f=p[i];if(h&&f)f.value=h;else{const[g,v]=tm(i);if(h){const E=p[i]=sm(h,u);Jp(s,g,E,v)}else f&&(Qp(s,g,f,v),p[i]=void 0)}}const el=/(?:Once|Passive|Capture)$/;function tm(s){let i;if(el.test(s)){i={};let h;for(;h=s.match(el);)s=s.slice(0,s.length-h[0].length),i[h[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):Wi(s.slice(2)),i]}let Qo=0;const em=Promise.resolve(),im=()=>Qo||(em.then(()=>Qo=0),Qo=Date.now());function sm(s,i){const a=h=>{if(!h._vts)h._vts=Date.now();else if(h._vts<=a.attached)return;Ve(nm(h,a.value),i,5,[h])};return a.value=s,a.attached=im(),a}function nm(s,i){if(ct(i)){const a=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{a.call(s),s._stopped=!0},i.map(h=>u=>!u._stopped&&h&&h(u))}else return i}const il=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,om=(s,i,a,h,u,p)=>{const f=u==="svg";i==="class"?Gp(s,h,f):i==="style"?qp(s,a,h):Gn(i)?Br(i)||Zp(s,i,a,h,p):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):rm(s,i,h,f))?(Za(s,i,h),!s.tagName.includes("-")&&(i==="value"||i==="checked"||i==="selected")&&Qa(s,i,h,f,p,i!=="value")):s._isVueCE&&(/[A-Z]/.test(i)||!Vt(h))?Za(s,_e(i),h,p,i):(i==="true-value"?s._trueValue=h:i==="false-value"&&(s._falseValue=h),Qa(s,i,h,f))};function rm(s,i,a,h){if(h)return!!(i==="innerHTML"||i==="textContent"||i in s&&il(i)&&dt(a));if(i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&s.tagName==="INPUT"||i==="type"&&s.tagName==="TEXTAREA")return!1;if(i==="width"||i==="height"){const u=s.tagName;if(u==="IMG"||u==="VIDEO"||u==="CANVAS"||u==="SOURCE")return!1}return il(i)&&Vt(a)?!1:i in s}const am=$t({patchProp:om},jp);let sl;function lm(){return sl||(sl=dp(am))}const hm=(...s)=>{const i=lm().createApp(...s),{mount:a}=i;return i.mount=h=>{const u=um(h);if(!u)return;const p=i._component;!dt(p)&&!p.render&&!p.template&&(p.template=u.innerHTML),u.nodeType===1&&(u.textContent="");const f=a(u,!1,cm(u));return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),f},i};function cm(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function um(s){return Vt(s)?document.querySelector(s):s}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const is=typeof document<"u";function cc(s){return typeof s=="object"||"displayName"in s||"props"in s||"__vccOpts"in s}function dm(s){return s.__esModule||s[Symbol.toStringTag]==="Module"||s.default&&cc(s.default)}const yt=Object.assign;function Zo(s,i){const a={};for(const h in i){const u=i[h];a[h]=De(u)?u.map(s):s(u)}return a}const Ks=()=>{},De=Array.isArray,uc=/#/g,pm=/&/g,mm=/\//g,fm=/=/g,gm=/\?/g,dc=/\+/g,bm=/%5B/g,vm=/%5D/g,pc=/%5E/g,wm=/%60/g,mc=/%7B/g,Em=/%7C/g,fc=/%7D/g,Cm=/%20/g;function na(s){return encodeURI(""+s).replace(Em,"|").replace(bm,"[").replace(vm,"]")}function ym(s){return na(s).replace(mc,"{").replace(fc,"}").replace(pc,"^")}function Lr(s){return na(s).replace(dc,"%2B").replace(Cm,"+").replace(uc,"%23").replace(pm,"%26").replace(wm,"`").replace(mc,"{").replace(fc,"}").replace(pc,"^")}function _m(s){return Lr(s).replace(fm,"%3D")}function Tm(s){return na(s).replace(uc,"%23").replace(gm,"%3F")}function Rm(s){return s==null?"":Tm(s).replace(mm,"%2F")}function nn(s){try{return decodeURIComponent(""+s)}catch{}return""+s}const xm=/\/$/,Sm=s=>s.replace(xm,"");function tr(s,i,a="/"){let h,u={},p="",f="";const g=i.indexOf("#");let v=i.indexOf("?");return g<v&&g>=0&&(v=-1),v>-1&&(h=i.slice(0,v),p=i.slice(v+1,g>-1?g:i.length),u=s(p)),g>-1&&(h=h||i.slice(0,g),f=i.slice(g,i.length)),h=Am(h??i,a),{fullPath:h+(p&&"?")+p+f,path:h,query:u,hash:nn(f)}}function Mm(s,i){const a=i.query?s(i.query):"";return i.path+(a&&"?")+a+(i.hash||"")}function nl(s,i){return!i||!s.toLowerCase().startsWith(i.toLowerCase())?s:s.slice(i.length)||"/"}function Lm(s,i,a){const h=i.matched.length-1,u=a.matched.length-1;return h>-1&&h===u&&ps(i.matched[h],a.matched[u])&&gc(i.params,a.params)&&s(i.query)===s(a.query)&&i.hash===a.hash}function ps(s,i){return(s.aliasOf||s)===(i.aliasOf||i)}function gc(s,i){if(Object.keys(s).length!==Object.keys(i).length)return!1;for(const a in s)if(!km(s[a],i[a]))return!1;return!0}function km(s,i){return De(s)?ol(s,i):De(i)?ol(i,s):s===i}function ol(s,i){return De(i)?s.length===i.length&&s.every((a,h)=>a===i[h]):s.length===1&&s[0]===i}function Am(s,i){if(s.startsWith("/"))return s;if(!s)return i;const a=i.split("/"),h=s.split("/"),u=h[h.length-1];(u===".."||u===".")&&h.push("");let p=a.length-1,f,g;for(f=0;f<h.length;f++)if(g=h[f],g!==".")if(g==="..")p>1&&p--;else break;return a.slice(0,p).join("/")+"/"+h.slice(f).join("/")}const ci={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var on;(function(s){s.pop="pop",s.push="push"})(on||(on={}));var Ys;(function(s){s.back="back",s.forward="forward",s.unknown=""})(Ys||(Ys={}));function Dm(s){if(!s)if(is){const i=document.querySelector("base");s=i&&i.getAttribute("href")||"/",s=s.replace(/^\w+:\/\/[^\/]+/,"")}else s="/";return s[0]!=="/"&&s[0]!=="#"&&(s="/"+s),Sm(s)}const Om=/^[^#]+#/;function Pm(s,i){return s.replace(Om,"#")+i}function Hm(s,i){const a=document.documentElement.getBoundingClientRect(),h=s.getBoundingClientRect();return{behavior:i.behavior,left:h.left-a.left-(i.left||0),top:h.top-a.top-(i.top||0)}}const eo=()=>({left:window.scrollX,top:window.scrollY});function Fm(s){let i;if("el"in s){const a=s.el,h=typeof a=="string"&&a.startsWith("#"),u=typeof a=="string"?h?document.getElementById(a.slice(1)):document.querySelector(a):a;if(!u)return;i=Hm(u,s)}else i=s;"scrollBehavior"in document.documentElement.style?window.scrollTo(i):window.scrollTo(i.left!=null?i.left:window.scrollX,i.top!=null?i.top:window.scrollY)}function rl(s,i){return(history.state?history.state.position-i:-1)+s}const kr=new Map;function zm(s,i){kr.set(s,i)}function Nm(s){const i=kr.get(s);return kr.delete(s),i}let Im=()=>location.protocol+"//"+location.host;function bc(s,i){const{pathname:a,search:h,hash:u}=i,p=s.indexOf("#");if(p>-1){let g=u.includes(s.slice(p))?s.slice(p).length:1,v=u.slice(g);return v[0]!=="/"&&(v="/"+v),nl(v,"")}return nl(a,s)+h+u}function Bm(s,i,a,h){let u=[],p=[],f=null;const g=({state:S})=>{const M=bc(s,location),V=a.value,O=i.value;let W=0;if(S){if(a.value=M,i.value=S,f&&f===V){f=null;return}W=O?S.position-O.position:0}else h(M);u.forEach(Y=>{Y(a.value,V,{delta:W,type:on.pop,direction:W?W>0?Ys.forward:Ys.back:Ys.unknown})})};function v(){f=a.value}function E(S){u.push(S);const M=()=>{const V=u.indexOf(S);V>-1&&u.splice(V,1)};return p.push(M),M}function w(){const{history:S}=window;S.state&&S.replaceState(yt({},S.state,{scroll:eo()}),"")}function _(){for(const S of p)S();p=[],window.removeEventListener("popstate",g),window.removeEventListener("beforeunload",w)}return window.addEventListener("popstate",g),window.addEventListener("beforeunload",w,{passive:!0}),{pauseListeners:v,listen:E,destroy:_}}function al(s,i,a,h=!1,u=!1){return{back:s,current:i,forward:a,replaced:h,position:window.history.length,scroll:u?eo():null}}function Vm(s){const{history:i,location:a}=window,h={value:bc(s,a)},u={value:i.state};u.value||p(h.value,{back:null,current:h.value,forward:null,position:i.length-1,replaced:!0,scroll:null},!0);function p(v,E,w){const _=s.indexOf("#"),S=_>-1?(a.host&&document.querySelector("base")?s:s.slice(_))+v:Im()+s+v;try{i[w?"replaceState":"pushState"](E,"",S),u.value=E}catch(M){console.error(M),a[w?"replace":"assign"](S)}}function f(v,E){const w=yt({},i.state,al(u.value.back,v,u.value.forward,!0),E,{position:u.value.position});p(v,w,!0),h.value=v}function g(v,E){const w=yt({},u.value,i.state,{forward:v,scroll:eo()});p(w.current,w,!0);const _=yt({},al(h.value,v,null),{position:w.position+1},E);p(v,_,!1),h.value=v}return{location:h,state:u,push:g,replace:f}}function Wm(s){s=Dm(s);const i=Vm(s),a=Bm(s,i.state,i.location,i.replace);function h(p,f=!0){f||a.pauseListeners(),history.go(p)}const u=yt({location:"",base:s,go:h,createHref:Pm.bind(null,s)},i,a);return Object.defineProperty(u,"location",{enumerable:!0,get:()=>i.location.value}),Object.defineProperty(u,"state",{enumerable:!0,get:()=>i.state.value}),u}function jm(s){return s=location.host?s||location.pathname+location.search:"",s.includes("#")||(s+="#"),Wm(s)}function $m(s){return typeof s=="string"||s&&typeof s=="object"}function vc(s){return typeof s=="string"||typeof s=="symbol"}const wc=Symbol("");var ll;(function(s){s[s.aborted=4]="aborted",s[s.cancelled=8]="cancelled",s[s.duplicated=16]="duplicated"})(ll||(ll={}));function ms(s,i){return yt(new Error,{type:s,[wc]:!0},i)}function Ke(s,i){return s instanceof Error&&wc in s&&(i==null||!!(s.type&i))}const hl="[^/]+?",Gm={sensitive:!1,strict:!1,start:!0,end:!0},Um=/[.+*?^${}()[\]/\\]/g;function Km(s,i){const a=yt({},Gm,i),h=[];let u=a.start?"^":"";const p=[];for(const E of s){const w=E.length?[]:[90];a.strict&&!E.length&&(u+="/");for(let _=0;_<E.length;_++){const S=E[_];let M=40+(a.sensitive?.25:0);if(S.type===0)_||(u+="/"),u+=S.value.replace(Um,"\\$&"),M+=40;else if(S.type===1){const{value:V,repeatable:O,optional:W,regexp:Y}=S;p.push({name:V,repeatable:O,optional:W});const U=Y||hl;if(U!==hl){M+=10;try{new RegExp(`(${U})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${V}" (${U}): `+I.message)}}let Q=O?`((?:${U})(?:/(?:${U}))*)`:`(${U})`;_||(Q=W&&E.length<2?`(?:/${Q})`:"/"+Q),W&&(Q+="?"),u+=Q,M+=20,W&&(M+=-8),O&&(M+=-20),U===".*"&&(M+=-50)}w.push(M)}h.push(w)}if(a.strict&&a.end){const E=h.length-1;h[E][h[E].length-1]+=.7000000000000001}a.strict||(u+="/?"),a.end?u+="$":a.strict&&!u.endsWith("/")&&(u+="(?:/|$)");const f=new RegExp(u,a.sensitive?"":"i");function g(E){const w=E.match(f),_={};if(!w)return null;for(let S=1;S<w.length;S++){const M=w[S]||"",V=p[S-1];_[V.name]=M&&V.repeatable?M.split("/"):M}return _}function v(E){let w="",_=!1;for(const S of s){(!_||!w.endsWith("/"))&&(w+="/"),_=!1;for(const M of S)if(M.type===0)w+=M.value;else if(M.type===1){const{value:V,repeatable:O,optional:W}=M,Y=V in E?E[V]:"";if(De(Y)&&!O)throw new Error(`Provided param "${V}" is an array but it is not repeatable (* or + modifiers)`);const U=De(Y)?Y.join("/"):Y;if(!U)if(W)S.length<2&&(w.endsWith("/")?w=w.slice(0,-1):_=!0);else throw new Error(`Missing required param "${V}"`);w+=U}}return w||"/"}return{re:f,score:h,keys:p,parse:g,stringify:v}}function Ym(s,i){let a=0;for(;a<s.length&&a<i.length;){const h=i[a]-s[a];if(h)return h;a++}return s.length<i.length?s.length===1&&s[0]===80?-1:1:s.length>i.length?i.length===1&&i[0]===80?1:-1:0}function Ec(s,i){let a=0;const h=s.score,u=i.score;for(;a<h.length&&a<u.length;){const p=Ym(h[a],u[a]);if(p)return p;a++}if(Math.abs(u.length-h.length)===1){if(cl(h))return 1;if(cl(u))return-1}return u.length-h.length}function cl(s){const i=s[s.length-1];return s.length>0&&i[i.length-1]<0}const qm={type:0,value:""},Xm=/[a-zA-Z0-9_]/;function Jm(s){if(!s)return[[]];if(s==="/")return[[qm]];if(!s.startsWith("/"))throw new Error(`Invalid path "${s}"`);function i(M){throw new Error(`ERR (${a})/"${E}": ${M}`)}let a=0,h=a;const u=[];let p;function f(){p&&u.push(p),p=[]}let g=0,v,E="",w="";function _(){E&&(a===0?p.push({type:0,value:E}):a===1||a===2||a===3?(p.length>1&&(v==="*"||v==="+")&&i(`A repeatable param (${E}) must be alone in its segment. eg: '/:ids+.`),p.push({type:1,value:E,regexp:w,repeatable:v==="*"||v==="+",optional:v==="*"||v==="?"})):i("Invalid state to consume buffer"),E="")}function S(){E+=v}for(;g<s.length;){if(v=s[g++],v==="\\"&&a!==2){h=a,a=4;continue}switch(a){case 0:v==="/"?(E&&_(),f()):v===":"?(_(),a=1):S();break;case 4:S(),a=h;break;case 1:v==="("?a=2:Xm.test(v)?S():(_(),a=0,v!=="*"&&v!=="?"&&v!=="+"&&g--);break;case 2:v===")"?w[w.length-1]=="\\"?w=w.slice(0,-1)+v:a=3:w+=v;break;case 3:_(),a=0,v!=="*"&&v!=="?"&&v!=="+"&&g--,w="";break;default:i("Unknown state");break}}return a===2&&i(`Unfinished custom RegExp for param "${E}"`),_(),f(),u}function Qm(s,i,a){const h=Km(Jm(s.path),a),u=yt(h,{record:s,parent:i,children:[],alias:[]});return i&&!u.record.aliasOf==!i.record.aliasOf&&i.children.push(u),u}function Zm(s,i){const a=[],h=new Map;i=ml({strict:!1,end:!0,sensitive:!1},i);function u(_){return h.get(_)}function p(_,S,M){const V=!M,O=dl(_);O.aliasOf=M&&M.record;const W=ml(i,_),Y=[O];if("alias"in _){const I=typeof _.alias=="string"?[_.alias]:_.alias;for(const nt of I)Y.push(dl(yt({},O,{components:M?M.record.components:O.components,path:nt,aliasOf:M?M.record:O})))}let U,Q;for(const I of Y){const{path:nt}=I;if(S&&nt[0]!=="/"){const lt=S.record.path,ht=lt[lt.length-1]==="/"?"":"/";I.path=S.record.path+(nt&&ht+nt)}if(U=Qm(I,S,W),M?M.alias.push(U):(Q=Q||U,Q!==U&&Q.alias.push(U),V&&_.name&&!pl(U)&&f(_.name)),Cc(U)&&v(U),O.children){const lt=O.children;for(let ht=0;ht<lt.length;ht++)p(lt[ht],U,M&&M.children[ht])}M=M||U}return Q?()=>{f(Q)}:Ks}function f(_){if(vc(_)){const S=h.get(_);S&&(h.delete(_),a.splice(a.indexOf(S),1),S.children.forEach(f),S.alias.forEach(f))}else{const S=a.indexOf(_);S>-1&&(a.splice(S,1),_.record.name&&h.delete(_.record.name),_.children.forEach(f),_.alias.forEach(f))}}function g(){return a}function v(_){const S=sf(_,a);a.splice(S,0,_),_.record.name&&!pl(_)&&h.set(_.record.name,_)}function E(_,S){let M,V={},O,W;if("name"in _&&_.name){if(M=h.get(_.name),!M)throw ms(1,{location:_});W=M.record.name,V=yt(ul(S.params,M.keys.filter(Q=>!Q.optional).concat(M.parent?M.parent.keys.filter(Q=>Q.optional):[]).map(Q=>Q.name)),_.params&&ul(_.params,M.keys.map(Q=>Q.name))),O=M.stringify(V)}else if(_.path!=null)O=_.path,M=a.find(Q=>Q.re.test(O)),M&&(V=M.parse(O),W=M.record.name);else{if(M=S.name?h.get(S.name):a.find(Q=>Q.re.test(S.path)),!M)throw ms(1,{location:_,currentLocation:S});W=M.record.name,V=yt({},S.params,_.params),O=M.stringify(V)}const Y=[];let U=M;for(;U;)Y.unshift(U.record),U=U.parent;return{name:W,path:O,params:V,matched:Y,meta:ef(Y)}}s.forEach(_=>p(_));function w(){a.length=0,h.clear()}return{addRoute:p,resolve:E,removeRoute:f,clearRoutes:w,getRoutes:g,getRecordMatcher:u}}function ul(s,i){const a={};for(const h of i)h in s&&(a[h]=s[h]);return a}function dl(s){const i={path:s.path,redirect:s.redirect,name:s.name,meta:s.meta||{},aliasOf:s.aliasOf,beforeEnter:s.beforeEnter,props:tf(s),children:s.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in s?s.components||null:s.component&&{default:s.component}};return Object.defineProperty(i,"mods",{value:{}}),i}function tf(s){const i={},a=s.props||!1;if("component"in s)i.default=a;else for(const h in s.components)i[h]=typeof a=="object"?a[h]:a;return i}function pl(s){for(;s;){if(s.record.aliasOf)return!0;s=s.parent}return!1}function ef(s){return s.reduce((i,a)=>yt(i,a.meta),{})}function ml(s,i){const a={};for(const h in s)a[h]=h in i?i[h]:s[h];return a}function sf(s,i){let a=0,h=i.length;for(;a!==h;){const p=a+h>>1;Ec(s,i[p])<0?h=p:a=p+1}const u=nf(s);return u&&(h=i.lastIndexOf(u,h-1)),h}function nf(s){let i=s;for(;i=i.parent;)if(Cc(i)&&Ec(s,i)===0)return i}function Cc({record:s}){return!!(s.name||s.components&&Object.keys(s.components).length||s.redirect)}function of(s){const i={};if(s===""||s==="?")return i;const h=(s[0]==="?"?s.slice(1):s).split("&");for(let u=0;u<h.length;++u){const p=h[u].replace(dc," "),f=p.indexOf("="),g=nn(f<0?p:p.slice(0,f)),v=f<0?null:nn(p.slice(f+1));if(g in i){let E=i[g];De(E)||(E=i[g]=[E]),E.push(v)}else i[g]=v}return i}function fl(s){let i="";for(let a in s){const h=s[a];if(a=_m(a),h==null){h!==void 0&&(i+=(i.length?"&":"")+a);continue}(De(h)?h.map(p=>p&&Lr(p)):[h&&Lr(h)]).forEach(p=>{p!==void 0&&(i+=(i.length?"&":"")+a,p!=null&&(i+="="+p))})}return i}function rf(s){const i={};for(const a in s){const h=s[a];h!==void 0&&(i[a]=De(h)?h.map(u=>u==null?null:""+u):h==null?h:""+h)}return i}const af=Symbol(""),gl=Symbol(""),io=Symbol(""),oa=Symbol(""),Ar=Symbol("");function Ps(){let s=[];function i(h){return s.push(h),()=>{const u=s.indexOf(h);u>-1&&s.splice(u,1)}}function a(){s=[]}return{add:i,list:()=>s.slice(),reset:a}}function mi(s,i,a,h,u,p=f=>f()){const f=h&&(h.enterCallbacks[u]=h.enterCallbacks[u]||[]);return()=>new Promise((g,v)=>{const E=S=>{S===!1?v(ms(4,{from:a,to:i})):S instanceof Error?v(S):$m(S)?v(ms(2,{from:i,to:S})):(f&&h.enterCallbacks[u]===f&&typeof S=="function"&&f.push(S),g())},w=p(()=>s.call(h&&h.instances[u],i,a,E));let _=Promise.resolve(w);s.length<3&&(_=_.then(E)),_.catch(S=>v(S))})}function er(s,i,a,h,u=p=>p()){const p=[];for(const f of s)for(const g in f.components){let v=f.components[g];if(!(i!=="beforeRouteEnter"&&!f.instances[g]))if(cc(v)){const w=(v.__vccOpts||v)[i];w&&p.push(mi(w,a,h,f,g,u))}else{let E=v();p.push(()=>E.then(w=>{if(!w)throw new Error(`Couldn't resolve component "${g}" at "${f.path}"`);const _=dm(w)?w.default:w;f.mods[g]=w,f.components[g]=_;const M=(_.__vccOpts||_)[i];return M&&mi(M,a,h,f,g,u)()}))}}return p}function bl(s){const i=Ae(io),a=Ae(oa),h=Ce(()=>{const v=ze(s.to);return i.resolve(v)}),u=Ce(()=>{const{matched:v}=h.value,{length:E}=v,w=v[E-1],_=a.matched;if(!w||!_.length)return-1;const S=_.findIndex(ps.bind(null,w));if(S>-1)return S;const M=vl(v[E-2]);return E>1&&vl(w)===M&&_[_.length-1].path!==M?_.findIndex(ps.bind(null,v[E-2])):S}),p=Ce(()=>u.value>-1&&df(a.params,h.value.params)),f=Ce(()=>u.value>-1&&u.value===a.matched.length-1&&gc(a.params,h.value.params));function g(v={}){if(uf(v)){const E=i[ze(s.replace)?"replace":"push"](ze(s.to)).catch(Ks);return s.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>E),E}return Promise.resolve()}return{route:h,href:Ce(()=>h.value.href),isActive:p,isExactActive:f,navigate:g}}function lf(s){return s.length===1?s[0]:s}const hf=Fh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:bl,setup(s,{slots:i}){const a=Xn(bl(s)),{options:h}=Ae(io),u=Ce(()=>({[wl(s.activeClass,h.linkActiveClass,"router-link-active")]:a.isActive,[wl(s.exactActiveClass,h.linkExactActiveClass,"router-link-exact-active")]:a.isExactActive}));return()=>{const p=i.default&&lf(i.default(a));return s.custom?p:lc("a",{"aria-current":a.isExactActive?s.ariaCurrentValue:null,href:a.href,onClick:a.navigate,class:u.value},p)}}}),cf=hf;function uf(s){if(!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)&&!s.defaultPrevented&&!(s.button!==void 0&&s.button!==0)){if(s.currentTarget&&s.currentTarget.getAttribute){const i=s.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(i))return}return s.preventDefault&&s.preventDefault(),!0}}function df(s,i){for(const a in i){const h=i[a],u=s[a];if(typeof h=="string"){if(h!==u)return!1}else if(!De(u)||u.length!==h.length||h.some((p,f)=>p!==u[f]))return!1}return!0}function vl(s){return s?s.aliasOf?s.aliasOf.path:s.path:""}const wl=(s,i,a)=>s??i??a,pf=Fh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(s,{attrs:i,slots:a}){const h=Ae(Ar),u=Ce(()=>s.route||h.value),p=Ae(gl,0),f=Ce(()=>{let E=ze(p);const{matched:w}=u.value;let _;for(;(_=w[E])&&!_.components;)E++;return E}),g=Ce(()=>u.value.matched[f.value]);Mn(gl,Ce(()=>f.value+1)),Mn(af,g),Mn(Ar,u);const v=Sh();return Gs(()=>[v.value,g.value,s.name],([E,w,_],[S,M,V])=>{w&&(w.instances[_]=E,M&&M!==w&&E&&E===S&&(w.leaveGuards.size||(w.leaveGuards=M.leaveGuards),w.updateGuards.size||(w.updateGuards=M.updateGuards))),E&&w&&(!M||!ps(w,M)||!S)&&(w.enterCallbacks[_]||[]).forEach(O=>O(E))},{flush:"post"}),()=>{const E=u.value,w=s.name,_=g.value,S=_&&_.components[w];if(!S)return El(a.default,{Component:S,route:E});const M=_.props[w],V=M?M===!0?E.params:typeof M=="function"?M(E):M:null,W=lc(S,yt({},V,i,{onVnodeUnmounted:Y=>{Y.component.isUnmounted&&(_.instances[w]=null)},ref:v}));return El(a.default,{Component:W,route:E})||W}}});function El(s,i){if(!s)return null;const a=s(i);return a.length===1?a[0]:a}const mf=pf;function ff(s){const i=Zm(s.routes,s),a=s.parseQuery||of,h=s.stringifyQuery||fl,u=s.history,p=Ps(),f=Ps(),g=Ps(),v=xd(ci);let E=ci;is&&s.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=Zo.bind(null,D=>""+D),_=Zo.bind(null,Rm),S=Zo.bind(null,nn);function M(D,X){let K,tt;return vc(D)?(K=i.getRecordMatcher(D),tt=X):tt=D,i.addRoute(tt,K)}function V(D){const X=i.getRecordMatcher(D);X&&i.removeRoute(X)}function O(){return i.getRoutes().map(D=>D.record)}function W(D){return!!i.getRecordMatcher(D)}function Y(D,X){if(X=yt({},X||v.value),typeof D=="string"){const T=tr(a,D,X.path),k=i.resolve({path:T.path},X),P=u.createHref(T.fullPath);return yt(T,k,{params:S(k.params),hash:nn(T.hash),redirectedFrom:void 0,href:P})}let K;if(D.path!=null)K=yt({},D,{path:tr(a,D.path,X.path).path});else{const T=yt({},D.params);for(const k in T)T[k]==null&&delete T[k];K=yt({},D,{params:_(T)}),X.params=_(X.params)}const tt=i.resolve(K,X),ft=D.hash||"";tt.params=w(S(tt.params));const Lt=Mm(h,yt({},D,{hash:ym(ft),path:tt.path})),y=u.createHref(Lt);return yt({fullPath:Lt,hash:ft,query:h===fl?rf(D.query):D.query||{}},tt,{redirectedFrom:void 0,href:y})}function U(D){return typeof D=="string"?tr(a,D,v.value.path):yt({},D)}function Q(D,X){if(E!==D)return ms(8,{from:X,to:D})}function I(D){return ht(D)}function nt(D){return I(yt(U(D),{replace:!0}))}function lt(D){const X=D.matched[D.matched.length-1];if(X&&X.redirect){const{redirect:K}=X;let tt=typeof K=="function"?K(D):K;return typeof tt=="string"&&(tt=tt.includes("?")||tt.includes("#")?tt=U(tt):{path:tt},tt.params={}),yt({query:D.query,hash:D.hash,params:tt.path!=null?{}:D.params},tt)}}function ht(D,X){const K=E=Y(D),tt=v.value,ft=D.state,Lt=D.force,y=D.replace===!0,T=lt(K);if(T)return ht(yt(U(T),{state:typeof T=="object"?yt({},ft,T.state):ft,force:Lt,replace:y}),X||K);const k=K;k.redirectedFrom=X;let P;return!Lt&&Lm(h,tt,K)&&(P=ms(16,{to:k,from:tt}),Wt(tt,tt,!0,!1)),(P?Promise.resolve(P):wt(k,tt)).catch(A=>Ke(A)?Ke(A,2)?A:Gt(A):mt(A,k,tt)).then(A=>{if(A){if(Ke(A,2))return ht(yt({replace:y},U(A.to),{state:typeof A.to=="object"?yt({},ft,A.to.state):ft,force:Lt}),X||k)}else A=Pt(k,tt,!0,y,ft);return Mt(k,tt,A),A})}function Ct(D,X){const K=Q(D,X);return K?Promise.reject(K):Promise.resolve()}function Rt(D){const X=ee.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(D):D()}function wt(D,X){let K;const[tt,ft,Lt]=gf(D,X);K=er(tt.reverse(),"beforeRouteLeave",D,X);for(const T of tt)T.leaveGuards.forEach(k=>{K.push(mi(k,D,X))});const y=Ct.bind(null,D,X);return K.push(y),Ht(K).then(()=>{K=[];for(const T of p.list())K.push(mi(T,D,X));return K.push(y),Ht(K)}).then(()=>{K=er(ft,"beforeRouteUpdate",D,X);for(const T of ft)T.updateGuards.forEach(k=>{K.push(mi(k,D,X))});return K.push(y),Ht(K)}).then(()=>{K=[];for(const T of Lt)if(T.beforeEnter)if(De(T.beforeEnter))for(const k of T.beforeEnter)K.push(mi(k,D,X));else K.push(mi(T.beforeEnter,D,X));return K.push(y),Ht(K)}).then(()=>(D.matched.forEach(T=>T.enterCallbacks={}),K=er(Lt,"beforeRouteEnter",D,X,Rt),K.push(y),Ht(K))).then(()=>{K=[];for(const T of f.list())K.push(mi(T,D,X));return K.push(y),Ht(K)}).catch(T=>Ke(T,8)?T:Promise.reject(T))}function Mt(D,X,K){g.list().forEach(tt=>Rt(()=>tt(D,X,K)))}function Pt(D,X,K,tt,ft){const Lt=Q(D,X);if(Lt)return Lt;const y=X===ci,T=is?history.state:{};K&&(tt||y?u.replace(D.fullPath,yt({scroll:y&&T&&T.scroll},ft)):u.push(D.fullPath,ft)),v.value=D,Wt(D,X,K,y),Gt()}let Z;function qt(){Z||(Z=u.listen((D,X,K)=>{if(!Ut.listening)return;const tt=Y(D),ft=lt(tt);if(ft){ht(yt(ft,{replace:!0,force:!0}),tt).catch(Ks);return}E=tt;const Lt=v.value;is&&zm(rl(Lt.fullPath,K.delta),eo()),wt(tt,Lt).catch(y=>Ke(y,12)?y:Ke(y,2)?(ht(yt(U(y.to),{force:!0}),tt).then(T=>{Ke(T,20)&&!K.delta&&K.type===on.pop&&u.go(-1,!1)}).catch(Ks),Promise.reject()):(K.delta&&u.go(-K.delta,!1),mt(y,tt,Lt))).then(y=>{y=y||Pt(tt,Lt,!1),y&&(K.delta&&!Ke(y,8)?u.go(-K.delta,!1):K.type===on.pop&&Ke(y,20)&&u.go(-1,!1)),Mt(tt,Lt,y)}).catch(Ks)}))}let Xt=Ps(),gt=Ps(),ut;function mt(D,X,K){Gt(D);const tt=gt.list();return tt.length?tt.forEach(ft=>ft(D,X,K)):console.error(D),Promise.reject(D)}function zt(){return ut&&v.value!==ci?Promise.resolve():new Promise((D,X)=>{Xt.add([D,X])})}function Gt(D){return ut||(ut=!D,qt(),Xt.list().forEach(([X,K])=>D?K(D):X()),Xt.reset()),D}function Wt(D,X,K,tt){const{scrollBehavior:ft}=s;if(!is||!ft)return Promise.resolve();const Lt=!K&&Nm(rl(D.fullPath,0))||(tt||!K)&&history.state&&history.state.scroll||null;return Ah().then(()=>ft(D,X,Lt)).then(y=>y&&Fm(y)).catch(y=>mt(y,D,X))}const Ot=D=>u.go(D);let Nt;const ee=new Set,Ut={currentRoute:v,listening:!0,addRoute:M,removeRoute:V,clearRoutes:i.clearRoutes,hasRoute:W,getRoutes:O,resolve:Y,options:s,push:I,replace:nt,go:Ot,back:()=>Ot(-1),forward:()=>Ot(1),beforeEach:p.add,beforeResolve:f.add,afterEach:g.add,onError:gt.add,isReady:zt,install(D){const X=this;D.component("RouterLink",cf),D.component("RouterView",mf),D.config.globalProperties.$router=X,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>ze(v)}),is&&!Nt&&v.value===ci&&(Nt=!0,I(u.location).catch(ft=>{}));const K={};for(const ft in ci)Object.defineProperty(K,ft,{get:()=>v.value[ft],enumerable:!0});D.provide(io,X),D.provide(oa,Rh(K)),D.provide(Ar,v);const tt=D.unmount;ee.add(D),D.unmount=function(){ee.delete(D),ee.size<1&&(E=ci,Z&&Z(),Z=null,v.value=ci,Nt=!1,ut=!1),tt()}}};function Ht(D){return D.reduce((X,K)=>X.then(()=>Rt(K)),Promise.resolve())}return Ut}function gf(s,i){const a=[],h=[],u=[],p=Math.max(i.matched.length,s.matched.length);for(let f=0;f<p;f++){const g=i.matched[f];g&&(s.matched.find(E=>ps(E,g))?h.push(g):a.push(g));const v=s.matched[f];v&&(i.matched.find(E=>ps(E,v))||u.push(v))}return[a,h,u]}function ra(){return Ae(io)}function bf(s){return Ae(oa)}const vf={class:"d-flex flex-column"},wf={class:"d-flex justify-content-between align-items-center"},Ef={class:"nav nav-tabs pe-0 unselectable mt-4"},Cf={class:"nav-item"},yf={class:"nav-item"},_f={class:"nav-item"},Tf={class:"nav-item"},Rf={class:"nav-item"},xf={__name:"Navbar",setup(s){const i=bf(),a=ra(),h=p=>i.name===p?"active":"",u=p=>{i.path===p?a.push("empty"):a.push(p.replace("/",""))};return(p,f)=>{const g=Vh("RouterLink");return ei(),ii("div",vf,[It("div",wf,[It("p",null,[It("b",null,"From : "+br(ze(a).routeFrom=="empty"?ze(a).routeTo:ze(a).routeFrom),1)]),It("p",null,[It("b",null,"Current : "+br(ze(a).routeTo),1)])]),It("ul",Ef,[It("li",Cf,[Bt(g,{id:"home_btn",class:"nav-link","aria-current":"page",to:"/0",onClick:f[0]||(f[0]=v=>u("/0"))},{default:es(()=>f[5]||(f[5]=[It("i",{style:{color:"#004087"},class:"fa-solid fa-house","aria-hidden":"true"},null,-1)])),_:1})]),It("li",yf,[Bt(g,{class:Pi(["nav-link",h("viewOne")]),to:"/1",role:"button","aria-expanded":"false",onClick:f[1]||(f[1]=v=>u("/1"))},{default:es(()=>f[6]||(f[6]=[Ns(" Page 1 ")])),_:1},8,["class"])]),It("li",_f,[Bt(g,{class:Pi(["nav-link",h("viewTwo")]),to:"/2",role:"button","aria-expanded":"false",onClick:f[2]||(f[2]=v=>u("/2"))},{default:es(()=>f[7]||(f[7]=[Ns(" Page 2 ")])),_:1},8,["class"])]),It("li",Tf,[Bt(g,{class:Pi(["nav-link",h("viewThree")]),to:"/3",role:"button","aria-expanded":"false",onClick:f[3]||(f[3]=v=>u("/3"))},{default:es(()=>f[8]||(f[8]=[Ns(" Page 3 ")])),_:1},8,["class"])]),It("li",Rf,[Bt(g,{class:Pi(["nav-link",h("viewFour")]),to:"/3",role:"button","aria-expanded":"false",onClick:f[4]||(f[4]=v=>u("/4"))},{default:es(()=>f[9]||(f[9]=[Ns(" Page 4 ")])),_:1},8,["class"])])])])}}},Sf={class:"h-100 d-flex flex-column container-fluid"},Mf={__name:"Home",setup(s){const i=Sh([]),a=ra();function h(f){let g=[];for(let v=0;v<f;v++){let E=[];for(let w=0;w<f;w++)E.push(0);g.push(E),i.value=g}}function u(f,g){if(i.value.length,console.log(i.value),console.log(f,g),f==null||g==null)return;i.value[f][g]+=1;let v=i.value[f].reduce((E,w)=>E+w,0);i.value[f]=i.value[f].map(E=>E/v)}const p=Ce(()=>i.value?i.value.map((f,g)=>(console.log(f),{FromTo:g,0:(f[0]*100).toFixed(0)+" %",1:(f[1]*100).toFixed(0)+" %",2:(f[2]*100).toFixed(0)+" %",3:(f[3]*100).toFixed(0)+" %",4:(f[4]*100).toFixed(0)+" %",Total:(f.reduce((v,E)=>v+E,0)*100).toFixed(0)+" %"})):[]);return Gs(()=>a.currentRoute.value,(f,g)=>{const v=g==null?void 0:g.path,E=f==null?void 0:f.path;if(console.log(v,E),!v||!E)return;const w=parseInt(v.replace(/\D/g,""),10),_=parseInt(E.replace(/\D/g,""),10);!isNaN(w)&&!isNaN(_)?u(w,_):isNaN(_)||u(_,_)}),_i(()=>{h(5)}),(f,g)=>{const v=Vh("RouterView");return ei(),ii("div",Sf,[Bt(xf),Bt(v,{tableData:p.value,class:"container-fluid mt-4"},null,8,["tableData"])])}}},Lf={class:"h-100"},kf={__name:"App",setup(s){return(i,a)=>(ei(),ii("div",Lf,[Bt(Mf)]))}};var le="top",ve="bottom",we="right",he="left",so="auto",ys=[le,ve,we,he],Bi="start",fs="end",yc="clippingParents",aa="viewport",ss="popper",_c="reference",Dr=ys.reduce(function(s,i){return s.concat([i+"-"+Bi,i+"-"+fs])},[]),la=[].concat(ys,[so]).reduce(function(s,i){return s.concat([i,i+"-"+Bi,i+"-"+fs])},[]),Tc="beforeRead",Rc="read",xc="afterRead",Sc="beforeMain",Mc="main",Lc="afterMain",kc="beforeWrite",Ac="write",Dc="afterWrite",Oc=[Tc,Rc,xc,Sc,Mc,Lc,kc,Ac,Dc];function We(s){return s?(s.nodeName||"").toLowerCase():null}function Ee(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var i=s.ownerDocument;return i&&i.defaultView||window}return s}function Vi(s){var i=Ee(s).Element;return s instanceof i||s instanceof Element}function ye(s){var i=Ee(s).HTMLElement;return s instanceof i||s instanceof HTMLElement}function ha(s){if(typeof ShadowRoot>"u")return!1;var i=Ee(s).ShadowRoot;return s instanceof i||s instanceof ShadowRoot}function Af(s){var i=s.state;Object.keys(i.elements).forEach(function(a){var h=i.styles[a]||{},u=i.attributes[a]||{},p=i.elements[a];!ye(p)||!We(p)||(Object.assign(p.style,h),Object.keys(u).forEach(function(f){var g=u[f];g===!1?p.removeAttribute(f):p.setAttribute(f,g===!0?"":g)}))})}function Df(s){var i=s.state,a={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(i.elements.popper.style,a.popper),i.styles=a,i.elements.arrow&&Object.assign(i.elements.arrow.style,a.arrow),function(){Object.keys(i.elements).forEach(function(h){var u=i.elements[h],p=i.attributes[h]||{},f=Object.keys(i.styles.hasOwnProperty(h)?i.styles[h]:a[h]),g=f.reduce(function(v,E){return v[E]="",v},{});!ye(u)||!We(u)||(Object.assign(u.style,g),Object.keys(p).forEach(function(v){u.removeAttribute(v)}))})}}const ca={name:"applyStyles",enabled:!0,phase:"write",fn:Af,effect:Df,requires:["computeStyles"]};function Ie(s){return s.split("-")[0]}var Ni=Math.max,Vn=Math.min,gs=Math.round;function Or(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(i){return i.brand+"/"+i.version}).join(" "):navigator.userAgent}function Pc(){return!/^((?!chrome|android).)*safari/i.test(Or())}function bs(s,i,a){i===void 0&&(i=!1),a===void 0&&(a=!1);var h=s.getBoundingClientRect(),u=1,p=1;i&&ye(s)&&(u=s.offsetWidth>0&&gs(h.width)/s.offsetWidth||1,p=s.offsetHeight>0&&gs(h.height)/s.offsetHeight||1);var f=Vi(s)?Ee(s):window,g=f.visualViewport,v=!Pc()&&a,E=(h.left+(v&&g?g.offsetLeft:0))/u,w=(h.top+(v&&g?g.offsetTop:0))/p,_=h.width/u,S=h.height/p;return{width:_,height:S,top:w,right:E+_,bottom:w+S,left:E,x:E,y:w}}function ua(s){var i=bs(s),a=s.offsetWidth,h=s.offsetHeight;return Math.abs(i.width-a)<=1&&(a=i.width),Math.abs(i.height-h)<=1&&(h=i.height),{x:s.offsetLeft,y:s.offsetTop,width:a,height:h}}function Hc(s,i){var a=i.getRootNode&&i.getRootNode();if(s.contains(i))return!0;if(a&&ha(a)){var h=i;do{if(h&&s.isSameNode(h))return!0;h=h.parentNode||h.host}while(h)}return!1}function Ze(s){return Ee(s).getComputedStyle(s)}function Of(s){return["table","td","th"].indexOf(We(s))>=0}function Ti(s){return((Vi(s)?s.ownerDocument:s.document)||window.document).documentElement}function no(s){return We(s)==="html"?s:s.assignedSlot||s.parentNode||(ha(s)?s.host:null)||Ti(s)}function Cl(s){return!ye(s)||Ze(s).position==="fixed"?null:s.offsetParent}function Pf(s){var i=/firefox/i.test(Or()),a=/Trident/i.test(Or());if(a&&ye(s)){var h=Ze(s);if(h.position==="fixed")return null}var u=no(s);for(ha(u)&&(u=u.host);ye(u)&&["html","body"].indexOf(We(u))<0;){var p=Ze(u);if(p.transform!=="none"||p.perspective!=="none"||p.contain==="paint"||["transform","perspective"].indexOf(p.willChange)!==-1||i&&p.willChange==="filter"||i&&p.filter&&p.filter!=="none")return u;u=u.parentNode}return null}function hn(s){for(var i=Ee(s),a=Cl(s);a&&Of(a)&&Ze(a).position==="static";)a=Cl(a);return a&&(We(a)==="html"||We(a)==="body"&&Ze(a).position==="static")?i:a||Pf(s)||i}function da(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function qs(s,i,a){return Ni(s,Vn(i,a))}function Hf(s,i,a){var h=qs(s,i,a);return h>a?a:h}function Fc(){return{top:0,right:0,bottom:0,left:0}}function zc(s){return Object.assign({},Fc(),s)}function Nc(s,i){return i.reduce(function(a,h){return a[h]=s,a},{})}var Ff=function(i,a){return i=typeof i=="function"?i(Object.assign({},a.rects,{placement:a.placement})):i,zc(typeof i!="number"?i:Nc(i,ys))};function zf(s){var i,a=s.state,h=s.name,u=s.options,p=a.elements.arrow,f=a.modifiersData.popperOffsets,g=Ie(a.placement),v=da(g),E=[he,we].indexOf(g)>=0,w=E?"height":"width";if(!(!p||!f)){var _=Ff(u.padding,a),S=ua(p),M=v==="y"?le:he,V=v==="y"?ve:we,O=a.rects.reference[w]+a.rects.reference[v]-f[v]-a.rects.popper[w],W=f[v]-a.rects.reference[v],Y=hn(p),U=Y?v==="y"?Y.clientHeight||0:Y.clientWidth||0:0,Q=O/2-W/2,I=_[M],nt=U-S[w]-_[V],lt=U/2-S[w]/2+Q,ht=qs(I,lt,nt),Ct=v;a.modifiersData[h]=(i={},i[Ct]=ht,i.centerOffset=ht-lt,i)}}function Nf(s){var i=s.state,a=s.options,h=a.element,u=h===void 0?"[data-popper-arrow]":h;u!=null&&(typeof u=="string"&&(u=i.elements.popper.querySelector(u),!u)||Hc(i.elements.popper,u)&&(i.elements.arrow=u))}const Ic={name:"arrow",enabled:!0,phase:"main",fn:zf,effect:Nf,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vs(s){return s.split("-")[1]}var If={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Bf(s,i){var a=s.x,h=s.y,u=i.devicePixelRatio||1;return{x:gs(a*u)/u||0,y:gs(h*u)/u||0}}function yl(s){var i,a=s.popper,h=s.popperRect,u=s.placement,p=s.variation,f=s.offsets,g=s.position,v=s.gpuAcceleration,E=s.adaptive,w=s.roundOffsets,_=s.isFixed,S=f.x,M=S===void 0?0:S,V=f.y,O=V===void 0?0:V,W=typeof w=="function"?w({x:M,y:O}):{x:M,y:O};M=W.x,O=W.y;var Y=f.hasOwnProperty("x"),U=f.hasOwnProperty("y"),Q=he,I=le,nt=window;if(E){var lt=hn(a),ht="clientHeight",Ct="clientWidth";if(lt===Ee(a)&&(lt=Ti(a),Ze(lt).position!=="static"&&g==="absolute"&&(ht="scrollHeight",Ct="scrollWidth")),lt=lt,u===le||(u===he||u===we)&&p===fs){I=ve;var Rt=_&&lt===nt&&nt.visualViewport?nt.visualViewport.height:lt[ht];O-=Rt-h.height,O*=v?1:-1}if(u===he||(u===le||u===ve)&&p===fs){Q=we;var wt=_&&lt===nt&&nt.visualViewport?nt.visualViewport.width:lt[Ct];M-=wt-h.width,M*=v?1:-1}}var Mt=Object.assign({position:g},E&&If),Pt=w===!0?Bf({x:M,y:O},Ee(a)):{x:M,y:O};if(M=Pt.x,O=Pt.y,v){var Z;return Object.assign({},Mt,(Z={},Z[I]=U?"0":"",Z[Q]=Y?"0":"",Z.transform=(nt.devicePixelRatio||1)<=1?"translate("+M+"px, "+O+"px)":"translate3d("+M+"px, "+O+"px, 0)",Z))}return Object.assign({},Mt,(i={},i[I]=U?O+"px":"",i[Q]=Y?M+"px":"",i.transform="",i))}function Vf(s){var i=s.state,a=s.options,h=a.gpuAcceleration,u=h===void 0?!0:h,p=a.adaptive,f=p===void 0?!0:p,g=a.roundOffsets,v=g===void 0?!0:g,E={placement:Ie(i.placement),variation:vs(i.placement),popper:i.elements.popper,popperRect:i.rects.popper,gpuAcceleration:u,isFixed:i.options.strategy==="fixed"};i.modifiersData.popperOffsets!=null&&(i.styles.popper=Object.assign({},i.styles.popper,yl(Object.assign({},E,{offsets:i.modifiersData.popperOffsets,position:i.options.strategy,adaptive:f,roundOffsets:v})))),i.modifiersData.arrow!=null&&(i.styles.arrow=Object.assign({},i.styles.arrow,yl(Object.assign({},E,{offsets:i.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:v})))),i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-placement":i.placement})}const pa={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Vf,data:{}};var Cn={passive:!0};function Wf(s){var i=s.state,a=s.instance,h=s.options,u=h.scroll,p=u===void 0?!0:u,f=h.resize,g=f===void 0?!0:f,v=Ee(i.elements.popper),E=[].concat(i.scrollParents.reference,i.scrollParents.popper);return p&&E.forEach(function(w){w.addEventListener("scroll",a.update,Cn)}),g&&v.addEventListener("resize",a.update,Cn),function(){p&&E.forEach(function(w){w.removeEventListener("scroll",a.update,Cn)}),g&&v.removeEventListener("resize",a.update,Cn)}}const ma={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Wf,data:{}};var jf={left:"right",right:"left",bottom:"top",top:"bottom"};function An(s){return s.replace(/left|right|bottom|top/g,function(i){return jf[i]})}var $f={start:"end",end:"start"};function _l(s){return s.replace(/start|end/g,function(i){return $f[i]})}function fa(s){var i=Ee(s),a=i.pageXOffset,h=i.pageYOffset;return{scrollLeft:a,scrollTop:h}}function ga(s){return bs(Ti(s)).left+fa(s).scrollLeft}function Gf(s,i){var a=Ee(s),h=Ti(s),u=a.visualViewport,p=h.clientWidth,f=h.clientHeight,g=0,v=0;if(u){p=u.width,f=u.height;var E=Pc();(E||!E&&i==="fixed")&&(g=u.offsetLeft,v=u.offsetTop)}return{width:p,height:f,x:g+ga(s),y:v}}function Uf(s){var i,a=Ti(s),h=fa(s),u=(i=s.ownerDocument)==null?void 0:i.body,p=Ni(a.scrollWidth,a.clientWidth,u?u.scrollWidth:0,u?u.clientWidth:0),f=Ni(a.scrollHeight,a.clientHeight,u?u.scrollHeight:0,u?u.clientHeight:0),g=-h.scrollLeft+ga(s),v=-h.scrollTop;return Ze(u||a).direction==="rtl"&&(g+=Ni(a.clientWidth,u?u.clientWidth:0)-p),{width:p,height:f,x:g,y:v}}function ba(s){var i=Ze(s),a=i.overflow,h=i.overflowX,u=i.overflowY;return/auto|scroll|overlay|hidden/.test(a+u+h)}function Bc(s){return["html","body","#document"].indexOf(We(s))>=0?s.ownerDocument.body:ye(s)&&ba(s)?s:Bc(no(s))}function Xs(s,i){var a;i===void 0&&(i=[]);var h=Bc(s),u=h===((a=s.ownerDocument)==null?void 0:a.body),p=Ee(h),f=u?[p].concat(p.visualViewport||[],ba(h)?h:[]):h,g=i.concat(f);return u?g:g.concat(Xs(no(f)))}function Pr(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function Kf(s,i){var a=bs(s,!1,i==="fixed");return a.top=a.top+s.clientTop,a.left=a.left+s.clientLeft,a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,a.width=s.clientWidth,a.height=s.clientHeight,a.x=a.left,a.y=a.top,a}function Tl(s,i,a){return i===aa?Pr(Gf(s,a)):Vi(i)?Kf(i,a):Pr(Uf(Ti(s)))}function Yf(s){var i=Xs(no(s)),a=["absolute","fixed"].indexOf(Ze(s).position)>=0,h=a&&ye(s)?hn(s):s;return Vi(h)?i.filter(function(u){return Vi(u)&&Hc(u,h)&&We(u)!=="body"}):[]}function qf(s,i,a,h){var u=i==="clippingParents"?Yf(s):[].concat(i),p=[].concat(u,[a]),f=p[0],g=p.reduce(function(v,E){var w=Tl(s,E,h);return v.top=Ni(w.top,v.top),v.right=Vn(w.right,v.right),v.bottom=Vn(w.bottom,v.bottom),v.left=Ni(w.left,v.left),v},Tl(s,f,h));return g.width=g.right-g.left,g.height=g.bottom-g.top,g.x=g.left,g.y=g.top,g}function Vc(s){var i=s.reference,a=s.element,h=s.placement,u=h?Ie(h):null,p=h?vs(h):null,f=i.x+i.width/2-a.width/2,g=i.y+i.height/2-a.height/2,v;switch(u){case le:v={x:f,y:i.y-a.height};break;case ve:v={x:f,y:i.y+i.height};break;case we:v={x:i.x+i.width,y:g};break;case he:v={x:i.x-a.width,y:g};break;default:v={x:i.x,y:i.y}}var E=u?da(u):null;if(E!=null){var w=E==="y"?"height":"width";switch(p){case Bi:v[E]=v[E]-(i[w]/2-a[w]/2);break;case fs:v[E]=v[E]+(i[w]/2-a[w]/2);break}}return v}function ws(s,i){i===void 0&&(i={});var a=i,h=a.placement,u=h===void 0?s.placement:h,p=a.strategy,f=p===void 0?s.strategy:p,g=a.boundary,v=g===void 0?yc:g,E=a.rootBoundary,w=E===void 0?aa:E,_=a.elementContext,S=_===void 0?ss:_,M=a.altBoundary,V=M===void 0?!1:M,O=a.padding,W=O===void 0?0:O,Y=zc(typeof W!="number"?W:Nc(W,ys)),U=S===ss?_c:ss,Q=s.rects.popper,I=s.elements[V?U:S],nt=qf(Vi(I)?I:I.contextElement||Ti(s.elements.popper),v,w,f),lt=bs(s.elements.reference),ht=Vc({reference:lt,element:Q,strategy:"absolute",placement:u}),Ct=Pr(Object.assign({},Q,ht)),Rt=S===ss?Ct:lt,wt={top:nt.top-Rt.top+Y.top,bottom:Rt.bottom-nt.bottom+Y.bottom,left:nt.left-Rt.left+Y.left,right:Rt.right-nt.right+Y.right},Mt=s.modifiersData.offset;if(S===ss&&Mt){var Pt=Mt[u];Object.keys(wt).forEach(function(Z){var qt=[we,ve].indexOf(Z)>=0?1:-1,Xt=[le,ve].indexOf(Z)>=0?"y":"x";wt[Z]+=Pt[Xt]*qt})}return wt}function Xf(s,i){i===void 0&&(i={});var a=i,h=a.placement,u=a.boundary,p=a.rootBoundary,f=a.padding,g=a.flipVariations,v=a.allowedAutoPlacements,E=v===void 0?la:v,w=vs(h),_=w?g?Dr:Dr.filter(function(V){return vs(V)===w}):ys,S=_.filter(function(V){return E.indexOf(V)>=0});S.length===0&&(S=_);var M=S.reduce(function(V,O){return V[O]=ws(s,{placement:O,boundary:u,rootBoundary:p,padding:f})[Ie(O)],V},{});return Object.keys(M).sort(function(V,O){return M[V]-M[O]})}function Jf(s){if(Ie(s)===so)return[];var i=An(s);return[_l(s),i,_l(i)]}function Qf(s){var i=s.state,a=s.options,h=s.name;if(!i.modifiersData[h]._skip){for(var u=a.mainAxis,p=u===void 0?!0:u,f=a.altAxis,g=f===void 0?!0:f,v=a.fallbackPlacements,E=a.padding,w=a.boundary,_=a.rootBoundary,S=a.altBoundary,M=a.flipVariations,V=M===void 0?!0:M,O=a.allowedAutoPlacements,W=i.options.placement,Y=Ie(W),U=Y===W,Q=v||(U||!V?[An(W)]:Jf(W)),I=[W].concat(Q).reduce(function(ee,Ut){return ee.concat(Ie(Ut)===so?Xf(i,{placement:Ut,boundary:w,rootBoundary:_,padding:E,flipVariations:V,allowedAutoPlacements:O}):Ut)},[]),nt=i.rects.reference,lt=i.rects.popper,ht=new Map,Ct=!0,Rt=I[0],wt=0;wt<I.length;wt++){var Mt=I[wt],Pt=Ie(Mt),Z=vs(Mt)===Bi,qt=[le,ve].indexOf(Pt)>=0,Xt=qt?"width":"height",gt=ws(i,{placement:Mt,boundary:w,rootBoundary:_,altBoundary:S,padding:E}),ut=qt?Z?we:he:Z?ve:le;nt[Xt]>lt[Xt]&&(ut=An(ut));var mt=An(ut),zt=[];if(p&&zt.push(gt[Pt]<=0),g&&zt.push(gt[ut]<=0,gt[mt]<=0),zt.every(function(ee){return ee})){Rt=Mt,Ct=!1;break}ht.set(Mt,zt)}if(Ct)for(var Gt=V?3:1,Wt=function(Ut){var Ht=I.find(function(D){var X=ht.get(D);if(X)return X.slice(0,Ut).every(function(K){return K})});if(Ht)return Rt=Ht,"break"},Ot=Gt;Ot>0;Ot--){var Nt=Wt(Ot);if(Nt==="break")break}i.placement!==Rt&&(i.modifiersData[h]._skip=!0,i.placement=Rt,i.reset=!0)}}const Wc={name:"flip",enabled:!0,phase:"main",fn:Qf,requiresIfExists:["offset"],data:{_skip:!1}};function Rl(s,i,a){return a===void 0&&(a={x:0,y:0}),{top:s.top-i.height-a.y,right:s.right-i.width+a.x,bottom:s.bottom-i.height+a.y,left:s.left-i.width-a.x}}function xl(s){return[le,we,ve,he].some(function(i){return s[i]>=0})}function Zf(s){var i=s.state,a=s.name,h=i.rects.reference,u=i.rects.popper,p=i.modifiersData.preventOverflow,f=ws(i,{elementContext:"reference"}),g=ws(i,{altBoundary:!0}),v=Rl(f,h),E=Rl(g,u,p),w=xl(v),_=xl(E);i.modifiersData[a]={referenceClippingOffsets:v,popperEscapeOffsets:E,isReferenceHidden:w,hasPopperEscaped:_},i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-reference-hidden":w,"data-popper-escaped":_})}const jc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zf};function tg(s,i,a){var h=Ie(s),u=[he,le].indexOf(h)>=0?-1:1,p=typeof a=="function"?a(Object.assign({},i,{placement:s})):a,f=p[0],g=p[1];return f=f||0,g=(g||0)*u,[he,we].indexOf(h)>=0?{x:g,y:f}:{x:f,y:g}}function eg(s){var i=s.state,a=s.options,h=s.name,u=a.offset,p=u===void 0?[0,0]:u,f=la.reduce(function(w,_){return w[_]=tg(_,i.rects,p),w},{}),g=f[i.placement],v=g.x,E=g.y;i.modifiersData.popperOffsets!=null&&(i.modifiersData.popperOffsets.x+=v,i.modifiersData.popperOffsets.y+=E),i.modifiersData[h]=f}const $c={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:eg};function ig(s){var i=s.state,a=s.name;i.modifiersData[a]=Vc({reference:i.rects.reference,element:i.rects.popper,strategy:"absolute",placement:i.placement})}const va={name:"popperOffsets",enabled:!0,phase:"read",fn:ig,data:{}};function sg(s){return s==="x"?"y":"x"}function ng(s){var i=s.state,a=s.options,h=s.name,u=a.mainAxis,p=u===void 0?!0:u,f=a.altAxis,g=f===void 0?!1:f,v=a.boundary,E=a.rootBoundary,w=a.altBoundary,_=a.padding,S=a.tether,M=S===void 0?!0:S,V=a.tetherOffset,O=V===void 0?0:V,W=ws(i,{boundary:v,rootBoundary:E,padding:_,altBoundary:w}),Y=Ie(i.placement),U=vs(i.placement),Q=!U,I=da(Y),nt=sg(I),lt=i.modifiersData.popperOffsets,ht=i.rects.reference,Ct=i.rects.popper,Rt=typeof O=="function"?O(Object.assign({},i.rects,{placement:i.placement})):O,wt=typeof Rt=="number"?{mainAxis:Rt,altAxis:Rt}:Object.assign({mainAxis:0,altAxis:0},Rt),Mt=i.modifiersData.offset?i.modifiersData.offset[i.placement]:null,Pt={x:0,y:0};if(lt){if(p){var Z,qt=I==="y"?le:he,Xt=I==="y"?ve:we,gt=I==="y"?"height":"width",ut=lt[I],mt=ut+W[qt],zt=ut-W[Xt],Gt=M?-Ct[gt]/2:0,Wt=U===Bi?ht[gt]:Ct[gt],Ot=U===Bi?-Ct[gt]:-ht[gt],Nt=i.elements.arrow,ee=M&&Nt?ua(Nt):{width:0,height:0},Ut=i.modifiersData["arrow#persistent"]?i.modifiersData["arrow#persistent"].padding:Fc(),Ht=Ut[qt],D=Ut[Xt],X=qs(0,ht[gt],ee[gt]),K=Q?ht[gt]/2-Gt-X-Ht-wt.mainAxis:Wt-X-Ht-wt.mainAxis,tt=Q?-ht[gt]/2+Gt+X+D+wt.mainAxis:Ot+X+D+wt.mainAxis,ft=i.elements.arrow&&hn(i.elements.arrow),Lt=ft?I==="y"?ft.clientTop||0:ft.clientLeft||0:0,y=(Z=Mt==null?void 0:Mt[I])!=null?Z:0,T=ut+K-y-Lt,k=ut+tt-y,P=qs(M?Vn(mt,T):mt,ut,M?Ni(zt,k):zt);lt[I]=P,Pt[I]=P-ut}if(g){var A,N=I==="x"?le:he,q=I==="x"?ve:we,j=lt[nt],$=nt==="y"?"height":"width",z=j+W[N],ot=j-W[q],J=[le,he].indexOf(Y)!==-1,st=(A=Mt==null?void 0:Mt[nt])!=null?A:0,at=J?z:j-ht[$]-Ct[$]-st+wt.altAxis,pt=J?j+ht[$]+Ct[$]-st-wt.altAxis:ot,vt=M&&J?Hf(at,j,pt):qs(M?at:z,j,M?pt:ot);lt[nt]=vt,Pt[nt]=vt-j}i.modifiersData[h]=Pt}}const Gc={name:"preventOverflow",enabled:!0,phase:"main",fn:ng,requiresIfExists:["offset"]};function og(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function rg(s){return s===Ee(s)||!ye(s)?fa(s):og(s)}function ag(s){var i=s.getBoundingClientRect(),a=gs(i.width)/s.offsetWidth||1,h=gs(i.height)/s.offsetHeight||1;return a!==1||h!==1}function lg(s,i,a){a===void 0&&(a=!1);var h=ye(i),u=ye(i)&&ag(i),p=Ti(i),f=bs(s,u,a),g={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(h||!h&&!a)&&((We(i)!=="body"||ba(p))&&(g=rg(i)),ye(i)?(v=bs(i,!0),v.x+=i.clientLeft,v.y+=i.clientTop):p&&(v.x=ga(p))),{x:f.left+g.scrollLeft-v.x,y:f.top+g.scrollTop-v.y,width:f.width,height:f.height}}function hg(s){var i=new Map,a=new Set,h=[];s.forEach(function(p){i.set(p.name,p)});function u(p){a.add(p.name);var f=[].concat(p.requires||[],p.requiresIfExists||[]);f.forEach(function(g){if(!a.has(g)){var v=i.get(g);v&&u(v)}}),h.push(p)}return s.forEach(function(p){a.has(p.name)||u(p)}),h}function cg(s){var i=hg(s);return Oc.reduce(function(a,h){return a.concat(i.filter(function(u){return u.phase===h}))},[])}function ug(s){var i;return function(){return i||(i=new Promise(function(a){Promise.resolve().then(function(){i=void 0,a(s())})})),i}}function dg(s){var i=s.reduce(function(a,h){var u=a[h.name];return a[h.name]=u?Object.assign({},u,h,{options:Object.assign({},u.options,h.options),data:Object.assign({},u.data,h.data)}):h,a},{});return Object.keys(i).map(function(a){return i[a]})}var Sl={placement:"bottom",modifiers:[],strategy:"absolute"};function Ml(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return!i.some(function(h){return!(h&&typeof h.getBoundingClientRect=="function")})}function oo(s){s===void 0&&(s={});var i=s,a=i.defaultModifiers,h=a===void 0?[]:a,u=i.defaultOptions,p=u===void 0?Sl:u;return function(g,v,E){E===void 0&&(E=p);var w={placement:"bottom",orderedModifiers:[],options:Object.assign({},Sl,p),modifiersData:{},elements:{reference:g,popper:v},attributes:{},styles:{}},_=[],S=!1,M={state:w,setOptions:function(Y){var U=typeof Y=="function"?Y(w.options):Y;O(),w.options=Object.assign({},p,w.options,U),w.scrollParents={reference:Vi(g)?Xs(g):g.contextElement?Xs(g.contextElement):[],popper:Xs(v)};var Q=cg(dg([].concat(h,w.options.modifiers)));return w.orderedModifiers=Q.filter(function(I){return I.enabled}),V(),M.update()},forceUpdate:function(){if(!S){var Y=w.elements,U=Y.reference,Q=Y.popper;if(Ml(U,Q)){w.rects={reference:lg(U,hn(Q),w.options.strategy==="fixed"),popper:ua(Q)},w.reset=!1,w.placement=w.options.placement,w.orderedModifiers.forEach(function(wt){return w.modifiersData[wt.name]=Object.assign({},wt.data)});for(var I=0;I<w.orderedModifiers.length;I++){if(w.reset===!0){w.reset=!1,I=-1;continue}var nt=w.orderedModifiers[I],lt=nt.fn,ht=nt.options,Ct=ht===void 0?{}:ht,Rt=nt.name;typeof lt=="function"&&(w=lt({state:w,options:Ct,name:Rt,instance:M})||w)}}}},update:ug(function(){return new Promise(function(W){M.forceUpdate(),W(w)})}),destroy:function(){O(),S=!0}};if(!Ml(g,v))return M;M.setOptions(E).then(function(W){!S&&E.onFirstUpdate&&E.onFirstUpdate(W)});function V(){w.orderedModifiers.forEach(function(W){var Y=W.name,U=W.options,Q=U===void 0?{}:U,I=W.effect;if(typeof I=="function"){var nt=I({state:w,name:Y,instance:M,options:Q}),lt=function(){};_.push(nt||lt)}})}function O(){_.forEach(function(W){return W()}),_=[]}return M}}var pg=oo(),mg=[ma,va,pa,ca],fg=oo({defaultModifiers:mg}),gg=[ma,va,pa,ca,$c,Wc,Gc,Ic,jc],wa=oo({defaultModifiers:gg});const Uc=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Lc,afterRead:xc,afterWrite:Dc,applyStyles:ca,arrow:Ic,auto:so,basePlacements:ys,beforeMain:Sc,beforeRead:Tc,beforeWrite:kc,bottom:ve,clippingParents:yc,computeStyles:pa,createPopper:wa,createPopperBase:pg,createPopperLite:fg,detectOverflow:ws,end:fs,eventListeners:ma,flip:Wc,hide:jc,left:he,main:Mc,modifierPhases:Oc,offset:$c,placements:la,popper:ss,popperGenerator:oo,popperOffsets:va,preventOverflow:Gc,read:Rc,reference:_c,right:we,start:Bi,top:le,variationPlacements:Dr,viewport:aa,write:Ac},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const ui=new Map,ir={set(s,i,a){ui.has(s)||ui.set(s,new Map);const h=ui.get(s);if(!h.has(i)&&h.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(h.keys())[0]}.`);return}h.set(i,a)},get(s,i){return ui.has(s)&&ui.get(s).get(i)||null},remove(s,i){if(!ui.has(s))return;const a=ui.get(s);a.delete(i),a.size===0&&ui.delete(s)}},bg=1e6,vg=1e3,Hr="transitionend",Kc=s=>(s&&window.CSS&&window.CSS.escape&&(s=s.replace(/#([^\s"#']+)/g,(i,a)=>`#${CSS.escape(a)}`)),s),wg=s=>s==null?`${s}`:Object.prototype.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase(),Eg=s=>{do s+=Math.floor(Math.random()*bg);while(document.getElementById(s));return s},Cg=s=>{if(!s)return 0;let{transitionDuration:i,transitionDelay:a}=window.getComputedStyle(s);const h=Number.parseFloat(i),u=Number.parseFloat(a);return!h&&!u?0:(i=i.split(",")[0],a=a.split(",")[0],(Number.parseFloat(i)+Number.parseFloat(a))*vg)},Yc=s=>{s.dispatchEvent(new Event(Hr))},Je=s=>!s||typeof s!="object"?!1:(typeof s.jquery<"u"&&(s=s[0]),typeof s.nodeType<"u"),bi=s=>Je(s)?s.jquery?s[0]:s:typeof s=="string"&&s.length>0?document.querySelector(Kc(s)):null,_s=s=>{if(!Je(s)||s.getClientRects().length===0)return!1;const i=getComputedStyle(s).getPropertyValue("visibility")==="visible",a=s.closest("details:not([open])");if(!a)return i;if(a!==s){const h=s.closest("summary");if(h&&h.parentNode!==a||h===null)return!1}return i},vi=s=>!s||s.nodeType!==Node.ELEMENT_NODE||s.classList.contains("disabled")?!0:typeof s.disabled<"u"?s.disabled:s.hasAttribute("disabled")&&s.getAttribute("disabled")!=="false",qc=s=>{if(!document.documentElement.attachShadow)return null;if(typeof s.getRootNode=="function"){const i=s.getRootNode();return i instanceof ShadowRoot?i:null}return s instanceof ShadowRoot?s:s.parentNode?qc(s.parentNode):null},Wn=()=>{},cn=s=>{s.offsetHeight},Xc=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,sr=[],yg=s=>{document.readyState==="loading"?(sr.length||document.addEventListener("DOMContentLoaded",()=>{for(const i of sr)i()}),sr.push(s)):s()},Te=()=>document.documentElement.dir==="rtl",xe=s=>{yg(()=>{const i=Xc();if(i){const a=s.NAME,h=i.fn[a];i.fn[a]=s.jQueryInterface,i.fn[a].Constructor=s,i.fn[a].noConflict=()=>(i.fn[a]=h,s.jQueryInterface)}})},ue=(s,i=[],a=s)=>typeof s=="function"?s(...i):a,Jc=(s,i,a=!0)=>{if(!a){ue(s);return}const u=Cg(i)+5;let p=!1;const f=({target:g})=>{g===i&&(p=!0,i.removeEventListener(Hr,f),ue(s))};i.addEventListener(Hr,f),setTimeout(()=>{p||Yc(i)},u)},Ea=(s,i,a,h)=>{const u=s.length;let p=s.indexOf(i);return p===-1?!a&&h?s[u-1]:s[0]:(p+=a?1:-1,h&&(p=(p+u)%u),s[Math.max(0,Math.min(p,u-1))])},_g=/[^.]*(?=\..*)\.|.*/,Tg=/\..*/,Rg=/::\d+$/,nr={};let Ll=1;const Qc={mouseenter:"mouseover",mouseleave:"mouseout"},xg=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Zc(s,i){return i&&`${i}::${Ll++}`||s.uidEvent||Ll++}function tu(s){const i=Zc(s);return s.uidEvent=i,nr[i]=nr[i]||{},nr[i]}function Sg(s,i){return function a(h){return Ca(h,{delegateTarget:s}),a.oneOff&&F.off(s,h.type,i),i.apply(s,[h])}}function Mg(s,i,a){return function h(u){const p=s.querySelectorAll(i);for(let{target:f}=u;f&&f!==this;f=f.parentNode)for(const g of p)if(g===f)return Ca(u,{delegateTarget:f}),h.oneOff&&F.off(s,u.type,i,a),a.apply(f,[u])}}function eu(s,i,a=null){return Object.values(s).find(h=>h.callable===i&&h.delegationSelector===a)}function iu(s,i,a){const h=typeof i=="string",u=h?a:i||a;let p=su(s);return xg.has(p)||(p=s),[h,u,p]}function kl(s,i,a,h,u){if(typeof i!="string"||!s)return;let[p,f,g]=iu(i,a,h);i in Qc&&(f=(V=>function(O){if(!O.relatedTarget||O.relatedTarget!==O.delegateTarget&&!O.delegateTarget.contains(O.relatedTarget))return V.call(this,O)})(f));const v=tu(s),E=v[g]||(v[g]={}),w=eu(E,f,p?a:null);if(w){w.oneOff=w.oneOff&&u;return}const _=Zc(f,i.replace(_g,"")),S=p?Mg(s,a,f):Sg(s,f);S.delegationSelector=p?a:null,S.callable=f,S.oneOff=u,S.uidEvent=_,E[_]=S,s.addEventListener(g,S,p)}function Fr(s,i,a,h,u){const p=eu(i[a],h,u);p&&(s.removeEventListener(a,p,!!u),delete i[a][p.uidEvent])}function Lg(s,i,a,h){const u=i[a]||{};for(const[p,f]of Object.entries(u))p.includes(h)&&Fr(s,i,a,f.callable,f.delegationSelector)}function su(s){return s=s.replace(Tg,""),Qc[s]||s}const F={on(s,i,a,h){kl(s,i,a,h,!1)},one(s,i,a,h){kl(s,i,a,h,!0)},off(s,i,a,h){if(typeof i!="string"||!s)return;const[u,p,f]=iu(i,a,h),g=f!==i,v=tu(s),E=v[f]||{},w=i.startsWith(".");if(typeof p<"u"){if(!Object.keys(E).length)return;Fr(s,v,f,p,u?a:null);return}if(w)for(const _ of Object.keys(v))Lg(s,v,_,i.slice(1));for(const[_,S]of Object.entries(E)){const M=_.replace(Rg,"");(!g||i.includes(M))&&Fr(s,v,f,S.callable,S.delegationSelector)}},trigger(s,i,a){if(typeof i!="string"||!s)return null;const h=Xc(),u=su(i),p=i!==u;let f=null,g=!0,v=!0,E=!1;p&&h&&(f=h.Event(i,a),h(s).trigger(f),g=!f.isPropagationStopped(),v=!f.isImmediatePropagationStopped(),E=f.isDefaultPrevented());const w=Ca(new Event(i,{bubbles:g,cancelable:!0}),a);return E&&w.preventDefault(),v&&s.dispatchEvent(w),w.defaultPrevented&&f&&f.preventDefault(),w}};function Ca(s,i={}){for(const[a,h]of Object.entries(i))try{s[a]=h}catch{Object.defineProperty(s,a,{configurable:!0,get(){return h}})}return s}function Al(s){if(s==="true")return!0;if(s==="false")return!1;if(s===Number(s).toString())return Number(s);if(s===""||s==="null")return null;if(typeof s!="string")return s;try{return JSON.parse(decodeURIComponent(s))}catch{return s}}function or(s){return s.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`)}const Qe={setDataAttribute(s,i,a){s.setAttribute(`data-bs-${or(i)}`,a)},removeDataAttribute(s,i){s.removeAttribute(`data-bs-${or(i)}`)},getDataAttributes(s){if(!s)return{};const i={},a=Object.keys(s.dataset).filter(h=>h.startsWith("bs")&&!h.startsWith("bsConfig"));for(const h of a){let u=h.replace(/^bs/,"");u=u.charAt(0).toLowerCase()+u.slice(1,u.length),i[u]=Al(s.dataset[h])}return i},getDataAttribute(s,i){return Al(s.getAttribute(`data-bs-${or(i)}`))}};class un{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(i){return i=this._mergeConfigObj(i),i=this._configAfterMerge(i),this._typeCheckConfig(i),i}_configAfterMerge(i){return i}_mergeConfigObj(i,a){const h=Je(a)?Qe.getDataAttribute(a,"config"):{};return{...this.constructor.Default,...typeof h=="object"?h:{},...Je(a)?Qe.getDataAttributes(a):{},...typeof i=="object"?i:{}}}_typeCheckConfig(i,a=this.constructor.DefaultType){for(const[h,u]of Object.entries(a)){const p=i[h],f=Je(p)?"element":wg(p);if(!new RegExp(u).test(f))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${h}" provided type "${f}" but expected type "${u}".`)}}}const kg="5.3.3";class Oe extends un{constructor(i,a){super(),i=bi(i),i&&(this._element=i,this._config=this._getConfig(a),ir.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ir.remove(this._element,this.constructor.DATA_KEY),F.off(this._element,this.constructor.EVENT_KEY);for(const i of Object.getOwnPropertyNames(this))this[i]=null}_queueCallback(i,a,h=!0){Jc(i,a,h)}_getConfig(i){return i=this._mergeConfigObj(i,this._element),i=this._configAfterMerge(i),this._typeCheckConfig(i),i}static getInstance(i){return ir.get(bi(i),this.DATA_KEY)}static getOrCreateInstance(i,a={}){return this.getInstance(i)||new this(i,typeof a=="object"?a:null)}static get VERSION(){return kg}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(i){return`${i}${this.EVENT_KEY}`}}const rr=s=>{let i=s.getAttribute("data-bs-target");if(!i||i==="#"){let a=s.getAttribute("href");if(!a||!a.includes("#")&&!a.startsWith("."))return null;a.includes("#")&&!a.startsWith("#")&&(a=`#${a.split("#")[1]}`),i=a&&a!=="#"?a.trim():null}return i?i.split(",").map(a=>Kc(a)).join(","):null},rt={find(s,i=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(i,s))},findOne(s,i=document.documentElement){return Element.prototype.querySelector.call(i,s)},children(s,i){return[].concat(...s.children).filter(a=>a.matches(i))},parents(s,i){const a=[];let h=s.parentNode.closest(i);for(;h;)a.push(h),h=h.parentNode.closest(i);return a},prev(s,i){let a=s.previousElementSibling;for(;a;){if(a.matches(i))return[a];a=a.previousElementSibling}return[]},next(s,i){let a=s.nextElementSibling;for(;a;){if(a.matches(i))return[a];a=a.nextElementSibling}return[]},focusableChildren(s){const i=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(a=>`${a}:not([tabindex^="-"])`).join(",");return this.find(i,s).filter(a=>!vi(a)&&_s(a))},getSelectorFromElement(s){const i=rr(s);return i&&rt.findOne(i)?i:null},getElementFromSelector(s){const i=rr(s);return i?rt.findOne(i):null},getMultipleElementsFromSelector(s){const i=rr(s);return i?rt.find(i):[]}},ro=(s,i="hide")=>{const a=`click.dismiss${s.EVENT_KEY}`,h=s.NAME;F.on(document,a,`[data-bs-dismiss="${h}"]`,function(u){if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),vi(this))return;const p=rt.getElementFromSelector(this)||this.closest(`.${h}`);s.getOrCreateInstance(p)[i]()})},Ag="alert",Dg="bs.alert",nu=`.${Dg}`,Og=`close${nu}`,Pg=`closed${nu}`,Hg="fade",Fg="show";class ao extends Oe{static get NAME(){return Ag}close(){if(F.trigger(this._element,Og).defaultPrevented)return;this._element.classList.remove(Fg);const a=this._element.classList.contains(Hg);this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),F.trigger(this._element,Pg),this.dispose()}static jQueryInterface(i){return this.each(function(){const a=ao.getOrCreateInstance(this);if(typeof i=="string"){if(a[i]===void 0||i.startsWith("_")||i==="constructor")throw new TypeError(`No method named "${i}"`);a[i](this)}})}}ro(ao,"close");xe(ao);const zg="button",Ng="bs.button",Ig=`.${Ng}`,Bg=".data-api",Vg="active",Dl='[data-bs-toggle="button"]',Wg=`click${Ig}${Bg}`;class lo extends Oe{static get NAME(){return zg}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Vg))}static jQueryInterface(i){return this.each(function(){const a=lo.getOrCreateInstance(this);i==="toggle"&&a[i]()})}}F.on(document,Wg,Dl,s=>{s.preventDefault();const i=s.target.closest(Dl);lo.getOrCreateInstance(i).toggle()});xe(lo);const jg="swipe",Ts=".bs.swipe",$g=`touchstart${Ts}`,Gg=`touchmove${Ts}`,Ug=`touchend${Ts}`,Kg=`pointerdown${Ts}`,Yg=`pointerup${Ts}`,qg="touch",Xg="pen",Jg="pointer-event",Qg=40,Zg={endCallback:null,leftCallback:null,rightCallback:null},tb={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class jn extends un{constructor(i,a){super(),this._element=i,!(!i||!jn.isSupported())&&(this._config=this._getConfig(a),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Zg}static get DefaultType(){return tb}static get NAME(){return jg}dispose(){F.off(this._element,Ts)}_start(i){if(!this._supportPointerEvents){this._deltaX=i.touches[0].clientX;return}this._eventIsPointerPenTouch(i)&&(this._deltaX=i.clientX)}_end(i){this._eventIsPointerPenTouch(i)&&(this._deltaX=i.clientX-this._deltaX),this._handleSwipe(),ue(this._config.endCallback)}_move(i){this._deltaX=i.touches&&i.touches.length>1?0:i.touches[0].clientX-this._deltaX}_handleSwipe(){const i=Math.abs(this._deltaX);if(i<=Qg)return;const a=i/this._deltaX;this._deltaX=0,a&&ue(a>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(F.on(this._element,Kg,i=>this._start(i)),F.on(this._element,Yg,i=>this._end(i)),this._element.classList.add(Jg)):(F.on(this._element,$g,i=>this._start(i)),F.on(this._element,Gg,i=>this._move(i)),F.on(this._element,Ug,i=>this._end(i)))}_eventIsPointerPenTouch(i){return this._supportPointerEvents&&(i.pointerType===Xg||i.pointerType===qg)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const eb="carousel",ib="bs.carousel",Ri=`.${ib}`,ou=".data-api",sb="ArrowLeft",nb="ArrowRight",ob=500,Hs="next",Qi="prev",ns="left",Dn="right",rb=`slide${Ri}`,ar=`slid${Ri}`,ab=`keydown${Ri}`,lb=`mouseenter${Ri}`,hb=`mouseleave${Ri}`,cb=`dragstart${Ri}`,ub=`load${Ri}${ou}`,db=`click${Ri}${ou}`,ru="carousel",yn="active",pb="slide",mb="carousel-item-end",fb="carousel-item-start",gb="carousel-item-next",bb="carousel-item-prev",au=".active",lu=".carousel-item",vb=au+lu,wb=".carousel-item img",Eb=".carousel-indicators",Cb="[data-bs-slide], [data-bs-slide-to]",yb='[data-bs-ride="carousel"]',_b={[sb]:Dn,[nb]:ns},Tb={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Rb={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class dn extends Oe{constructor(i,a){super(i,a),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=rt.findOne(Eb,this._element),this._addEventListeners(),this._config.ride===ru&&this.cycle()}static get Default(){return Tb}static get DefaultType(){return Rb}static get NAME(){return eb}next(){this._slide(Hs)}nextWhenVisible(){!document.hidden&&_s(this._element)&&this.next()}prev(){this._slide(Qi)}pause(){this._isSliding&&Yc(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){F.one(this._element,ar,()=>this.cycle());return}this.cycle()}}to(i){const a=this._getItems();if(i>a.length-1||i<0)return;if(this._isSliding){F.one(this._element,ar,()=>this.to(i));return}const h=this._getItemIndex(this._getActive());if(h===i)return;const u=i>h?Hs:Qi;this._slide(u,a[i])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(i){return i.defaultInterval=i.interval,i}_addEventListeners(){this._config.keyboard&&F.on(this._element,ab,i=>this._keydown(i)),this._config.pause==="hover"&&(F.on(this._element,lb,()=>this.pause()),F.on(this._element,hb,()=>this._maybeEnableCycle())),this._config.touch&&jn.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const h of rt.find(wb,this._element))F.on(h,cb,u=>u.preventDefault());const a={leftCallback:()=>this._slide(this._directionToOrder(ns)),rightCallback:()=>this._slide(this._directionToOrder(Dn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),ob+this._config.interval))}};this._swipeHelper=new jn(this._element,a)}_keydown(i){if(/input|textarea/i.test(i.target.tagName))return;const a=_b[i.key];a&&(i.preventDefault(),this._slide(this._directionToOrder(a)))}_getItemIndex(i){return this._getItems().indexOf(i)}_setActiveIndicatorElement(i){if(!this._indicatorsElement)return;const a=rt.findOne(au,this._indicatorsElement);a.classList.remove(yn),a.removeAttribute("aria-current");const h=rt.findOne(`[data-bs-slide-to="${i}"]`,this._indicatorsElement);h&&(h.classList.add(yn),h.setAttribute("aria-current","true"))}_updateInterval(){const i=this._activeElement||this._getActive();if(!i)return;const a=Number.parseInt(i.getAttribute("data-bs-interval"),10);this._config.interval=a||this._config.defaultInterval}_slide(i,a=null){if(this._isSliding)return;const h=this._getActive(),u=i===Hs,p=a||Ea(this._getItems(),h,u,this._config.wrap);if(p===h)return;const f=this._getItemIndex(p),g=M=>F.trigger(this._element,M,{relatedTarget:p,direction:this._orderToDirection(i),from:this._getItemIndex(h),to:f});if(g(rb).defaultPrevented||!h||!p)return;const E=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(f),this._activeElement=p;const w=u?fb:mb,_=u?gb:bb;p.classList.add(_),cn(p),h.classList.add(w),p.classList.add(w);const S=()=>{p.classList.remove(w,_),p.classList.add(yn),h.classList.remove(yn,_,w),this._isSliding=!1,g(ar)};this._queueCallback(S,h,this._isAnimated()),E&&this.cycle()}_isAnimated(){return this._element.classList.contains(pb)}_getActive(){return rt.findOne(vb,this._element)}_getItems(){return rt.find(lu,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(i){return Te()?i===ns?Qi:Hs:i===ns?Hs:Qi}_orderToDirection(i){return Te()?i===Qi?ns:Dn:i===Qi?Dn:ns}static jQueryInterface(i){return this.each(function(){const a=dn.getOrCreateInstance(this,i);if(typeof i=="number"){a.to(i);return}if(typeof i=="string"){if(a[i]===void 0||i.startsWith("_")||i==="constructor")throw new TypeError(`No method named "${i}"`);a[i]()}})}}F.on(document,db,Cb,function(s){const i=rt.getElementFromSelector(this);if(!i||!i.classList.contains(ru))return;s.preventDefault();const a=dn.getOrCreateInstance(i),h=this.getAttribute("data-bs-slide-to");if(h){a.to(h),a._maybeEnableCycle();return}if(Qe.getDataAttribute(this,"slide")==="next"){a.next(),a._maybeEnableCycle();return}a.prev(),a._maybeEnableCycle()});F.on(window,ub,()=>{const s=rt.find(yb);for(const i of s)dn.getOrCreateInstance(i)});xe(dn);const xb="collapse",Sb="bs.collapse",pn=`.${Sb}`,Mb=".data-api",Lb=`show${pn}`,kb=`shown${pn}`,Ab=`hide${pn}`,Db=`hidden${pn}`,Ob=`click${pn}${Mb}`,lr="show",as="collapse",_n="collapsing",Pb="collapsed",Hb=`:scope .${as} .${as}`,Fb="collapse-horizontal",zb="width",Nb="height",Ib=".collapse.show, .collapse.collapsing",zr='[data-bs-toggle="collapse"]',Bb={parent:null,toggle:!0},Vb={parent:"(null|element)",toggle:"boolean"};class rn extends Oe{constructor(i,a){super(i,a),this._isTransitioning=!1,this._triggerArray=[];const h=rt.find(zr);for(const u of h){const p=rt.getSelectorFromElement(u),f=rt.find(p).filter(g=>g===this._element);p!==null&&f.length&&this._triggerArray.push(u)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Bb}static get DefaultType(){return Vb}static get NAME(){return xb}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let i=[];if(this._config.parent&&(i=this._getFirstLevelChildren(Ib).filter(g=>g!==this._element).map(g=>rn.getOrCreateInstance(g,{toggle:!1}))),i.length&&i[0]._isTransitioning||F.trigger(this._element,Lb).defaultPrevented)return;for(const g of i)g.hide();const h=this._getDimension();this._element.classList.remove(as),this._element.classList.add(_n),this._element.style[h]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const u=()=>{this._isTransitioning=!1,this._element.classList.remove(_n),this._element.classList.add(as,lr),this._element.style[h]="",F.trigger(this._element,kb)},f=`scroll${h[0].toUpperCase()+h.slice(1)}`;this._queueCallback(u,this._element,!0),this._element.style[h]=`${this._element[f]}px`}hide(){if(this._isTransitioning||!this._isShown()||F.trigger(this._element,Ab).defaultPrevented)return;const a=this._getDimension();this._element.style[a]=`${this._element.getBoundingClientRect()[a]}px`,cn(this._element),this._element.classList.add(_n),this._element.classList.remove(as,lr);for(const u of this._triggerArray){const p=rt.getElementFromSelector(u);p&&!this._isShown(p)&&this._addAriaAndCollapsedClass([u],!1)}this._isTransitioning=!0;const h=()=>{this._isTransitioning=!1,this._element.classList.remove(_n),this._element.classList.add(as),F.trigger(this._element,Db)};this._element.style[a]="",this._queueCallback(h,this._element,!0)}_isShown(i=this._element){return i.classList.contains(lr)}_configAfterMerge(i){return i.toggle=!!i.toggle,i.parent=bi(i.parent),i}_getDimension(){return this._element.classList.contains(Fb)?zb:Nb}_initializeChildren(){if(!this._config.parent)return;const i=this._getFirstLevelChildren(zr);for(const a of i){const h=rt.getElementFromSelector(a);h&&this._addAriaAndCollapsedClass([a],this._isShown(h))}}_getFirstLevelChildren(i){const a=rt.find(Hb,this._config.parent);return rt.find(i,this._config.parent).filter(h=>!a.includes(h))}_addAriaAndCollapsedClass(i,a){if(i.length)for(const h of i)h.classList.toggle(Pb,!a),h.setAttribute("aria-expanded",a)}static jQueryInterface(i){const a={};return typeof i=="string"&&/show|hide/.test(i)&&(a.toggle=!1),this.each(function(){const h=rn.getOrCreateInstance(this,a);if(typeof i=="string"){if(typeof h[i]>"u")throw new TypeError(`No method named "${i}"`);h[i]()}})}}F.on(document,Ob,zr,function(s){(s.target.tagName==="A"||s.delegateTarget&&s.delegateTarget.tagName==="A")&&s.preventDefault();for(const i of rt.getMultipleElementsFromSelector(this))rn.getOrCreateInstance(i,{toggle:!1}).toggle()});xe(rn);const Ol="dropdown",Wb="bs.dropdown",ji=`.${Wb}`,ya=".data-api",jb="Escape",Pl="Tab",$b="ArrowUp",Hl="ArrowDown",Gb=2,Ub=`hide${ji}`,Kb=`hidden${ji}`,Yb=`show${ji}`,qb=`shown${ji}`,hu=`click${ji}${ya}`,cu=`keydown${ji}${ya}`,Xb=`keyup${ji}${ya}`,os="show",Jb="dropup",Qb="dropend",Zb="dropstart",tv="dropup-center",ev="dropdown-center",Hi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',iv=`${Hi}.${os}`,On=".dropdown-menu",sv=".navbar",nv=".navbar-nav",ov=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",rv=Te()?"top-end":"top-start",av=Te()?"top-start":"top-end",lv=Te()?"bottom-end":"bottom-start",hv=Te()?"bottom-start":"bottom-end",cv=Te()?"left-start":"right-start",uv=Te()?"right-start":"left-start",dv="top",pv="bottom",mv={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},fv={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Be extends Oe{constructor(i,a){super(i,a),this._popper=null,this._parent=this._element.parentNode,this._menu=rt.next(this._element,On)[0]||rt.prev(this._element,On)[0]||rt.findOne(On,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return mv}static get DefaultType(){return fv}static get NAME(){return Ol}toggle(){return this._isShown()?this.hide():this.show()}show(){if(vi(this._element)||this._isShown())return;const i={relatedTarget:this._element};if(!F.trigger(this._element,Yb,i).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(nv))for(const h of[].concat(...document.body.children))F.on(h,"mouseover",Wn);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(os),this._element.classList.add(os),F.trigger(this._element,qb,i)}}hide(){if(vi(this._element)||!this._isShown())return;const i={relatedTarget:this._element};this._completeHide(i)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(i){if(!F.trigger(this._element,Ub,i).defaultPrevented){if("ontouchstart"in document.documentElement)for(const h of[].concat(...document.body.children))F.off(h,"mouseover",Wn);this._popper&&this._popper.destroy(),this._menu.classList.remove(os),this._element.classList.remove(os),this._element.setAttribute("aria-expanded","false"),Qe.removeDataAttribute(this._menu,"popper"),F.trigger(this._element,Kb,i)}}_getConfig(i){if(i=super._getConfig(i),typeof i.reference=="object"&&!Je(i.reference)&&typeof i.reference.getBoundingClientRect!="function")throw new TypeError(`${Ol.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return i}_createPopper(){if(typeof Uc>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let i=this._element;this._config.reference==="parent"?i=this._parent:Je(this._config.reference)?i=bi(this._config.reference):typeof this._config.reference=="object"&&(i=this._config.reference);const a=this._getPopperConfig();this._popper=wa(i,this._menu,a)}_isShown(){return this._menu.classList.contains(os)}_getPlacement(){const i=this._parent;if(i.classList.contains(Qb))return cv;if(i.classList.contains(Zb))return uv;if(i.classList.contains(tv))return dv;if(i.classList.contains(ev))return pv;const a=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return i.classList.contains(Jb)?a?av:rv:a?hv:lv}_detectNavbar(){return this._element.closest(sv)!==null}_getOffset(){const{offset:i}=this._config;return typeof i=="string"?i.split(",").map(a=>Number.parseInt(a,10)):typeof i=="function"?a=>i(a,this._element):i}_getPopperConfig(){const i={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Qe.setDataAttribute(this._menu,"popper","static"),i.modifiers=[{name:"applyStyles",enabled:!1}]),{...i,...ue(this._config.popperConfig,[i])}}_selectMenuItem({key:i,target:a}){const h=rt.find(ov,this._menu).filter(u=>_s(u));h.length&&Ea(h,a,i===Hl,!h.includes(a)).focus()}static jQueryInterface(i){return this.each(function(){const a=Be.getOrCreateInstance(this,i);if(typeof i=="string"){if(typeof a[i]>"u")throw new TypeError(`No method named "${i}"`);a[i]()}})}static clearMenus(i){if(i.button===Gb||i.type==="keyup"&&i.key!==Pl)return;const a=rt.find(iv);for(const h of a){const u=Be.getInstance(h);if(!u||u._config.autoClose===!1)continue;const p=i.composedPath(),f=p.includes(u._menu);if(p.includes(u._element)||u._config.autoClose==="inside"&&!f||u._config.autoClose==="outside"&&f||u._menu.contains(i.target)&&(i.type==="keyup"&&i.key===Pl||/input|select|option|textarea|form/i.test(i.target.tagName)))continue;const g={relatedTarget:u._element};i.type==="click"&&(g.clickEvent=i),u._completeHide(g)}}static dataApiKeydownHandler(i){const a=/input|textarea/i.test(i.target.tagName),h=i.key===jb,u=[$b,Hl].includes(i.key);if(!u&&!h||a&&!h)return;i.preventDefault();const p=this.matches(Hi)?this:rt.prev(this,Hi)[0]||rt.next(this,Hi)[0]||rt.findOne(Hi,i.delegateTarget.parentNode),f=Be.getOrCreateInstance(p);if(u){i.stopPropagation(),f.show(),f._selectMenuItem(i);return}f._isShown()&&(i.stopPropagation(),f.hide(),p.focus())}}F.on(document,cu,Hi,Be.dataApiKeydownHandler);F.on(document,cu,On,Be.dataApiKeydownHandler);F.on(document,hu,Be.clearMenus);F.on(document,Xb,Be.clearMenus);F.on(document,hu,Hi,function(s){s.preventDefault(),Be.getOrCreateInstance(this).toggle()});xe(Be);const uu="backdrop",gv="fade",Fl="show",zl=`mousedown.bs.${uu}`,bv={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},vv={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class du extends un{constructor(i){super(),this._config=this._getConfig(i),this._isAppended=!1,this._element=null}static get Default(){return bv}static get DefaultType(){return vv}static get NAME(){return uu}show(i){if(!this._config.isVisible){ue(i);return}this._append();const a=this._getElement();this._config.isAnimated&&cn(a),a.classList.add(Fl),this._emulateAnimation(()=>{ue(i)})}hide(i){if(!this._config.isVisible){ue(i);return}this._getElement().classList.remove(Fl),this._emulateAnimation(()=>{this.dispose(),ue(i)})}dispose(){this._isAppended&&(F.off(this._element,zl),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const i=document.createElement("div");i.className=this._config.className,this._config.isAnimated&&i.classList.add(gv),this._element=i}return this._element}_configAfterMerge(i){return i.rootElement=bi(i.rootElement),i}_append(){if(this._isAppended)return;const i=this._getElement();this._config.rootElement.append(i),F.on(i,zl,()=>{ue(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(i){Jc(i,this._getElement(),this._config.isAnimated)}}const wv="focustrap",Ev="bs.focustrap",$n=`.${Ev}`,Cv=`focusin${$n}`,yv=`keydown.tab${$n}`,_v="Tab",Tv="forward",Nl="backward",Rv={autofocus:!0,trapElement:null},xv={autofocus:"boolean",trapElement:"element"};class pu extends un{constructor(i){super(),this._config=this._getConfig(i),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Rv}static get DefaultType(){return xv}static get NAME(){return wv}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),F.off(document,$n),F.on(document,Cv,i=>this._handleFocusin(i)),F.on(document,yv,i=>this._handleKeydown(i)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,F.off(document,$n))}_handleFocusin(i){const{trapElement:a}=this._config;if(i.target===document||i.target===a||a.contains(i.target))return;const h=rt.focusableChildren(a);h.length===0?a.focus():this._lastTabNavDirection===Nl?h[h.length-1].focus():h[0].focus()}_handleKeydown(i){i.key===_v&&(this._lastTabNavDirection=i.shiftKey?Nl:Tv)}}const Il=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Bl=".sticky-top",Tn="padding-right",Vl="margin-right";class Nr{constructor(){this._element=document.body}getWidth(){const i=document.documentElement.clientWidth;return Math.abs(window.innerWidth-i)}hide(){const i=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Tn,a=>a+i),this._setElementAttributes(Il,Tn,a=>a+i),this._setElementAttributes(Bl,Vl,a=>a-i)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Tn),this._resetElementAttributes(Il,Tn),this._resetElementAttributes(Bl,Vl)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(i,a,h){const u=this.getWidth(),p=f=>{if(f!==this._element&&window.innerWidth>f.clientWidth+u)return;this._saveInitialAttribute(f,a);const g=window.getComputedStyle(f).getPropertyValue(a);f.style.setProperty(a,`${h(Number.parseFloat(g))}px`)};this._applyManipulationCallback(i,p)}_saveInitialAttribute(i,a){const h=i.style.getPropertyValue(a);h&&Qe.setDataAttribute(i,a,h)}_resetElementAttributes(i,a){const h=u=>{const p=Qe.getDataAttribute(u,a);if(p===null){u.style.removeProperty(a);return}Qe.removeDataAttribute(u,a),u.style.setProperty(a,p)};this._applyManipulationCallback(i,h)}_applyManipulationCallback(i,a){if(Je(i)){a(i);return}for(const h of rt.find(i,this._element))a(h)}}const Sv="modal",Mv="bs.modal",Re=`.${Mv}`,Lv=".data-api",kv="Escape",Av=`hide${Re}`,Dv=`hidePrevented${Re}`,mu=`hidden${Re}`,fu=`show${Re}`,Ov=`shown${Re}`,Pv=`resize${Re}`,Hv=`click.dismiss${Re}`,Fv=`mousedown.dismiss${Re}`,zv=`keydown.dismiss${Re}`,Nv=`click${Re}${Lv}`,Wl="modal-open",Iv="fade",jl="show",hr="modal-static",Bv=".modal.show",Vv=".modal-dialog",Wv=".modal-body",jv='[data-bs-toggle="modal"]',$v={backdrop:!0,focus:!0,keyboard:!0},Gv={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Es extends Oe{constructor(i,a){super(i,a),this._dialog=rt.findOne(Vv,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Nr,this._addEventListeners()}static get Default(){return $v}static get DefaultType(){return Gv}static get NAME(){return Sv}toggle(i){return this._isShown?this.hide():this.show(i)}show(i){this._isShown||this._isTransitioning||F.trigger(this._element,fu,{relatedTarget:i}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Wl),this._adjustDialog(),this._backdrop.show(()=>this._showElement(i)))}hide(){!this._isShown||this._isTransitioning||F.trigger(this._element,Av).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(jl),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){F.off(window,Re),F.off(this._dialog,Re),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new du({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new pu({trapElement:this._element})}_showElement(i){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const a=rt.findOne(Wv,this._dialog);a&&(a.scrollTop=0),cn(this._element),this._element.classList.add(jl);const h=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,F.trigger(this._element,Ov,{relatedTarget:i})};this._queueCallback(h,this._dialog,this._isAnimated())}_addEventListeners(){F.on(this._element,zv,i=>{if(i.key===kv){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),F.on(window,Pv,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),F.on(this._element,Fv,i=>{F.one(this._element,Hv,a=>{if(!(this._element!==i.target||this._element!==a.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Wl),this._resetAdjustments(),this._scrollBar.reset(),F.trigger(this._element,mu)})}_isAnimated(){return this._element.classList.contains(Iv)}_triggerBackdropTransition(){if(F.trigger(this._element,Dv).defaultPrevented)return;const a=this._element.scrollHeight>document.documentElement.clientHeight,h=this._element.style.overflowY;h==="hidden"||this._element.classList.contains(hr)||(a||(this._element.style.overflowY="hidden"),this._element.classList.add(hr),this._queueCallback(()=>{this._element.classList.remove(hr),this._queueCallback(()=>{this._element.style.overflowY=h},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const i=this._element.scrollHeight>document.documentElement.clientHeight,a=this._scrollBar.getWidth(),h=a>0;if(h&&!i){const u=Te()?"paddingLeft":"paddingRight";this._element.style[u]=`${a}px`}if(!h&&i){const u=Te()?"paddingRight":"paddingLeft";this._element.style[u]=`${a}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(i,a){return this.each(function(){const h=Es.getOrCreateInstance(this,i);if(typeof i=="string"){if(typeof h[i]>"u")throw new TypeError(`No method named "${i}"`);h[i](a)}})}}F.on(document,Nv,jv,function(s){const i=rt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&s.preventDefault(),F.one(i,fu,u=>{u.defaultPrevented||F.one(i,mu,()=>{_s(this)&&this.focus()})});const a=rt.findOne(Bv);a&&Es.getInstance(a).hide(),Es.getOrCreateInstance(i).toggle(this)});ro(Es);xe(Es);const Uv="offcanvas",Kv="bs.offcanvas",si=`.${Kv}`,gu=".data-api",Yv=`load${si}${gu}`,qv="Escape",$l="show",Gl="showing",Ul="hiding",Xv="offcanvas-backdrop",bu=".offcanvas.show",Jv=`show${si}`,Qv=`shown${si}`,Zv=`hide${si}`,Kl=`hidePrevented${si}`,vu=`hidden${si}`,tw=`resize${si}`,ew=`click${si}${gu}`,iw=`keydown.dismiss${si}`,sw='[data-bs-toggle="offcanvas"]',nw={backdrop:!0,keyboard:!0,scroll:!1},ow={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class wi extends Oe{constructor(i,a){super(i,a),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return nw}static get DefaultType(){return ow}static get NAME(){return Uv}toggle(i){return this._isShown?this.hide():this.show(i)}show(i){if(this._isShown||F.trigger(this._element,Jv,{relatedTarget:i}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Nr().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Gl);const h=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add($l),this._element.classList.remove(Gl),F.trigger(this._element,Qv,{relatedTarget:i})};this._queueCallback(h,this._element,!0)}hide(){if(!this._isShown||F.trigger(this._element,Zv).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ul),this._backdrop.hide();const a=()=>{this._element.classList.remove($l,Ul),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Nr().reset(),F.trigger(this._element,vu)};this._queueCallback(a,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const i=()=>{if(this._config.backdrop==="static"){F.trigger(this._element,Kl);return}this.hide()},a=!!this._config.backdrop;return new du({className:Xv,isVisible:a,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:a?i:null})}_initializeFocusTrap(){return new pu({trapElement:this._element})}_addEventListeners(){F.on(this._element,iw,i=>{if(i.key===qv){if(this._config.keyboard){this.hide();return}F.trigger(this._element,Kl)}})}static jQueryInterface(i){return this.each(function(){const a=wi.getOrCreateInstance(this,i);if(typeof i=="string"){if(a[i]===void 0||i.startsWith("_")||i==="constructor")throw new TypeError(`No method named "${i}"`);a[i](this)}})}}F.on(document,ew,sw,function(s){const i=rt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),vi(this))return;F.one(i,vu,()=>{_s(this)&&this.focus()});const a=rt.findOne(bu);a&&a!==i&&wi.getInstance(a).hide(),wi.getOrCreateInstance(i).toggle(this)});F.on(window,Yv,()=>{for(const s of rt.find(bu))wi.getOrCreateInstance(s).show()});F.on(window,tw,()=>{for(const s of rt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(s).position!=="fixed"&&wi.getOrCreateInstance(s).hide()});ro(wi);xe(wi);const rw=/^aria-[\w-]*$/i,wu={"*":["class","dir","id","lang","role",rw],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},aw=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),lw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,hw=(s,i)=>{const a=s.nodeName.toLowerCase();return i.includes(a)?aw.has(a)?!!lw.test(s.nodeValue):!0:i.filter(h=>h instanceof RegExp).some(h=>h.test(a))};function cw(s,i,a){if(!s.length)return s;if(a&&typeof a=="function")return a(s);const u=new window.DOMParser().parseFromString(s,"text/html"),p=[].concat(...u.body.querySelectorAll("*"));for(const f of p){const g=f.nodeName.toLowerCase();if(!Object.keys(i).includes(g)){f.remove();continue}const v=[].concat(...f.attributes),E=[].concat(i["*"]||[],i[g]||[]);for(const w of v)hw(w,E)||f.removeAttribute(w.nodeName)}return u.body.innerHTML}const uw="TemplateFactory",dw={allowList:wu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},pw={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},mw={entry:"(string|element|function|null)",selector:"(string|element)"};class fw extends un{constructor(i){super(),this._config=this._getConfig(i)}static get Default(){return dw}static get DefaultType(){return pw}static get NAME(){return uw}getContent(){return Object.values(this._config.content).map(i=>this._resolvePossibleFunction(i)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(i){return this._checkContent(i),this._config.content={...this._config.content,...i},this}toHtml(){const i=document.createElement("div");i.innerHTML=this._maybeSanitize(this._config.template);for(const[u,p]of Object.entries(this._config.content))this._setContent(i,p,u);const a=i.children[0],h=this._resolvePossibleFunction(this._config.extraClass);return h&&a.classList.add(...h.split(" ")),a}_typeCheckConfig(i){super._typeCheckConfig(i),this._checkContent(i.content)}_checkContent(i){for(const[a,h]of Object.entries(i))super._typeCheckConfig({selector:a,entry:h},mw)}_setContent(i,a,h){const u=rt.findOne(h,i);if(u){if(a=this._resolvePossibleFunction(a),!a){u.remove();return}if(Je(a)){this._putElementInTemplate(bi(a),u);return}if(this._config.html){u.innerHTML=this._maybeSanitize(a);return}u.textContent=a}}_maybeSanitize(i){return this._config.sanitize?cw(i,this._config.allowList,this._config.sanitizeFn):i}_resolvePossibleFunction(i){return ue(i,[this])}_putElementInTemplate(i,a){if(this._config.html){a.innerHTML="",a.append(i);return}a.textContent=i.textContent}}const gw="tooltip",bw=new Set(["sanitize","allowList","sanitizeFn"]),cr="fade",vw="modal",Rn="show",ww=".tooltip-inner",Yl=`.${vw}`,ql="hide.bs.modal",Fs="hover",ur="focus",Ew="click",Cw="manual",yw="hide",_w="hidden",Tw="show",Rw="shown",xw="inserted",Sw="click",Mw="focusin",Lw="focusout",kw="mouseenter",Aw="mouseleave",Dw={AUTO:"auto",TOP:"top",RIGHT:Te()?"left":"right",BOTTOM:"bottom",LEFT:Te()?"right":"left"},Ow={allowList:wu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Pw={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Rs extends Oe{constructor(i,a){if(typeof Uc>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(i,a),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ow}static get DefaultType(){return Pw}static get NAME(){return gw}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),F.off(this._element.closest(Yl),ql,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const i=F.trigger(this._element,this.constructor.eventName(Tw)),h=(qc(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(i.defaultPrevented||!h)return;this._disposePopper();const u=this._getTipElement();this._element.setAttribute("aria-describedby",u.getAttribute("id"));const{container:p}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(p.append(u),F.trigger(this._element,this.constructor.eventName(xw))),this._popper=this._createPopper(u),u.classList.add(Rn),"ontouchstart"in document.documentElement)for(const g of[].concat(...document.body.children))F.on(g,"mouseover",Wn);const f=()=>{F.trigger(this._element,this.constructor.eventName(Rw)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(f,this.tip,this._isAnimated())}hide(){if(!this._isShown()||F.trigger(this._element,this.constructor.eventName(yw)).defaultPrevented)return;if(this._getTipElement().classList.remove(Rn),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))F.off(u,"mouseover",Wn);this._activeTrigger[Ew]=!1,this._activeTrigger[ur]=!1,this._activeTrigger[Fs]=!1,this._isHovered=null;const h=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),F.trigger(this._element,this.constructor.eventName(_w)))};this._queueCallback(h,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(i){const a=this._getTemplateFactory(i).toHtml();if(!a)return null;a.classList.remove(cr,Rn),a.classList.add(`bs-${this.constructor.NAME}-auto`);const h=Eg(this.constructor.NAME).toString();return a.setAttribute("id",h),this._isAnimated()&&a.classList.add(cr),a}setContent(i){this._newContent=i,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(i){return this._templateFactory?this._templateFactory.changeContent(i):this._templateFactory=new fw({...this._config,content:i,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ww]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(i){return this.constructor.getOrCreateInstance(i.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(cr)}_isShown(){return this.tip&&this.tip.classList.contains(Rn)}_createPopper(i){const a=ue(this._config.placement,[this,i,this._element]),h=Dw[a.toUpperCase()];return wa(this._element,i,this._getPopperConfig(h))}_getOffset(){const{offset:i}=this._config;return typeof i=="string"?i.split(",").map(a=>Number.parseInt(a,10)):typeof i=="function"?a=>i(a,this._element):i}_resolvePossibleFunction(i){return ue(i,[this._element])}_getPopperConfig(i){const a={placement:i,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:h=>{this._getTipElement().setAttribute("data-popper-placement",h.state.placement)}}]};return{...a,...ue(this._config.popperConfig,[a])}}_setListeners(){const i=this._config.trigger.split(" ");for(const a of i)if(a==="click")F.on(this._element,this.constructor.eventName(Sw),this._config.selector,h=>{this._initializeOnDelegatedTarget(h).toggle()});else if(a!==Cw){const h=a===Fs?this.constructor.eventName(kw):this.constructor.eventName(Mw),u=a===Fs?this.constructor.eventName(Aw):this.constructor.eventName(Lw);F.on(this._element,h,this._config.selector,p=>{const f=this._initializeOnDelegatedTarget(p);f._activeTrigger[p.type==="focusin"?ur:Fs]=!0,f._enter()}),F.on(this._element,u,this._config.selector,p=>{const f=this._initializeOnDelegatedTarget(p);f._activeTrigger[p.type==="focusout"?ur:Fs]=f._element.contains(p.relatedTarget),f._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},F.on(this._element.closest(Yl),ql,this._hideModalHandler)}_fixTitle(){const i=this._element.getAttribute("title");i&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",i),this._element.setAttribute("data-bs-original-title",i),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(i,a){clearTimeout(this._timeout),this._timeout=setTimeout(i,a)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(i){const a=Qe.getDataAttributes(this._element);for(const h of Object.keys(a))bw.has(h)&&delete a[h];return i={...a,...typeof i=="object"&&i?i:{}},i=this._mergeConfigObj(i),i=this._configAfterMerge(i),this._typeCheckConfig(i),i}_configAfterMerge(i){return i.container=i.container===!1?document.body:bi(i.container),typeof i.delay=="number"&&(i.delay={show:i.delay,hide:i.delay}),typeof i.title=="number"&&(i.title=i.title.toString()),typeof i.content=="number"&&(i.content=i.content.toString()),i}_getDelegateConfig(){const i={};for(const[a,h]of Object.entries(this._config))this.constructor.Default[a]!==h&&(i[a]=h);return i.selector=!1,i.trigger="manual",i}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(i){return this.each(function(){const a=Rs.getOrCreateInstance(this,i);if(typeof i=="string"){if(typeof a[i]>"u")throw new TypeError(`No method named "${i}"`);a[i]()}})}}xe(Rs);const Hw="popover",Fw=".popover-header",zw=".popover-body",Nw={...Rs.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Iw={...Rs.DefaultType,content:"(null|string|element|function)"};class _a extends Rs{static get Default(){return Nw}static get DefaultType(){return Iw}static get NAME(){return Hw}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Fw]:this._getTitle(),[zw]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(i){return this.each(function(){const a=_a.getOrCreateInstance(this,i);if(typeof i=="string"){if(typeof a[i]>"u")throw new TypeError(`No method named "${i}"`);a[i]()}})}}xe(_a);const Bw="scrollspy",Vw="bs.scrollspy",Ta=`.${Vw}`,Ww=".data-api",jw=`activate${Ta}`,Xl=`click${Ta}`,$w=`load${Ta}${Ww}`,Gw="dropdown-item",Zi="active",Uw='[data-bs-spy="scroll"]',dr="[href]",Kw=".nav, .list-group",Jl=".nav-link",Yw=".nav-item",qw=".list-group-item",Xw=`${Jl}, ${Yw} > ${Jl}, ${qw}`,Jw=".dropdown",Qw=".dropdown-toggle",Zw={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},tE={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ho extends Oe{constructor(i,a){super(i,a),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Zw}static get DefaultType(){return tE}static get NAME(){return Bw}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const i of this._observableSections.values())this._observer.observe(i)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(i){return i.target=bi(i.target)||document.body,i.rootMargin=i.offset?`${i.offset}px 0px -30%`:i.rootMargin,typeof i.threshold=="string"&&(i.threshold=i.threshold.split(",").map(a=>Number.parseFloat(a))),i}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(F.off(this._config.target,Xl),F.on(this._config.target,Xl,dr,i=>{const a=this._observableSections.get(i.target.hash);if(a){i.preventDefault();const h=this._rootElement||window,u=a.offsetTop-this._element.offsetTop;if(h.scrollTo){h.scrollTo({top:u,behavior:"smooth"});return}h.scrollTop=u}}))}_getNewObserver(){const i={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(a=>this._observerCallback(a),i)}_observerCallback(i){const a=f=>this._targetLinks.get(`#${f.target.id}`),h=f=>{this._previousScrollData.visibleEntryTop=f.target.offsetTop,this._process(a(f))},u=(this._rootElement||document.documentElement).scrollTop,p=u>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=u;for(const f of i){if(!f.isIntersecting){this._activeTarget=null,this._clearActiveClass(a(f));continue}const g=f.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(p&&g){if(h(f),!u)return;continue}!p&&!g&&h(f)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const i=rt.find(dr,this._config.target);for(const a of i){if(!a.hash||vi(a))continue;const h=rt.findOne(decodeURI(a.hash),this._element);_s(h)&&(this._targetLinks.set(decodeURI(a.hash),a),this._observableSections.set(a.hash,h))}}_process(i){this._activeTarget!==i&&(this._clearActiveClass(this._config.target),this._activeTarget=i,i.classList.add(Zi),this._activateParents(i),F.trigger(this._element,jw,{relatedTarget:i}))}_activateParents(i){if(i.classList.contains(Gw)){rt.findOne(Qw,i.closest(Jw)).classList.add(Zi);return}for(const a of rt.parents(i,Kw))for(const h of rt.prev(a,Xw))h.classList.add(Zi)}_clearActiveClass(i){i.classList.remove(Zi);const a=rt.find(`${dr}.${Zi}`,i);for(const h of a)h.classList.remove(Zi)}static jQueryInterface(i){return this.each(function(){const a=ho.getOrCreateInstance(this,i);if(typeof i=="string"){if(a[i]===void 0||i.startsWith("_")||i==="constructor")throw new TypeError(`No method named "${i}"`);a[i]()}})}}F.on(window,$w,()=>{for(const s of rt.find(Uw))ho.getOrCreateInstance(s)});xe(ho);const eE="tab",iE="bs.tab",$i=`.${iE}`,sE=`hide${$i}`,nE=`hidden${$i}`,oE=`show${$i}`,rE=`shown${$i}`,aE=`click${$i}`,lE=`keydown${$i}`,hE=`load${$i}`,cE="ArrowLeft",Ql="ArrowRight",uE="ArrowUp",Zl="ArrowDown",pr="Home",th="End",Fi="active",eh="fade",mr="show",dE="dropdown",Eu=".dropdown-toggle",pE=".dropdown-menu",fr=`:not(${Eu})`,mE='.list-group, .nav, [role="tablist"]',fE=".nav-item, .list-group-item",gE=`.nav-link${fr}, .list-group-item${fr}, [role="tab"]${fr}`,Cu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',gr=`${gE}, ${Cu}`,bE=`.${Fi}[data-bs-toggle="tab"], .${Fi}[data-bs-toggle="pill"], .${Fi}[data-bs-toggle="list"]`;class Cs extends Oe{constructor(i){super(i),this._parent=this._element.closest(mE),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),F.on(this._element,lE,a=>this._keydown(a)))}static get NAME(){return eE}show(){const i=this._element;if(this._elemIsActive(i))return;const a=this._getActiveElem(),h=a?F.trigger(a,sE,{relatedTarget:i}):null;F.trigger(i,oE,{relatedTarget:a}).defaultPrevented||h&&h.defaultPrevented||(this._deactivate(a,i),this._activate(i,a))}_activate(i,a){if(!i)return;i.classList.add(Fi),this._activate(rt.getElementFromSelector(i));const h=()=>{if(i.getAttribute("role")!=="tab"){i.classList.add(mr);return}i.removeAttribute("tabindex"),i.setAttribute("aria-selected",!0),this._toggleDropDown(i,!0),F.trigger(i,rE,{relatedTarget:a})};this._queueCallback(h,i,i.classList.contains(eh))}_deactivate(i,a){if(!i)return;i.classList.remove(Fi),i.blur(),this._deactivate(rt.getElementFromSelector(i));const h=()=>{if(i.getAttribute("role")!=="tab"){i.classList.remove(mr);return}i.setAttribute("aria-selected",!1),i.setAttribute("tabindex","-1"),this._toggleDropDown(i,!1),F.trigger(i,nE,{relatedTarget:a})};this._queueCallback(h,i,i.classList.contains(eh))}_keydown(i){if(![cE,Ql,uE,Zl,pr,th].includes(i.key))return;i.stopPropagation(),i.preventDefault();const a=this._getChildren().filter(u=>!vi(u));let h;if([pr,th].includes(i.key))h=a[i.key===pr?0:a.length-1];else{const u=[Ql,Zl].includes(i.key);h=Ea(a,i.target,u,!0)}h&&(h.focus({preventScroll:!0}),Cs.getOrCreateInstance(h).show())}_getChildren(){return rt.find(gr,this._parent)}_getActiveElem(){return this._getChildren().find(i=>this._elemIsActive(i))||null}_setInitialAttributes(i,a){this._setAttributeIfNotExists(i,"role","tablist");for(const h of a)this._setInitialAttributesOnChild(h)}_setInitialAttributesOnChild(i){i=this._getInnerElement(i);const a=this._elemIsActive(i),h=this._getOuterElement(i);i.setAttribute("aria-selected",a),h!==i&&this._setAttributeIfNotExists(h,"role","presentation"),a||i.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(i,"role","tab"),this._setInitialAttributesOnTargetPanel(i)}_setInitialAttributesOnTargetPanel(i){const a=rt.getElementFromSelector(i);a&&(this._setAttributeIfNotExists(a,"role","tabpanel"),i.id&&this._setAttributeIfNotExists(a,"aria-labelledby",`${i.id}`))}_toggleDropDown(i,a){const h=this._getOuterElement(i);if(!h.classList.contains(dE))return;const u=(p,f)=>{const g=rt.findOne(p,h);g&&g.classList.toggle(f,a)};u(Eu,Fi),u(pE,mr),h.setAttribute("aria-expanded",a)}_setAttributeIfNotExists(i,a,h){i.hasAttribute(a)||i.setAttribute(a,h)}_elemIsActive(i){return i.classList.contains(Fi)}_getInnerElement(i){return i.matches(gr)?i:rt.findOne(gr,i)}_getOuterElement(i){return i.closest(fE)||i}static jQueryInterface(i){return this.each(function(){const a=Cs.getOrCreateInstance(this);if(typeof i=="string"){if(a[i]===void 0||i.startsWith("_")||i==="constructor")throw new TypeError(`No method named "${i}"`);a[i]()}})}}F.on(document,aE,Cu,function(s){["A","AREA"].includes(this.tagName)&&s.preventDefault(),!vi(this)&&Cs.getOrCreateInstance(this).show()});F.on(window,hE,()=>{for(const s of rt.find(bE))Cs.getOrCreateInstance(s)});xe(Cs);const vE="toast",wE="bs.toast",xi=`.${wE}`,EE=`mouseover${xi}`,CE=`mouseout${xi}`,yE=`focusin${xi}`,_E=`focusout${xi}`,TE=`hide${xi}`,RE=`hidden${xi}`,xE=`show${xi}`,SE=`shown${xi}`,ME="fade",ih="hide",xn="show",Sn="showing",LE={animation:"boolean",autohide:"boolean",delay:"number"},kE={animation:!0,autohide:!0,delay:5e3};class co extends Oe{constructor(i,a){super(i,a),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return kE}static get DefaultType(){return LE}static get NAME(){return vE}show(){if(F.trigger(this._element,xE).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(ME);const a=()=>{this._element.classList.remove(Sn),F.trigger(this._element,SE),this._maybeScheduleHide()};this._element.classList.remove(ih),cn(this._element),this._element.classList.add(xn,Sn),this._queueCallback(a,this._element,this._config.animation)}hide(){if(!this.isShown()||F.trigger(this._element,TE).defaultPrevented)return;const a=()=>{this._element.classList.add(ih),this._element.classList.remove(Sn,xn),F.trigger(this._element,RE)};this._element.classList.add(Sn),this._queueCallback(a,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(xn),super.dispose()}isShown(){return this._element.classList.contains(xn)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(i,a){switch(i.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=a;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=a;break}}if(a){this._clearTimeout();return}const h=i.relatedTarget;this._element===h||this._element.contains(h)||this._maybeScheduleHide()}_setListeners(){F.on(this._element,EE,i=>this._onInteraction(i,!0)),F.on(this._element,CE,i=>this._onInteraction(i,!1)),F.on(this._element,yE,i=>this._onInteraction(i,!0)),F.on(this._element,_E,i=>this._onInteraction(i,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(i){return this.each(function(){const a=co.getOrCreateInstance(this,i);if(typeof i=="string"){if(typeof a[i]>"u")throw new TypeError(`No method named "${i}"`);a[i](this)}})}}ro(co);xe(co);var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function DE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var yu={exports:{}};(function(s,i){(function(a,h){s.exports=h()})(AE,function(){var _o,To,Ro,xo,So,Mo,Lo,ko,Ao,Do,Oo,Po,Ho,Fo,zo,gn,As,bn,No,Io;var a={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,debugInvalidComponentFuncs:!0,debugInitialization:!0,debugDeprecation:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",popupContainer:!1,columns:[],columnDefaults:{},rowHeader:!1,data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,rowHeight:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{},dependencies:{}};class h{constructor(t){this.table=t}reloadData(t,e,n){return this.table.dataLoader.load(t,void 0,void 0,void 0,e,n)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(t){return this.table.modules.layout.layout(t)}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(t){return this.table.eventBus.subscribed(t)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(t){return this.table.externalEvents.subscribed(t)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(t){return this.table.options[t]}setOption(t,e){return e!==void 0&&(this.table.options[t]=e),this.table.options[t]}deprecationCheck(t,e,n){return this.table.deprecationAdvisor.check(t,e,n)}deprecationCheckMsg(t,e){return this.table.deprecationAdvisor.checkMsg(t,e)}deprecationMsg(t){return this.table.deprecationAdvisor.msg(t)}module(t){return this.table.module(t)}}class u{constructor(t){return this._column=t,this.type="ColumnComponent",new Proxy(this,{get:function(e,n,r){return e[n]!==void 0?e[n]:e._column.table.componentFunctionBinder.handle("column",e._column,n)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var t=[];return this._column.cells.forEach(function(e){t.push(e.getComponent())}),t}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(t){t.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(t){t.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var t=[];return this._column.columns.length&&this._column.columns.forEach(function(e){t.push(e.getComponent())}),t}getParentColumn(){return this._column.getParentComponent()}_getSelf(){return this._column}scrollTo(t,e){return this._column.table.columnManager.scrollToColumn(this._column,t,e)}getTable(){return this._column.table}move(t,e){var n=this._column.table.columnManager.findColumn(t);n?this._column.table.columnManager.moveColumn(this._column,n,e):console.warn("Move Error - No matching column found:",n)}getNextColumn(){var t=this._column.nextColumn();return!!t&&t.getComponent()}getPrevColumn(){var t=this._column.prevColumn();return!!t&&t.getComponent()}updateDefinition(t){return this._column.updateDefinition(t)}getWidth(){return this._column.getWidth()}setWidth(t){var e;return e=t===!0?this._column.reinitializeWidth(!0):this._column.setWidth(t),this._column.table.columnManager.rerenderColumns(!0),e}}var p={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,cssClass:void 0,variableHeight:void 0,headerVertical:void 0,headerHozAlign:void 0,headerWordWrap:!1,editableTitle:void 0};class f{constructor(t){return this._cell=t,new Proxy(this,{get:function(e,n,r){return e[n]!==void 0?e[n]:e._cell.table.componentFunctionBinder.handle("cell",e._cell,n)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(t){return this._cell.row.getData(t)}getType(){return"cell"}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(t,e){e===void 0&&(e=!0),this._cell.setValue(t,e)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class g extends h{constructor(t,e){super(t.table),this.table=t.table,this.column=t,this.row=e,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.column.isRowHeader&&this.element.classList.add("tabulator-row-header")}_configureCell(){var t=this.element,e=this.column.getField();t.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(t.style.display="inline-flex",t.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[this.column.vertAlign]||"",this.column.hozAlign&&(t.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[this.column.hozAlign]||"")),e&&t.setAttribute("tabulator-field",e),this.column.definition.cssClass&&this.column.definition.cssClass.split(" ").forEach(n=>{t.classList.add(n)}),this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var t;switch(typeof(t=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value))){case"object":if(t instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(t)}else this.element.innerHTML="",t!=null&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",t);break;case"undefined":this.element.innerHTML="";break;default:this.element.innerHTML=t}}cellRendered(){this.dispatch("cell-rendered",this)}getElement(t){return this.loaded||(this.loaded=!0,t||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(t,e,n){this.setValueProcessData(t,e,n)&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(t,e,n){var r=!1;return(this.value!==t||n)&&(r=!0,e&&(t=this.chain("cell-value-changing",[this,t],null,t))),this.setValueActual(t),r&&this.dispatch("cell-value-changed",this),r}setValueActual(t){this.oldValue=this.value,this.value=t,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,t),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null,this.dispatch("cell-height",this,"")}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled,this.dispatch("cell-height",this,this.row.heightStyled)}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new f(this)),this.component}}const Mi=class Mi extends h{constructor(t,e,n){super(e.table),this.definition=t,this.parent=e,this.type="column",this.columns=[],this.cells=[],this.isGroup=!1,this.isRowHeader=n,this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((r,l)=>{var c=new Mi(r,this);this.attachColumn(c)}),this.checkColumnVisibility()):e.registerColumnField(this),this._initialize()}createElement(){var t=document.createElement("div");switch(t.classList.add("tabulator-col"),t.setAttribute("role","columnheader"),t.setAttribute("aria-sort","none"),this.isRowHeader&&t.classList.add("tabulator-row-header"),this.table.options.columnHeaderVertAlign){case"middle":t.style.justifyContent="center";break;case"bottom":t.style.justifyContent="flex-end"}return t}createGroupElement(){var t=document.createElement("div");return t.classList.add("tabulator-col-group-cols"),t}mapDefinitions(){var t=this.table.options.columnDefaults;if(t)for(let e in t)this.definition[e]===void 0&&(this.definition[e]=t[e]);this.definition=this.table.columnManager.optionsList.generate(Mi.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(t=>{Mi.defaultOptionList.indexOf(t)===-1&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",t)})}setField(t){this.field=t,this.fieldStructure=t?this.table.options.nestedFieldSeparator?t.split(this.table.options.nestedFieldSeparator):[t]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(t){this.parent.registerColumnPosition(t)}registerColumnField(t){this.parent.registerColumnField(t)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(t){t.reRegisterPosition()}):this.registerColumnPosition(this)}_initialize(){for(var t=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);t.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),t.headerVertical==="flip"&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.dispatch("column-init",this)}_buildColumnHeader(){var t=this.definition;this.dispatch("column-layout",this),t.visible!==void 0&&(t.visible?this.show(!0):this.hide(!0)),t.cssClass&&t.cssClass.split(" ").forEach(e=>{this.element.classList.add(e)}),t.field&&this.element.setAttribute("tabulator-field",t.field),this.setMinWidth(parseInt(t.minWidth)),t.maxInitialWidth&&(this.maxInitialWidth=parseInt(t.maxInitialWidth)),t.maxWidth&&this.setMaxWidth(parseInt(t.maxWidth)),this.reinitializeWidth(),this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var t=document.createElement("div");return t.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),t.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),t}_buildColumnHeaderTitle(){var t=this.definition,e=document.createElement("div");if(e.classList.add("tabulator-col-title"),t.headerWordWrap&&e.classList.add("tabulator-col-title-wrap"),t.editableTitle){var n=document.createElement("input");n.classList.add("tabulator-title-editor"),n.addEventListener("click",r=>{r.stopPropagation(),n.focus()}),n.addEventListener("mousedown",r=>{r.stopPropagation()}),n.addEventListener("change",()=>{t.title=n.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),e.appendChild(n),t.field?this.langBind("columns|"+t.field,r=>{n.value=r||t.title||"&nbsp;"}):n.value=t.title||"&nbsp;"}else t.field?this.langBind("columns|"+t.field,r=>{this._formatColumnHeaderTitle(e,r||t.title||"&nbsp;")}):this._formatColumnHeaderTitle(e,t.title||"&nbsp;");return e}_formatColumnHeaderTitle(t,e){var n=this.chain("column-format",[this,e,t],null,()=>e);switch(typeof n){case"object":n instanceof Node?t.appendChild(n):(t.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",n));break;case"undefined":t.innerHTML="";break;default:t.innerHTML=n}}_buildGroupHeader(){this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass&&this.definition.cssClass.split(" ").forEach(t=>{this.element.classList.add(t)}),this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(t){return t[this.field]}_getNestedData(t){var e,n=t,r=this.fieldStructure,l=r.length;for(let c=0;c<l&&(e=n=n[r[c]],n);c++);return e}_setFlatData(t,e){this.field&&(t[this.field]=e)}_setNestedData(t,e){var n=t,r=this.fieldStructure,l=r.length;for(let c=0;c<l;c++)if(c==l-1)n[r[c]]=e;else{if(!n[r[c]]){if(e===void 0)break;n[r[c]]={}}n=n[r[c]]}}attachColumn(t){this.groupElement?(this.columns.push(t),this.groupElement.appendChild(t.getElement()),t.columnRendered()):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(t,e){var n=this.parent.isGroup?this.parent.getGroupElement().clientHeight:e||this.parent.getHeadersElement().clientHeight;this.element.style.height=n+"px",this.dispatch("column-height",this,this.element.style.height),this.isGroup&&(this.groupElement.style.minHeight=n-this.contentElement.offsetHeight+"px"),this.columns.forEach(function(r){r.verticalAlign(t)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(t){t.clearVerticalAlign()}),this.dispatch("column-height",this,"")}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this}getLastColumn(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this}getColumns(t){var e=[];return t?this.columns.forEach(n=>{e.push(n),e=e.concat(n.getColumns(!0))}):e=this.columns,e}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(t){var e=[];return this.isGroup&&t&&(this.columns.forEach(function(n){e.push(n.getDefinition(!0))}),this.definition.columns=e),this.definition}checkColumnVisibility(){var t=!1;this.columns.forEach(function(e){e.visible&&(t=!0)}),t?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(t,e){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(n){n.show()}),this.isGroup||this.width!==null||this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,e),t||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}hide(t,e){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(n){n.hide()}),this.dispatch("column-hide",this,e),t||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}matchChildWidths(){var t=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(e){e.visible&&(t+=e.getWidth())}),this.contentElement.style.maxWidth=t-1+"px",this.table.initialized&&(this.element.style.width=t+"px"),this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(t){var e=this.columns.indexOf(t);e>-1&&this.columns.splice(e,1),this.columns.length||this.delete()}setWidth(t){this.widthFixed=!0,this.setWidthActual(t)}setWidthActual(t){isNaN(t)&&(t=Math.floor(this.table.element.clientWidth/100*parseInt(t))),t=Math.max(this.minWidth,t),this.maxWidth&&(t=Math.min(this.maxWidth,t)),this.width=t,this.widthStyled=t?t+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(e){e.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this),this.subscribedExternal("columnWidth")&&this.dispatchExternal("columnWidth",this.getComponent())}checkCellHeights(){var t=[];this.cells.forEach(function(e){e.row.heightInitialized&&(e.row.getElement().offsetParent!==null?(t.push(e.row),e.row.clearCellHeight()):e.row.heightInitialized=!1)}),t.forEach(function(e){e.calcHeight()}),t.forEach(function(e){e.setCellHeight()})}getWidth(){var t=0;return this.isGroup?this.columns.forEach(function(e){e.visible&&(t+=e.getWidth())}):t=this.width,t}getLeftOffset(){var t=this.element.offsetLeft;return this.parent.isGroup&&(t+=this.parent.getLeftOffset()),t}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(t){this.maxWidth&&t>this.maxWidth&&(t=this.maxWidth,console.warn("the minWidth ("+t+"px) for column '"+this.field+"' cannot be bigger that its maxWidth ("+this.maxWidthStyled+")")),this.minWidth=t,this.minWidthStyled=t?t+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(e){e.setMinWidth()})}setMaxWidth(t){this.minWidth&&t<this.minWidth&&(t=this.minWidth,console.warn("the maxWidth ("+t+"px) for column '"+this.field+"' cannot be smaller that its minWidth ("+this.minWidthStyled+")")),this.maxWidth=t,this.maxWidthStyled=t?t+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(e){e.setMaxWidth()})}delete(){return new Promise((t,e)=>{this.isGroup&&this.columns.forEach(function(r){r.delete()}),this.dispatch("column-delete",this);var n=this.cells.length;for(let r=0;r<n;r++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.rerenderColumns(!0),this.dispatch("column-deleted",this),t()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered(),this.dispatch("column-rendered",this)}generateCell(t){var e=new g(this,t);return this.cells.push(e),e}nextColumn(){var t=this.table.columnManager.findColumnIndex(this);return t>-1&&this._nextVisibleColumn(t+1)}_nextVisibleColumn(t){var e=this.table.columnManager.getColumnByIndex(t);return!e||e.visible?e:this._nextVisibleColumn(t+1)}prevColumn(){var t=this.table.columnManager.findColumnIndex(this);return t>-1&&this._prevVisibleColumn(t-1)}_prevVisibleColumn(t){var e=this.table.columnManager.getColumnByIndex(t);return!e||e.visible?e:this._prevVisibleColumn(t-1)}reinitializeWidth(t){this.widthFixed=!1,this.definition.width===void 0||t||this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(t),this.dispatch("column-width-fit-after",this)}fitToData(t){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(r=>{r.clearWidth()}));var e=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach(r=>{var l=r.getWidth();l>e&&(e=l)}),e)){var n=e+1;t?this.setWidth(n):(this.maxInitialWidth&&!t&&(n=Math.min(n,this.maxInitialWidth)),this.setWidthActual(n))}}}updateDefinition(t){var e;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(e=Object.assign({},this.getDefinition()),e=Object.assign(e,t),this.table.columnManager.addColumn(e,!1,this).then(n=>(e.field==this.field&&(this.field=!1),this.delete().then(()=>n.getComponent()))))}deleteCell(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)}getComponent(){return this.component||(this.component=new u(this)),this.component}getPosition(){return this.table.columnManager.getVisibleColumnsByIndex().indexOf(this)+1}getParentComponent(){return this.parent instanceof Mi&&this.parent.getComponent()}};G(Mi,"defaultOptionList",p);let v=Mi;class E{static elVisible(t){return!(t.offsetWidth<=0&&t.offsetHeight<=0)}static elOffset(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}}static retrieveNestedData(t,e,n){var r,l=t?e.split(t):[e],c=l.length;for(let d=0;d<c&&(r=n=n[l[d]],n);d++);return r}static deepClone(t,e,n=[]){var r={}.__proto__,l=[].__proto__;for(var c in e||(e=Object.assign(Array.isArray(t)?[]:{},t)),t){let d,m,b=t[c];b==null||typeof b!="object"||b.__proto__!==r&&b.__proto__!==l||(d=n.findIndex(C=>C.subject===b),d>-1?e[c]=n[d].copy:(m=Object.assign(Array.isArray(b)?[]:{},b),n.unshift({subject:b,copy:m}),e[c]=this.deepClone(b,m,n)))}return e}}class w{constructor(t,e,n={}){this.table=t,this.msgType=e,this.registeredDefaults=Object.assign({},n)}register(t,e){this.registeredDefaults[t]=e}generate(t,e={}){var n=Object.assign({},this.registeredDefaults),r=this.table.options.debugInvalidOptions||e.debugInvalidOptions===!0;Object.assign(n,t);for(let l in e)n.hasOwnProperty(l)||(r&&console.warn("Invalid "+this.msgType+" option:",l),n[l]=e.key);for(let l in n)l in e?n[l]=e[l]:Array.isArray(n[l])?n[l]=Object.assign([],n[l]):typeof n[l]=="object"&&n[l]!==null?n[l]=Object.assign({},n[l]):n[l]===void 0&&delete n[l];return n}}class _ extends h{constructor(t){super(t),this.elementVertical=t.rowManager.element,this.elementHorizontal=t.columnManager.element,this.tableElement=t.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(t){}renderRows(){}renderColumns(){}rerenderRows(t){t&&t()}rerenderColumns(t,e){}renderRowCells(t){}rerenderRowCells(t,e){}scrollColumns(t,e){}scrollRows(t,e){}resize(){}scrollToRow(t){}scrollToRowNearestTop(t){}visibleRows(t){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(t,e){var n=t.getElement();e%2?(n.classList.add("tabulator-row-even"),n.classList.remove("tabulator-row-odd")):(n.classList.add("tabulator-row-odd"),n.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(t){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(t,e,n){var r=this.rows().indexOf(t),l=t.getElement(),c=0;return new Promise((d,m)=>{if(r>-1){if(n===void 0&&(n=this.table.options.scrollToRowIfVisible),!n&&E.elVisible(l)&&(c=E.elOffset(l).top-E.elOffset(this.elementVertical).top)>0&&c<this.elementVertical.clientHeight-l.offsetHeight)return d(),!1;switch(e===void 0&&(e=this.table.options.scrollToRowPosition),e==="nearest"&&(e=this.scrollToRowNearestTop(t)?"top":"bottom"),this.scrollToRow(t),e){case"middle":case"center":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop+(l.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-l.offsetTop)/2:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-l.offsetTop)+l.offsetHeight:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight+l.offsetHeight;break;case"top":this.elementVertical.scrollTop=l.offsetTop}d()}else console.warn("Scroll Error - Row not visible"),m("Scroll Error - Row not visible")})}}class S extends _{constructor(t){super(t)}renderRowCells(t,e){const n=document.createDocumentFragment();t.cells.forEach(r=>{n.appendChild(r.getElement())}),t.element.appendChild(n),e||t.cells.forEach(r=>{r.cellRendered()})}reinitializeColumnWidths(t){t.forEach(function(e){e.reinitializeWidth()})}}class M extends _{constructor(t){super(t),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.windowBuffer=200,this.visibleRows=null,this.initialized=!1,this.isFitData=!1,this.columns=[]}initialize(){this.compatibilityCheck(),this.layoutCheck(),this.vertScrollListen()}compatibilityCheck(){this.options("layout")=="fitDataTable"&&console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),this.options("responsiveLayout")&&console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),this.options("rtl")&&console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction")}layoutCheck(){this.isFitData=this.options("layout").startsWith("fitData")}vertScrollListen(){this.subscribe("scroll-vertical",this.clearVisRowCache.bind(this)),this.subscribe("data-refreshed",this.clearVisRowCache.bind(this))}clearVisRowCache(){this.visibleRows=null}renderColumns(t,e){this.dataChange()}scrollColumns(t,e){this.scrollLeft!=t&&(this.scrollLeft=t,this.scroll(t-(this.vDomScrollPosLeft+this.windowBuffer)))}calcWindowBuffer(){var t=this.elementVertical.clientWidth;this.table.columnManager.columnsByIndex.forEach(e=>{if(e.visible){var n=e.getWidth();n>t&&(t=n)}}),this.windowBuffer=2*t}rerenderColumns(t,e){var n={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol},r=0;t&&!this.initialized||(this.clear(),this.calcWindowBuffer(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.windowBuffer,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,this.table.columnManager.columnsByIndex.forEach(l=>{var c,d={};l.visible&&(l.modules.frozen||(c=l.getWidth(),d.leftPos=r,d.rightPos=r+c,d.width=c,this.isFitData&&(d.fitDataCheck=!l.modules.vdomHoz||l.modules.vdomHoz.fitDataCheck),r+c>this.vDomScrollPosLeft&&r<this.vDomScrollPosRight?(this.leftCol==-1&&(this.leftCol=this.columns.length,this.vDomPadLeft=r),this.rightCol=this.columns.length):this.leftCol!==-1&&(this.vDomPadRight+=c),this.columns.push(l),l.modules.vdomHoz=d,r+=c))}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,e||t&&!this.reinitChanged(n)||this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft)}renderRowCells(t){if(this.initialized)this.initializeRow(t);else{const e=document.createDocumentFragment();t.cells.forEach(n=>{e.appendChild(n.getElement())}),t.element.appendChild(e),t.cells.forEach(n=>{n.cellRendered()})}}rerenderRowCells(t,e){this.reinitializeRow(t,e)}reinitializeColumnWidths(t){for(let e=this.leftCol;e<=this.rightCol;e++){let n=this.columns[e];n&&n.reinitializeWidth()}}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var t,e,n=!1;if(this.isFitData){if(this.table.columnManager.columnsByIndex.forEach(r=>{!r.definition.width&&r.visible&&(n=!0)}),n&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,t=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows())[0])){e=t.getElement(),t.generateCells(),this.tableElement.appendChild(e);for(let r=0;r<t.cells.length;r++){let l=t.cells[r];e.appendChild(l.getElement()),l.column.reinitializeWidth()}e.parentNode.removeChild(e),this.rerenderColumns(!1,!0)}}else this.options("layout")==="fitColumns"&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(t){var e=!0;return t.cols.length!==this.columns.length||t.leftCol!==this.leftCol||t.rightCol!==this.rightCol||(t.cols.forEach((n,r)=>{n!==this.columns[r]&&(e=!1)}),!e)}reinitializeRows(){var t=this.getVisibleRows(),e=this.table.rowManager.getRows().filter(n=>!t.includes(n));t.forEach(n=>{this.reinitializeRow(n,!0)}),e.forEach(n=>{n.deinitialize()})}getVisibleRows(){return this.visibleRows||(this.visibleRows=this.table.rowManager.getVisibleRows()),this.visibleRows}scroll(t){this.vDomScrollPosLeft+=t,this.vDomScrollPosRight+=t,Math.abs(t)>this.windowBuffer/2?this.rerenderColumns():t>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(t,e,n){for(let r=t;r<e;r++){let l=this.columns[r];l.modules.vdomHoz.leftPos+=n,l.modules.vdomHoz.rightPos+=n}}addColRight(){for(var t=!1,e=!0;e;){let n=this.columns[this.rightCol+1];n&&n.modules.vdomHoz.leftPos<=this.vDomScrollPosRight?(t=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var l=r.getCell(n);r.getElement().insertBefore(l.getElement(),r.getCell(this.columns[this.rightCol]).getElement().nextSibling),l.cellRendered()}}),this.fitDataColActualWidthCheck(n),this.rightCol++,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.rightCol=this.rightCol)}),this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=n.getWidth()):e=!1}t&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}addColLeft(){for(var t=!1,e=!0;e;){let n=this.columns[this.leftCol-1];if(n)if(n.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){t=!0,this.getVisibleRows().forEach(l=>{if(l.type!=="group"){var c=l.getCell(n);l.getElement().insertBefore(c.getElement(),l.getCell(this.columns[this.leftCol]).getElement()),c.cellRendered()}}),this.leftCol--,this.getVisibleRows().forEach(l=>{l.type!=="group"&&(l.modules.vdomHoz.leftCol=this.leftCol)}),this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=n.getWidth();let r=this.fitDataColActualWidthCheck(n);r&&(this.scrollLeft=this.elementVertical.scrollLeft=this.elementVertical.scrollLeft+r,this.vDomPadRight-=r)}else e=!1;else e=!1}t&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}removeColRight(){for(var t=!1,e=!0;e;){let n=this.columns[this.rightCol];n&&n.modules.vdomHoz.leftPos>this.vDomScrollPosRight?(t=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var l=r.getCell(n);try{r.getElement().removeChild(l.getElement())}catch(c){console.warn("Could not removeColRight",c.message)}}}),this.vDomPadRight+=n.getWidth(),this.rightCol--,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.rightCol=this.rightCol)})):e=!1}t&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}removeColLeft(){for(var t=!1,e=!0;e;){let n=this.columns[this.leftCol];n&&n.modules.vdomHoz.rightPos<this.vDomScrollPosLeft?(t=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var l=r.getCell(n);try{r.getElement().removeChild(l.getElement())}catch(c){console.warn("Could not removeColLeft",c.message)}}}),this.vDomPadLeft+=n.getWidth(),this.leftCol++,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.leftCol=this.leftCol)})):e=!1}t&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}fitDataColActualWidthCheck(t){var e,n;return t.modules.vdomHoz.fitDataCheck&&(t.reinitializeWidth(),(n=(e=t.getWidth())-t.modules.vdomHoz.width)&&(t.modules.vdomHoz.rightPos+=n,t.modules.vdomHoz.width=e,this.colPositionAdjust(this.columns.indexOf(t)+1,this.columns.length,n)),t.modules.vdomHoz.fitDataCheck=!1),n}initializeRow(t){if(t.type!=="group"){t.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol},this.table.modules.frozenColumns&&this.table.modules.frozenColumns.leftColumns.forEach(e=>{this.appendCell(t,e)});for(let e=this.leftCol;e<=this.rightCol;e++)this.appendCell(t,this.columns[e]);this.table.modules.frozenColumns&&this.table.modules.frozenColumns.rightColumns.forEach(e=>{this.appendCell(t,e)})}}appendCell(t,e){if(e&&e.visible){let n=t.getCell(e);t.getElement().appendChild(n.getElement()),n.cellRendered()}}reinitializeRow(t,e){if(t.type!=="group"&&(e||!t.modules.vdomHoz||t.modules.vdomHoz.leftCol!==this.leftCol||t.modules.vdomHoz.rightCol!==this.rightCol)){for(var n=t.getElement();n.firstChild;)n.removeChild(n.firstChild);this.initializeRow(t)}}}class V extends h{constructor(t){super(t),this.blockHozScrollEvent=!1,this.headersElement=null,this.contentsElement=null,this.rowHeader=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new w(this.table,"column definition",p),this.redrawBlock=!1,this.redrawBlockUpdate=null,this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.contentsElement=this.createHeaderContentsElement(),this.element=this.createHeaderElement(),this.contentsElement.insertBefore(this.headersElement,this.contentsElement.firstChild),this.element.insertBefore(this.contentsElement,this.element.firstChild),this.initializeScrollWheelWatcher(),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("scrollbar-vertical",this.padVerticalScrollbar.bind(this))}padVerticalScrollbar(t){this.table.rtl?this.headersElement.style.marginLeft=t+"px":this.headersElement.style.marginRight=t+"px"}initializeRenderer(){var t,e={virtual:M,basic:S};(t=typeof this.table.options.renderHorizontal=="string"?e[this.table.options.renderHorizontal]:this.table.options.renderHorizontal)?(this.renderer=new t(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",this.table.options.renderHorizontal)}createHeadersElement(){var t=document.createElement("div");return t.classList.add("tabulator-headers"),t.setAttribute("role","row"),t}createHeaderContentsElement(){var t=document.createElement("div");return t.classList.add("tabulator-header-contents"),t.setAttribute("role","rowgroup"),t}createHeaderElement(){var t=document.createElement("div");return t.classList.add("tabulator-header"),t.setAttribute("role","rowgroup"),this.table.options.headerVisible||t.classList.add("tabulator-header-hidden"),t}getElement(){return this.element}getContentsElement(){return this.contentsElement}getHeadersElement(){return this.headersElement}scrollHorizontal(t){this.contentsElement.scrollLeft=t,this.scrollLeft=t,this.renderer.scrollColumns(t)}initializeScrollWheelWatcher(){this.contentsElement.addEventListener("wheel",t=>{var e;t.deltaX&&(e=this.contentsElement.scrollLeft+t.deltaX,this.table.rowManager.scrollHorizontal(e),this.table.columnManager.scrollHorizontal(e))})}generateColumnsFromRowData(t){var e=[],n={},r=this.table.options.autoColumns==="full"?t:[t[0]],l=this.table.options.autoColumnsDefinitions;if(t&&t.length){if(r.forEach(c=>{Object.keys(c).forEach((d,m)=>{let b,C=c[d];n[d]?n[d]!==!0&&C!==void 0&&(n[d].sorter=this.calculateSorterFromValue(C),n[d]=!0):(b={field:d,title:d,sorter:this.calculateSorterFromValue(C)},e.splice(m,0,b),n[d]=C!==void 0||b)})}),l)switch(typeof l){case"function":this.table.options.columns=l.call(this.table,e);break;case"object":Array.isArray(l)?e.forEach(c=>{var d=l.find(m=>m.field===c.field);d&&Object.assign(c,d)}):e.forEach(c=>{l[c.field]&&Object.assign(c,l[c.field])}),this.table.options.columns=e}else this.table.options.columns=e;this.setColumns(this.table.options.columns)}}calculateSorterFromValue(t){var e;switch(typeof t){case"undefined":e="string";break;case"boolean":e="boolean";break;case"number":e="number";break;case"object":e=Array.isArray(t)?"array":"string";break;default:e=isNaN(t)||t===""?t.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}return e}setColumns(t,e){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),this.dispatchExternal("columnsLoading"),this.table.options.rowHeader&&(this.rowHeader=new v(this.table.options.rowHeader===!0?{}:this.table.options.rowHeader,this,!0),this.columns.push(this.rowHeader),this.headersElement.appendChild(this.rowHeader.getElement()),this.rowHeader.columnRendered()),t.forEach((n,r)=>{this._addColumn(n)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.subscribedExternal("columnsLoaded")&&this.dispatchExternal("columnsLoaded",this.getComponents()),this.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(t,e,n){var r=new v(t,this),l=r.getElement(),c=n&&this.findColumnIndex(n);if(!e||!this.rowHeader||n&&n!==this.rowHeader||(e=!1,n=this.rowHeader,c=0),n&&c>-1){var d=n.getTopColumn(),m=this.columns.indexOf(d),b=d.getElement();e?(this.columns.splice(m,0,r),b.parentNode.insertBefore(l,b)):(this.columns.splice(m+1,0,r),b.parentNode.insertBefore(l,b.nextSibling))}else e?(this.columns.unshift(r),this.headersElement.insertBefore(r.getElement(),this.headersElement.firstChild)):(this.columns.push(r),this.headersElement.appendChild(r.getElement()));return r.columnRendered(),r}registerColumnField(t){t.definition.field&&(this.columnsByField[t.definition.field]=t)}registerColumnPosition(t){this.columnsByIndex.push(t)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(t){t.reRegisterPosition()})}verticalAlignHeaders(){var t=0;this.redrawBlock||(this.headersElement.style.height="",this.columns.forEach(e=>{e.clearVerticalAlign()}),this.columns.forEach(e=>{var n=e.getHeight();n>t&&(t=n)}),this.headersElement.style.height=t+"px",this.columns.forEach(e=>{e.verticalAlign(this.table.options.columnHeaderVertAlign,t)}),this.table.rowManager.adjustTableSize())}findColumn(t){var e;return typeof t!="object"?this.columnsByField[t]||!1:t instanceof v?t:t instanceof u?t._getSelf()||!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?(e=[],this.columns.forEach(n=>{e.push(n),e=e.concat(n.getColumns(!0))}),e.find(n=>n.element===t)||!1):!1}getColumnByField(t){return this.columnsByField[t]}getColumnsByFieldRoot(t){var e=[];return Object.keys(this.columnsByField).forEach(n=>{(this.table.options.nestedFieldSeparator?n.split(this.table.options.nestedFieldSeparator)[0]:n)===t&&e.push(this.columnsByField[n])}),e}getColumnByIndex(t){return this.columnsByIndex[t]}getFirstVisibleColumn(){var t=this.columnsByIndex.findIndex(e=>e.visible);return t>-1&&this.columnsByIndex[t]}getVisibleColumnsByIndex(){return this.columnsByIndex.filter(t=>t.visible)}getColumns(){return this.columns}findColumnIndex(t){return this.columnsByIndex.findIndex(e=>t===e)}getRealColumns(){return this.columnsByIndex}traverse(t){this.columnsByIndex.forEach((e,n)=>{t(e,n)})}getDefinitions(t){var e=[];return this.columnsByIndex.forEach(n=>{(!t||t&&n.visible)&&e.push(n.getDefinition())}),e}getDefinitionTree(){var t=[];return this.columns.forEach(e=>{t.push(e.getDefinition(!0))}),t}getComponents(t){var e=[];return(t?this.columns:this.columnsByIndex).forEach(n=>{e.push(n.getComponent())}),e}getWidth(){var t=0;return this.columnsByIndex.forEach(e=>{e.visible&&(t+=e.getWidth())}),t}moveColumn(t,e,n){e.element.parentNode.insertBefore(t.element,e.element),n&&e.element.parentNode.insertBefore(e.element,t.element),this.moveColumnActual(t,e,n),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(t,e,n){t.parent.isGroup?this._moveColumnInArray(t.parent.columns,t,e,n):this._moveColumnInArray(this.columns,t,e,n),this._moveColumnInArray(this.columnsByIndex,t,e,n,!0),this.rerenderColumns(!0),this.dispatch("column-moved",t,e,n),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",t.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(t,e,n,r,l){var c,d=t.indexOf(e);d>-1&&(t.splice(d,1),(c=t.indexOf(n))>-1?r&&(c+=1):c=d,t.splice(c,0,e),l&&(this.chain("column-moving-rows",[e,n,r],null,[])||[]).concat(this.table.rowManager.rows).forEach(function(m){if(m.cells.length){var b=m.cells.splice(d,1)[0];m.cells.splice(c,0,b)}}))}scrollToColumn(t,e,n){var r=0,l=t.getLeftOffset(),c=0,d=t.getElement();return new Promise((m,b)=>{if(e===void 0&&(e=this.table.options.scrollToColumnPosition),n===void 0&&(n=this.table.options.scrollToColumnIfVisible),t.visible){switch(e){case"middle":case"center":c=-this.element.clientWidth/2;break;case"right":c=d.clientWidth-this.headersElement.clientWidth}if(!n&&l>0&&l+d.offsetWidth<this.element.clientWidth)return!1;r=l+c,r=Math.max(Math.min(r,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(r),this.scrollHorizontal(r),m()}else console.warn("Scroll Error - Column not visible"),b("Scroll Error - Column not visible")})}generateCells(t){var e=[];return this.columnsByIndex.forEach(n=>{e.push(n.generateCell(t))}),e}getFlexBaseWidth(){var t=this.table.element.clientWidth,e=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(t-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(n){var r,l,c;n.visible&&(r=n.definition.width||0,l=parseInt(n.minWidth),c=typeof r=="string"?r.indexOf("%")>-1?t/100*parseInt(r):parseInt(r):r,e+=c>l?c:l)}),e}addColumn(t,e,n){return new Promise((r,l)=>{var c=this._addColumn(t,e,n);this._reIndexColumns(),this.dispatch("column-add",t,e,n),this.layoutMode()!="fitColumns"&&c.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.rerenderColumns(),r(c)})}deregisterColumn(t){var e,n=t.getField();n&&delete this.columnsByField[n],(e=this.columnsByIndex.indexOf(t))>-1&&this.columnsByIndex.splice(e,1),(e=this.columns.indexOf(t))>-1&&this.columns.splice(e,1),this.verticalAlignHeaders(),this.redraw()}rerenderColumns(t,e){this.redrawBlock?(t===!1||t===!0&&this.redrawBlockUpdate===null)&&(this.redrawBlockUpdate=t):this.renderer.rerenderColumns(t,e)}blockRedraw(){this.redrawBlock=!0,this.redrawBlockUpdate=null}restoreRedraw(){this.redrawBlock=!1,this.verticalAlignHeaders(),this.renderer.rerenderColumns(this.redrawBlockUpdate)}redraw(t){E.elVisible(this.element)&&this.verticalAlignHeaders(),t&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",t)||this.layoutRefresh(t),this.dispatch("table-redraw",t),this.table.footerManager.redraw()}}class O{constructor(t){return this._row=t,new Proxy(this,{get:function(e,n,r){return e[n]!==void 0?e[n]:e._row.table.componentFunctionBinder.handle("row",e._row,n)}})}getData(t){return this._row.getData(t)}getElement(){return this._row.getElement()}getCells(){var t=[];return this._row.getCells().forEach(function(e){t.push(e.getComponent())}),t}getCell(t){var e=this._row.getCell(t);return!!e&&e.getComponent()}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(){return this._row.getPosition()}watchPosition(t){return this._row.watchPosition(t)}delete(){return this._row.delete()}scrollTo(t,e){return this._row.table.rowManager.scrollToRow(this._row,t,e)}move(t,e){this._row.moveToRow(t,e)}update(t){return this._row.updateData(t)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var t=this._row.nextRow();return t&&t.getComponent()}getPrevRow(){var t=this._row.prevRow();return t&&t.getComponent()}}class W extends h{constructor(t,e,n="row"){super(e.table),this.parent=e,this.data={},this.type=n,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.position=0,this.positionWatchers=[],this.component=null,this.created=!1,this.setData(t)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var t=document.createElement("div");t.classList.add("tabulator-row"),t.setAttribute("role","row"),this.element=t}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(t,e){if(this.create(),!this.initialized||t){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.initialized=!0,this.table.columnManager.renderer.renderRowCells(this,e),t&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this,e)}rendered(){this.cells.forEach(t=>{t.cellRendered()})}reinitializeHeight(){this.heightInitialized=!1,this.element&&this.element.offsetParent!==null&&this.normalizeHeight(!0)}deinitialize(){this.initialized=!1}deinitializeHeight(){this.heightInitialized=!1}reinitialize(t){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&this.element.offsetParent!==null&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(t){var e=0,n=0;this.table.options.rowHeight?this.height=this.table.options.rowHeight:(n=this.calcMinHeight(),e=this.calcMaxHeight(),this.height=t?Math.max(e,n):this.manualHeight?this.height:Math.max(e,n)),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}calcMinHeight(){return this.table.options.resizableRows?this.element.clientHeight:0}calcMaxHeight(){var t=0;return this.cells.forEach(function(e){var n=e.getHeight();n>t&&(t=n)}),t}setCellHeight(){this.cells.forEach(function(t){t.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(t){t.clearHeight()})}normalizeHeight(t){t&&!this.table.options.rowHeight&&this.clearCellHeight(),this.calcHeight(t),this.setCellHeight()}setHeight(t,e){(this.height!=t||e)&&(this.manualHeight=!0,this.height=t,this.heightStyled=t?t+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight,this.subscribedExternal("rowHeight")&&this.dispatchExternal("rowHeight",this.getComponent()))}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)}setData(t){this.data=this.chain("row-data-init-before",[this,t],void 0,t),this.dispatch("row-data-init-after",this)}updateData(t){var e,n=this.element&&E.elVisible(this.element),r={};return new Promise((l,c)=>{typeof t=="string"&&(t=JSON.parse(t)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(r=Object.assign(r,this.data),r=Object.assign(r,t)),e=this.chain("row-data-changing",[this,r,t],null,t);for(let d in e)this.data[d]=e[d];this.dispatch("row-data-save-after",this);for(let d in t)this.table.columnManager.getColumnsByFieldRoot(d).forEach(m=>{let b=this.getCell(m.getField());if(b){let C=m.getFieldValue(e);b.getValue()!==C&&(b.setValueProcessData(C),n&&b.cellRendered())}});n?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,n,t),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),l()})}getData(t){return t?this.chain("row-data-retrieve",[this,t],null,this.data):this.data}getCell(t){return t=this.table.columnManager.findColumn(t),this.initialized||this.cells.length!==0||this.generateCells(),this.cells.find(function(e){return e.column===t})}getCellIndex(t){return this.cells.findIndex(function(e){return e===t})}findCell(t){return this.cells.find(e=>e.element===t)}getCells(){return this.initialized||this.cells.length!==0||this.generateCells(),this.cells}nextRow(){return this.table.rowManager.nextDisplayRow(this,!0)||!1}prevRow(){return this.table.rowManager.prevDisplayRow(this,!0)||!1}moveToRow(t,e){var n=this.table.rowManager.findRow(t);n?(this.table.rowManager.moveRowActual(this,n,!e),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",t)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(t){this.detachModules(),this.table.rowManager.deleteRow(this,t),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detachModules(){this.dispatch("row-deleting",this)}deleteCells(){var t=this.cells.length;for(let e=0;e<t;e++)this.cells[0].delete()}wipe(){if(this.detachModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}isDisplayed(){return this.table.rowManager.getDisplayRows().includes(this)}getPosition(){return!!this.isDisplayed()&&this.position}setPosition(t){t!=this.position&&(this.position=t,this.positionWatchers.forEach(e=>{e(this.position)}))}watchPosition(t){this.positionWatchers.push(t),t(this.position)}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new O(this)),this.component}}class Y extends _{constructor(t){super(t),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var t=this.tableElement;t.firstChild;)t.removeChild(t.firstChild);t.scrollTop=0,t.scrollLeft=0,t.style.minWidth="",t.style.minHeight="",t.style.display="",t.style.visibility=""}renderRows(){var t=this.tableElement,e=!0,n=document.createDocumentFragment(),r=this.rows();r.forEach((l,c)=>{this.styleRow(l,c),l.initialize(!1,!0),l.type!=="group"&&(e=!1),n.appendChild(l.getElement())}),t.appendChild(n),r.forEach(l=>{l.rendered(),l.heightInitialized||l.calcHeight(!0)}),r.forEach(l=>{l.heightInitialized||l.setCellHeight()}),t.style.minWidth=e?this.table.columnManager.getWidth()+"px":""}rerenderRows(t){this.clearRows(),t&&t(),this.renderRows(),this.rows().length||this.table.rowManager.tableEmpty()}scrollToRowNearestTop(t){var e=E.elOffset(t.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-e)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-e))}scrollToRow(t){var e=t.getElement();this.elementVertical.scrollTop=E.elOffset(e).top-E.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(t){return this.rows()}}class U extends _{constructor(t){super(t),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var t=this.tableElement;t.firstChild;)t.removeChild(t.firstChild);t.style.paddingTop="",t.style.paddingBottom="",t.style.minHeight="",t.style.display="",t.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(t){for(var e=this.elementVertical.scrollTop,n=!1,r=!1,l=this.table.rowManager.scrollLeft,c=this.rows(),d=this.vDomTop;d<=this.vDomBottom;d++)if(c[d]){var m=e-c[d].getElement().offsetTop;if(!(r===!1||Math.abs(m)<r))break;r=m,n=d}c.forEach(b=>{b.deinitializeHeight()}),t&&t(),this.rows().length?this._virtualRenderFill(n===!1?this.rows.length-1:n,!0,r||0):(this.clear(),this.table.rowManager.tableEmpty()),this.scrollColumns(l)}scrollColumns(t){this.table.rowManager.scrollHorizontal(t)}scrollRows(t,e){var n=t-this.vDomScrollPosTop,r=t-this.vDomScrollPosBottom,l=2*this.vDomWindowBuffer,c=this.rows();if(this.scrollTop=t,-n>l||r>l){var d=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*c.length)),this.scrollColumns(d)}else e?(n<0&&this._addTopRow(c,-n),r<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(c,-r):this.vDomScrollPosBottom=this.scrollTop)):(r>=0&&this._addBottomRow(c,r),n>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(c,n):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(t){var e=this.rows().indexOf(t);return!(Math.abs(this.vDomTop-e)>Math.abs(this.vDomBottom-e))}scrollToRow(t){var e=this.rows().indexOf(t);e>-1&&this._virtualRenderFill(e,!0)}visibleRows(t){var e=this.elementVertical.scrollTop,n=this.elementVertical.clientHeight+e,r=!1,l=0,c=0,d=this.rows();if(t)l=this.vDomTop,c=this.vDomBottom;else for(var m=this.vDomTop;m<=this.vDomBottom;m++)if(d[m])if(r){if(!(n-d[m].getElement().offsetTop>=0))break;c=m}else if(e-d[m].getElement().offsetTop>=0)l=m;else{if(r=!0,!(n-d[m].getElement().offsetTop>=0))break;c=m}return d.slice(l,c+1)}_virtualRenderFill(t,e,n){var r,l,c=this.tableElement,d=this.elementVertical,m=0,b=0,C=0,R=0,x=0,L=0,H=this.rows(),B=H.length,et=0,it=[],bt=0,jt=0,Jt=this.table.rowManager.fixedHeight,me=this.elementVertical.clientHeight,Ge=this.table.options.rowHeight,Xi=!0;if(n=n||0,t=t||0){for(;c.firstChild;)c.removeChild(c.firstChild);(R=(B-t+1)*this.vDomRowHeight)<me&&(t-=Math.ceil((me-R)/this.vDomRowHeight))<0&&(t=0),t-=m=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),t)}else this.clear();if(B&&E.elVisible(this.elementVertical)){for(this.vDomTop=t,this.vDomBottom=t-1,Jt||this.table.options.maxHeight?(Ge&&(jt=me/Ge+this.vDomWindowBuffer/Ge),jt=Math.max(this.vDomWindowMinTotalRows,Math.ceil(jt))):jt=B;(jt==B||b<=me+this.vDomWindowBuffer||bt<this.vDomWindowMinTotalRows)&&this.vDomBottom<B-1;){for(it=[],l=document.createDocumentFragment(),L=0;L<jt&&this.vDomBottom<B-1;)r=H[et=this.vDomBottom+1],this.styleRow(r,et),r.initialize(!1,!0),r.heightInitialized||this.table.options.rowHeight||r.clearCellHeight(),l.appendChild(r.getElement()),it.push(r),this.vDomBottom++,L++;if(!it.length)break;c.appendChild(l),it.forEach(ne=>{ne.rendered(),ne.heightInitialized||ne.calcHeight(!0)}),it.forEach(ne=>{ne.heightInitialized||ne.setCellHeight()}),it.forEach(ne=>{C=ne.getHeight(),bt<m?x+=C:b+=C,C>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*C),bt++}),Xi=this.table.rowManager.adjustTableSize(),me=this.elementVertical.clientHeight,Xi&&(Jt||this.table.options.maxHeight)&&(Ge=b/bt,jt=Math.max(this.vDomWindowMinTotalRows,Math.ceil(me/Ge+this.vDomWindowBuffer/Ge)))}t?(this.vDomTopPad=e?this.vDomRowHeight*this.vDomTop+n:this.scrollTop-x,this.vDomBottomPad=this.vDomBottom==B-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-b-x,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((b+x)/bt),this.vDomBottomPad=this.vDomRowHeight*(B-this.vDomBottom-1),this.vDomScrollHeight=x+b+this.vDomBottomPad-me),c.style.paddingTop=this.vDomTopPad+"px",c.style.paddingBottom=this.vDomBottomPad+"px",e&&(this.scrollTop=this.vDomTopPad+x+n-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-me:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-me),this.elementVertical.scrollWidth>this.elementVertical.clientWidth&&e&&(this.scrollTop+=this.elementVertical.offsetHeight-me),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,d.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(t,e){for(var n=this.tableElement,r=[],l=0,c=this.vDomTop-1,d=0,m=!0;m;)if(this.vDomTop){let b,C,R=t[c];R&&d<this.vDomMaxRenderChain?(b=R.getHeight()||this.vDomRowHeight,C=R.initialized,e>=b?(this.styleRow(R,c),n.insertBefore(R.getElement(),n.firstChild),R.initialized&&R.heightInitialized||r.push(R),R.initialize(),C||(b=R.getElement().offsetHeight,b>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*b)),e-=b,l+=b,this.vDomTop--,c--,d++):m=!1):m=!1}else m=!1;for(let b of r)b.clearCellHeight();this._quickNormalizeRowHeight(r),l&&(this.vDomTopPad-=l,this.vDomTopPad<0&&(this.vDomTopPad=c*this.vDomRowHeight),c<1&&(this.vDomTopPad=0),n.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=l)}_removeTopRow(t,e){for(var n=[],r=0,l=0,c=!0;c;){let d,m=t[this.vDomTop];m&&l<this.vDomMaxRenderChain?(d=m.getHeight()||this.vDomRowHeight,e>=d?(this.vDomTop++,e-=d,r+=d,n.push(m),l++):c=!1):c=!1}for(let d of n){let m=d.getElement();m.parentNode&&m.parentNode.removeChild(m)}r&&(this.vDomTopPad+=r,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?r:r+this.vDomWindowBuffer)}_addBottomRow(t,e){for(var n=this.tableElement,r=[],l=0,c=this.vDomBottom+1,d=0,m=!0;m;){let b,C,R=t[c];R&&d<this.vDomMaxRenderChain?(b=R.getHeight()||this.vDomRowHeight,C=R.initialized,e>=b?(this.styleRow(R,c),n.appendChild(R.getElement()),R.initialized&&R.heightInitialized||r.push(R),R.initialize(),C||(b=R.getElement().offsetHeight,b>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*b)),e-=b,l+=b,this.vDomBottom++,c++,d++):m=!1):m=!1}for(let b of r)b.clearCellHeight();this._quickNormalizeRowHeight(r),l&&(this.vDomBottomPad-=l,(this.vDomBottomPad<0||c==t.length-1)&&(this.vDomBottomPad=0),n.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=l)}_removeBottomRow(t,e){for(var n=[],r=0,l=0,c=!0;c;){let d,m=t[this.vDomBottom];m&&l<this.vDomMaxRenderChain?(d=m.getHeight()||this.vDomRowHeight,e>=d?(this.vDomBottom--,e-=d,r+=d,n.push(m),l++):c=!1):c=!1}for(let d of n){let m=d.getElement();m.parentNode&&m.parentNode.removeChild(m)}r&&(this.vDomBottomPad+=r,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=r)}_quickNormalizeRowHeight(t){for(let e of t)e.calcHeight();for(let e of t)e.setCellHeight()}}class Q extends h{constructor(t){super(t),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.scrollbarWidth=0,this.renderer=null}createHolderElement(){var t=document.createElement("div");return t.classList.add("tabulator-tableholder"),t.setAttribute("tabindex",0),t}createTableElement(){var t=document.createElement("div");return t.classList.add("tabulator-table"),t.setAttribute("role","rowgroup"),t}initializePlaceholder(){var t=this.table.options.placeholder;if(typeof t=="function"&&(t=t.call(this.table)),t=this.chain("placeholder",[t],t,t)||t){let e=document.createElement("div");if(e.classList.add("tabulator-placeholder"),typeof t=="string"){let n=document.createElement("div");n.classList.add("tabulator-placeholder-contents"),n.innerHTML=t,e.appendChild(n),this.placeholderContents=n}else typeof HTMLElement<"u"&&t instanceof HTMLElement?(e.appendChild(t),this.placeholderContents=t):(console.warn("Invalid placeholder provided, must be string or HTML Element",t),this.el=null);this.placeholder=e}}getElement(){return this.element}getTableElement(){return this.tableElement}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var t=this.element.scrollLeft,e=this.scrollLeft>t,n=this.element.scrollTop,r=this.scrollTop>n;this.scrollLeft!=t&&(this.scrollLeft=t,this.dispatch("scroll-horizontal",t,e),this.dispatchExternal("scrollHorizontal",t,e),this._positionPlaceholder()),this.scrollTop!=n&&(this.scrollTop=n,this.renderer.scrollRows(n,r),this.dispatch("scroll-vertical",n,r),this.dispatchExternal("scrollVertical",n,r))})}findRow(t){return typeof t!="object"?t===void 0?!1:this.rows.find(e=>e.data[this.table.options.index]==t)||!1:t instanceof W?t:t instanceof O?t._getSelf()||!1:typeof HTMLElement<"u"&&t instanceof HTMLElement&&this.rows.find(e=>e.getElement()===t)||!1}getRowFromDataObject(t){return this.rows.find(e=>e.data===t)||!1}getRowFromPosition(t){return this.getDisplayRows().find(e=>e.type==="row"&&e.getPosition()===t&&e.isDisplayed())}scrollToRow(t,e,n){return this.renderer.scrollToRowPosition(t,e,n)}setData(t,e,n){return new Promise((r,l)=>{e&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(t,!0):this.reRenderInPosition(()=>{this._setDataActual(t)}):(this.table.options.autoColumns&&n&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(t),this.resetScroll(),this._setDataActual(t)),r()})}_setDataActual(t,e){this.dispatchExternal("dataProcessing",t),this._wipeElements(),Array.isArray(t)?(this.dispatch("data-processing",t),t.forEach((n,r)=>{if(n&&typeof n=="object"){var l=new W(n,this);this.rows.push(l)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",n)}),this.refreshActiveData(!1,!1,e),this.dispatch("data-processed",t),this.dispatchExternal("dataProcessed",t)):console.error(`Data Loading Error - Unable to process data due to invalid data type 
Expecting: array 
Received: `,typeof t,`
Data:     `,t)}_wipeElements(){this.dispatch("rows-wipe"),this.destroy(),this.adjustTableSize(),this.dispatch("rows-wiped")}destroy(){this.rows.forEach(t=>{t.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0}deleteRow(t,e){var n=this.rows.indexOf(t),r=this.activeRows.indexOf(t);r>-1&&this.activeRows.splice(r,1),n>-1&&this.rows.splice(n,1),this.setActiveRows(this.activeRows),this.displayRowIterator(l=>{var c=l.indexOf(t);c>-1&&l.splice(c,1)}),e||this.reRenderInPosition(),this.regenerateRowPositions(),this.dispatchExternal("rowDeleted",t.getComponent()),this.displayRowsCount||this.tableEmpty(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(t,e,n,r){return this.addRowActual(t,e,n,r)}addRows(t,e,n,r){var l=[];return new Promise((c,d)=>{e=this.findAddRowPos(e),Array.isArray(t)||(t=[t]),(n===void 0&&e||n!==void 0&&!e)&&t.reverse(),t.forEach((m,b)=>{var C=this.addRow(m,e,n,!0);l.push(C),this.dispatch("row-added",C,m,e,n)}),this.refreshActiveData(!!r&&"displayPipeline",!1,!0),this.regenerateRowPositions(),this.displayRowsCount&&this._clearPlaceholder(),c(l)})}findAddRowPos(t){return t===void 0&&(t=this.table.options.addRowPos),t==="pos"&&(t=!0),t==="bottom"&&(t=!1),t}addRowActual(t,e,n,r){var l,c,d=t instanceof W?t:new W(t||{},this),m=this.findAddRowPos(e),b=-1;return n||(c=this.chain("row-adding-position",[d,m],null,{index:n,top:m}),n=c.index,m=c.top),n!==void 0&&(n=this.findRow(n)),(n=this.chain("row-adding-index",[d,n,m],null,n))&&(b=this.rows.indexOf(n)),n&&b>-1?(l=this.activeRows.indexOf(n),this.displayRowIterator(function(C){var R=C.indexOf(n);R>-1&&C.splice(m?R:R+1,0,d)}),l>-1&&this.activeRows.splice(m?l:l+1,0,d),this.rows.splice(m?b:b+1,0,d)):m?(this.displayRowIterator(function(C){C.unshift(d)}),this.activeRows.unshift(d),this.rows.unshift(d)):(this.displayRowIterator(function(C){C.push(d)}),this.activeRows.push(d),this.rows.push(d)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",d.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),r||this.reRenderInPosition(),d}moveRow(t,e,n){this.dispatch("row-move",t,e,n),this.moveRowActual(t,e,n),this.regenerateRowPositions(),this.dispatch("row-moved",t,e,n),this.dispatchExternal("rowMoved",t.getComponent())}moveRowActual(t,e,n){this.moveRowInArray(this.rows,t,e,n),this.moveRowInArray(this.activeRows,t,e,n),this.displayRowIterator(r=>{this.moveRowInArray(r,t,e,n)}),this.dispatch("row-moving",t,e,n)}moveRowInArray(t,e,n,r){var l,c,d;if(e!==n&&((l=t.indexOf(e))>-1&&(t.splice(l,1),(c=t.indexOf(n))>-1?r?t.splice(c+1,0,e):t.splice(c,0,e):t.splice(l,0,e)),t===this.getDisplayRows())){d=c>l?c:l+1;for(let m=l<c?l:c;m<=d;m++)t[m]&&this.styleRow(t[m],m)}}clearData(){this.setData([])}getRowIndex(t){return this.findRowIndex(t,this.rows)}getDisplayRowIndex(t){var e=this.getDisplayRows().indexOf(t);return e>-1&&e}nextDisplayRow(t,e){var n=this.getDisplayRowIndex(t),r=!1;return n!==!1&&n<this.displayRowsCount-1&&(r=this.getDisplayRows()[n+1]),!r||r instanceof W&&r.type=="row"?r:this.nextDisplayRow(r,e)}prevDisplayRow(t,e){var n=this.getDisplayRowIndex(t),r=!1;return n&&(r=this.getDisplayRows()[n-1]),!e||!r||r instanceof W&&r.type=="row"?r:this.prevDisplayRow(r,e)}findRowIndex(t,e){var n;return!!((t=this.findRow(t))&&(n=e.indexOf(t))>-1)&&n}getData(t,e){var n=[];return this.getRows(t).forEach(function(r){r.type=="row"&&n.push(r.getData(e||"data"))}),n}getComponents(t){var e=[];return this.getRows(t).forEach(function(n){e.push(n.getComponent())}),e}getDataCount(t){return this.getRows(t).length}scrollHorizontal(t){this.scrollLeft=t,this.element.scrollLeft=t,this.dispatch("scroll-horizontal",t)}registerDataPipelineHandler(t,e){e!==void 0?(this.dataPipeline.push({handler:t,priority:e}),this.dataPipeline.sort((n,r)=>n.priority-r.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(t,e){e!==void 0?(this.displayPipeline.push({handler:t,priority:e}),this.displayPipeline.sort((n,r)=>n.priority-r.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(t,e,n){var r=this.table,l="",c=0,d=["all","dataPipeline","display","displayPipeline","end"];if(!this.table.destroyed){if(typeof t=="function")if((c=this.dataPipeline.findIndex(m=>m.handler===t))>-1)l="dataPipeline",e&&(c==this.dataPipeline.length-1?l="display":c++);else{if(!((c=this.displayPipeline.findIndex(m=>m.handler===t))>-1))return void console.error("Unable to refresh data, invalid handler provided",t);l="displayPipeline",e&&(c==this.displayPipeline.length-1?l="end":c++)}else l=t||"all",c=0;if(this.redrawBlock)return void((!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===l&&c<this.redrawBlockRestoreConfig.index||d.indexOf(l)<d.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:t,skipStage:e,renderInPosition:n,stage:l,index:c}));E.elVisible(this.element)?n?this.reRenderInPosition(this.refreshPipelines.bind(this,t,l,c,n)):(this.refreshPipelines(t,l,c,n),t||this.table.columnManager.renderer.renderColumns(),this.renderTable(),r.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(t,l,c,n),this.dispatch("data-refreshed")}}refreshPipelines(t,e,n,r){switch(this.dispatch("data-refreshing"),t&&this.activeRowsPipeline[0]||(this.activeRowsPipeline[0]=this.rows.slice(0)),e){case"all":case"dataPipeline":for(let l=n;l<this.dataPipeline.length;l++){let c=this.dataPipeline[l].handler(this.activeRowsPipeline[l].slice(0));this.activeRowsPipeline[l+1]=c||this.activeRowsPipeline[l].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);case"display":n=0,this.resetDisplayRows();case"displayPipeline":for(let l=n;l<this.displayPipeline.length;l++){let c=this.displayPipeline[l].handler((l?this.getDisplayRows(l-1):this.activeRows).slice(0),r);this.setDisplayRows(c||this.getDisplayRows(l-1).slice(0),l)}case"end":this.regenerateRowPositions()}this.getDisplayRows().length&&this._clearPlaceholder()}regenerateRowPositions(){var t=this.getDisplayRows(),e=1;t.forEach(n=>{n.type==="row"&&(n.setPosition(e),e++)})}setActiveRows(t){this.activeRows=this.activeRows=Object.assign([],t),this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}setDisplayRows(t,e){this.displayRows[e]=t,e==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length)}getDisplayRows(t){return t===void 0?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[t]||[]}getVisibleRows(t,e){var n=Object.assign([],this.renderer.visibleRows(!e));return t&&(n=this.chain("rows-visible",[e],n,n)),n}displayRowIterator(t){this.activeRowsPipeline.forEach(t),this.displayRows.forEach(t),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(t){var e=[];switch(t){case"active":e=this.activeRows;break;case"display":e=this.table.rowManager.getDisplayRows();break;case"visible":e=this.getVisibleRows(!1,!0);break;default:e=this.chain("rows-retrieve",t,null,this.rows)||this.rows}return e}reRenderInPosition(t){this.redrawBlock?t?t():this.redrawBlockRenderInPosition=!0:(this.dispatchExternal("renderStarted"),this.renderer.rerenderRows(t),this.fixedHeight||this.adjustTableSize(),this.scrollBarCheck(),this.dispatchExternal("renderComplete"))}scrollBarCheck(){var t=0;this.element.scrollHeight>this.element.clientHeight&&(t=this.element.offsetWidth-this.element.clientWidth),t!==this.scrollbarWidth&&(this.scrollbarWidth=t,this.dispatch("scrollbar-vertical",t))}initializeRenderer(){var t,e={virtual:U,basic:Y};(t=typeof this.table.options.renderVertical=="string"?e[this.table.options.renderVertical]:this.table.options.renderVertical)?(this.renderMode=this.table.options.renderVertical,this.renderer=new t(this.table,this.element,this.tableElement),this.renderer.initialize(),!this.table.element.clientHeight&&!this.table.options.height||this.table.options.minHeight&&this.table.options.maxHeight?this.fixedHeight=!1:this.fixedHeight=!0):console.error("Unable to find matching renderer:",this.table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.fixedHeight||this.adjustTableSize(),this.layoutRefresh(!0))):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.scrollBarCheck(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}tableEmpty(){this.renderEmptyScroll(),this._showPlaceholder()}checkPlaceholder(){this.displayRowsCount?this._clearPlaceholder():this.tableEmpty()}_showPlaceholder(){this.placeholder&&(this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.initializePlaceholder(),this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder(),this.adjustTableSize())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.tableElement.style.minWidth="",this.tableElement.style.display=""}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(t,e){var n=t.getElement();e%2?(n.classList.add("tabulator-row-even"),n.classList.remove("tabulator-row-odd")):(n.classList.add("tabulator-row-odd"),n.classList.remove("tabulator-row-even"))}normalizeHeight(t){this.activeRows.forEach(function(e){e.normalizeHeight(t)})}adjustTableSize(){let t,e=this.element.clientHeight,n=!1;if(this.renderer.verticalFillMode==="fill"){let r=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));if(this.fixedHeight){t=isNaN(this.table.options.minHeight)?this.table.options.minHeight:this.table.options.minHeight+"px";const l="calc(100% - "+r+"px)";this.element.style.minHeight=t||"calc(100% - "+r+"px)",this.element.style.height=l,this.element.style.maxHeight=l}else this.element.style.height="",this.element.style.height=this.table.element.clientHeight-r+"px",this.element.scrollTop=this.scrollTop;this.renderer.resize(),this.fixedHeight||e==this.element.clientHeight||(n=!0,this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw()),this.scrollBarCheck()}return this._positionPlaceholder(),n}reinitialize(){this.rows.forEach(function(t){t.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(t){this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,t?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(this.scrollLeft))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,this.table.browser==="ie"){var t=document.createEvent("Event");t.initEvent("scroll",!1,!0),this.element.dispatchEvent(t)}else this.element.dispatchEvent(new Event("scroll"))}}class I extends h{constructor(t){super(t),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1}initialize(){this.initializeElement()}createElement(){var t=document.createElement("div");return t.classList.add("tabulator-footer"),t}createContainerElement(){var t=document.createElement("div");return t.classList.add("tabulator-footer-contents"),this.element.appendChild(t),t}initializeElement(){this.table.options.footerElement&&(typeof this.table.options.footerElement=="string"?this.table.options.footerElement[0]==="<"?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.containerElement=document.querySelector(this.table.options.footerElement)):this.element=this.table.options.footerElement)}getElement(){return this.element}append(t){this.activate(),this.containerElement.appendChild(t),this.table.rowManager.adjustTableSize()}prepend(t){this.activate(),this.element.insertBefore(t,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(t){t.parentNode.removeChild(t),this.deactivate()}deactivate(t){this.element.firstChild&&!t||(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display=""))}redraw(){this.dispatch("footer-redraw")}}class nt extends h{constructor(t){super(t),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","mouseup","mousedown","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var t={};this.listeners.forEach(e=>{t[e]={handler:null,components:[]}}),this.listeners=t}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(t=>{this.pseudoTrackers[t].subscriber=this.pseudoMouseEnter.bind(this,t),this.subscribe(t+"-mouseover",this.pseudoTrackers[t].subscriber)}),this.pseudoTracking=!0}pseudoMouseEnter(t,e,n){this.pseudoTrackers[t].target!==n&&(this.pseudoTrackers[t].target&&this.dispatch(t+"-mouseleave",e,this.pseudoTrackers[t].target),this.pseudoMouseLeave(t,e),this.pseudoTrackers[t].target=n,this.dispatch(t+"-mouseenter",e,n))}pseudoMouseLeave(t,e){var n=Object.keys(this.pseudoTrackers),r={row:["cell"],cell:["row"]};(n=n.filter(l=>{var c=r[t];return l!==t&&(!c||c&&!c.includes(l))})).forEach(l=>{var c=this.pseudoTrackers[l].target;this.pseudoTrackers[l].target&&(this.dispatch(l+"-mouseleave",e,c),this.pseudoTrackers[l].target=null)})}bindSubscriptionWatchers(){var t=Object.keys(this.listeners),e=Object.values(this.componentMap);for(let n of e)for(let r of t){let l=n+"-"+r;this.subscriptionChange(l,this.subscriptionChanged.bind(this,n,r))}this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(t,e,n){var r=this.listeners[e].components,l=r.indexOf(t),c=!1;n?l===-1&&(r.push(t),c=!0):this.subscribed(t+"-"+e)||l>-1&&(r.splice(l,1),c=!0),e!=="mouseenter"&&e!=="mouseleave"||this.pseudoTracking||this.bindPseudoEvents(),c&&this.updateEventListeners()}updateEventListeners(){for(let t in this.listeners){let e=this.listeners[t];e.components.length?e.handler||(e.handler=this.track.bind(this,t),this.el.addEventListener(t,e.handler)):e.handler&&(this.el.removeEventListener(t,e.handler),e.handler=null)}}track(t,e){var n=e.composedPath&&e.composedPath()||e.path,r=this.findTargets(n);r=this.bindComponents(t,r),this.triggerEvents(t,e,r),!this.pseudoTracking||t!="mouseover"&&t!="mouseleave"||Object.keys(r).length||this.pseudoMouseLeave("none",e)}findTargets(t){var e={};let n=Object.keys(this.componentMap);for(let r of t){let l=r.classList?[...r.classList]:[];if(l.filter(d=>this.abortClasses.includes(d)).length)break;let c=l.filter(d=>n.includes(d));for(let d of c)e[this.componentMap[d]]||(e[this.componentMap[d]]=r)}return e.group&&e.group===e.row&&delete e.row,e}bindComponents(t,e){var n=Object.keys(e).reverse(),r=this.listeners[t],l={},c={},d={};for(let m of n){let b,C=e[m],R=this.previousTargets[m];if(R&&R.target===C)b=R.component;else switch(m){case"row":case"group":(r.components.includes("row")||r.components.includes("cell")||r.components.includes("group"))&&(b=this.table.rowManager.getVisibleRows(!0).find(x=>x.getElement()===C),e.row&&e.row.parentNode&&e.row.parentNode.closest(".tabulator-row")&&(e[m]=!1));break;case"column":r.components.includes("column")&&(b=this.table.columnManager.findColumn(C));break;case"cell":r.components.includes("cell")&&(l.row instanceof W?b=l.row.findCell(C):e.row&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"))}b&&(l[m]=b,d[m]={target:C,component:b})}return this.previousTargets=d,Object.keys(e).forEach(m=>{let b=l[m];c[m]=b}),c}triggerEvents(t,e,n){var r=this.listeners[t];for(let l in n)n[l]&&r.components.includes(l)&&this.dispatch(l+"-"+t,e,n[l])}clearWatchers(){for(let t in this.listeners){let e=this.listeners[t];e.handler&&(this.el.removeEventListener(t,e.handler),e.handler=null)}}}class lt{constructor(t){this.table=t,this.bindings={}}bind(t,e,n){this.bindings[t]||(this.bindings[t]={}),this.bindings[t][e]?console.warn("Unable to bind component handler, a matching function name is already bound",t,e,n):this.bindings[t][e]=n}handle(t,e,n){if(this.bindings[t]&&this.bindings[t][n]&&typeof this.bindings[t][n].bind=="function")return this.bindings[t][n].bind(null,e);n==="then"||typeof n!="string"||n.startsWith("_")||this.table.options.debugInvalidComponentFuncs&&console.error("The "+t+" component does not have a "+n+" function, have you checked that you have the correct Tabulator module installed?")}}class ht extends h{constructor(t){super(t),this.requestOrder=0,this.loading=!1}initialize(){}load(t,e,n,r,l,c){var d=++this.requestOrder;return this.table.destroyed?Promise.resolve():(this.dispatchExternal("dataLoading",t),!t||t.indexOf("{")!=0&&t.indexOf("[")!=0||(t=JSON.parse(t)),this.confirm("data-loading",[t,e,n,l])?(this.loading=!0,l||this.alertLoader(),e=this.chain("data-params",[t,n,l],e||{},e||{}),e=this.mapParams(e,this.table.options.dataSendParams),this.chain("data-load",[t,e,n,l],!1,Promise.resolve([])).then(m=>{if(this.table.destroyed)console.warn("Data Load Response Blocked - Table has been destroyed");else{Array.isArray(m)||typeof m!="object"||(m=this.mapParams(m,this.objectInvert(this.table.options.dataReceiveParams)));var b=this.chain("data-loaded",[m],null,m);d==this.requestOrder?(this.clearAlert(),b!==!1&&(this.dispatchExternal("dataLoaded",b),this.table.rowManager.setData(b,r,c===void 0?!r:c))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}}).catch(m=>{console.error("Data Load Error: ",m),this.dispatchExternal("dataLoadError",m),l||this.alertError(),setTimeout(()=>{this.clearAlert()},this.table.options.dataLoaderErrorTimeout)}).finally(()=>{this.loading=!1})):(this.dispatchExternal("dataLoaded",t),t||(t=[]),this.table.rowManager.setData(t,r,c===void 0?!r:c),Promise.resolve()))}mapParams(t,e){var n={};for(let r in t)n[e.hasOwnProperty(r)?e[r]:r]=t[r];return n}objectInvert(t){var e={};for(let n in t)e[t[n]]=n;return e}blockActiveLoad(){this.requestOrder++}alertLoader(){(typeof this.table.options.dataLoader=="function"?this.table.options.dataLoader():this.table.options.dataLoader)&&this.table.alertManager.alert(this.table.options.dataLoaderLoading||this.langText("data|loading"))}alertError(){this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText("data|error"),"error")}clearAlert(){this.table.alertManager.clear()}}class Ct{constructor(t,e,n){this.table=t,this.events={},this.optionsList=e||{},this.subscriptionNotifiers={},this.dispatch=n?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=n}subscriptionChange(t,e){this.subscriptionNotifiers[t]||(this.subscriptionNotifiers[t]=[]),this.subscriptionNotifiers[t].push(e),this.subscribed(t)&&this._notifySubscriptionChange(t,!0)}subscribe(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e),this._notifySubscriptionChange(t,!0)}unsubscribe(t,e){var n;if(this.events[t]){if(e){if(!((n=this.events[t].findIndex(r=>r===e))>-1))return void console.warn("Cannot remove event, no matching event found:",t,e);this.events[t].splice(n,1)}else delete this.events[t];this._notifySubscriptionChange(t,!1)}else console.warn("Cannot remove event, no events set on:",t)}subscribed(t){return this.events[t]&&this.events[t].length}_notifySubscriptionChange(t,e){var n=this.subscriptionNotifiers[t];n&&n.forEach(r=>{r(e)})}_dispatch(){var t,e=Array.from(arguments),n=e.shift();return this.events[n]&&this.events[n].forEach((r,l)=>{let c=r.apply(this.table,e);l||(t=c)}),t}_debugDispatch(){var t=Array.from(arguments),e=t[0];return t[0]="ExternalEvent:"+t[0],(this.debug===!0||this.debug.includes(e))&&console.log(...t),this._dispatch(...arguments)}}class Rt{constructor(t){this.events={},this.subscriptionNotifiers={},this.dispatch=t?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=t?this._debugChain.bind(this):this._chain.bind(this),this.confirm=t?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=t}subscriptionChange(t,e){this.subscriptionNotifiers[t]||(this.subscriptionNotifiers[t]=[]),this.subscriptionNotifiers[t].push(e),this.subscribed(t)&&this._notifySubscriptionChange(t,!0)}subscribe(t,e,n=1e4){this.events[t]||(this.events[t]=[]),this.events[t].push({callback:e,priority:n}),this.events[t].sort((r,l)=>r.priority-l.priority),this._notifySubscriptionChange(t,!0)}unsubscribe(t,e){var n;if(this.events[t]){if(e){if(!((n=this.events[t].findIndex(r=>r.callback===e))>-1))return void console.warn("Cannot remove event, no matching event found:",t,e);this.events[t].splice(n,1)}this._notifySubscriptionChange(t,!1)}else console.warn("Cannot remove event, no events set on:",t)}subscribed(t){return this.events[t]&&this.events[t].length}_chain(t,e,n,r){var l=n;return Array.isArray(e)||(e=[e]),this.subscribed(t)?(this.events[t].forEach((c,d)=>{l=c.callback.apply(this,e.concat([l]))}),l):typeof r=="function"?r():r}_confirm(t,e){var n=!1;return Array.isArray(e)||(e=[e]),this.subscribed(t)&&this.events[t].forEach((r,l)=>{r.callback.apply(this,e)&&(n=!0)}),n}_notifySubscriptionChange(t,e){var n=this.subscriptionNotifiers[t];n&&n.forEach(r=>{r(e)})}_dispatch(){var t=Array.from(arguments),e=t.shift();this.events[e]&&this.events[e].forEach(n=>{n.callback.apply(this,t)})}_debugDispatch(){var t=Array.from(arguments),e=t[0];return t[0]="InternalEvent:"+e,(this.debug===!0||this.debug.includes(e))&&console.log(...t),this._dispatch(...arguments)}_debugChain(){var t=Array.from(arguments),e=t[0];return t[0]="InternalEvent:"+e,(this.debug===!0||this.debug.includes(e))&&console.log(...t),this._chain(...arguments)}_debugConfirm(){var t=Array.from(arguments),e=t[0];return t[0]="InternalEvent:"+e,(this.debug===!0||this.debug.includes(e))&&console.log(...t),this._confirm(...arguments)}}class wt extends h{constructor(t){super(t)}_warnUser(){this.options("debugDeprecation")&&console.warn(...arguments)}check(t,e,n){var r="";return this.options(t)===void 0||(r="Deprecated Setup Option - Use of the %c"+t+"%c option is now deprecated",e?(r=r+", Please use the %c"+e+"%c option instead",this._warnUser(r,"font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;"),n&&(this.table.options[e]=this.table.options[t])):this._warnUser(r,"font-weight: bold;","font-weight: normal;"),!1)}checkMsg(t,e){return this.options(t)===void 0||(this._warnUser("%cDeprecated Setup Option - Use of the %c"+t+" %c option is now deprecated, "+e,"font-weight: normal;","font-weight: bold;","font-weight: normal;"),!1)}msg(t){this._warnUser(t)}}class Mt extends h{constructor(t){super(t),this.deps={},this.props={}}initialize(){this.deps=Object.assign({},this.options("dependencies"))}lookup(t,e,n){if(!Array.isArray(t))return e?this.lookupProp(t,e,n):this.lookupKey(t,n);for(const l of t){var r=this.lookup(l,e,!0);if(r)break}if(r)return r;this.error(t)}lookupProp(t,e,n){var r;return this.props[t]&&this.props[t][e]?this.props[t][e]:(r=this.lookupKey(t,n))?(this.props[t]||(this.props[t]={}),this.props[t][e]=r[e]||r,this.props[t][e]):void 0}lookupKey(t,e){var n;return this.deps[t]?n=this.deps[t]:window[t]?(this.deps[t]=window[t],n=this.deps[t]):e||this.error(t),n}error(t){console.error("Unable to find dependency",t,"Please check documentation and ensure you have imported the required library into your project")}}let Pt=class _u extends h{constructor(t,e,n){super(t),this.element=e,this.container=this._lookupContainer(),this.parent=n,this.reversedX=!1,this.childPopup=null,this.blurable=!1,this.blurCallback=null,this.blurEventsBound=!1,this.renderedCallback=null,this.visible=!1,this.hideable=!0,this.element.classList.add("tabulator-popup-container"),this.blurEvent=this.hide.bind(this,!1),this.escEvent=this._escapeCheck.bind(this),this.destroyBinding=this.tableDestroyed.bind(this),this.destroyed=!1}tableDestroyed(){this.destroyed=!0,this.hide(!0)}_lookupContainer(){var t=this.table.options.popupContainer;return typeof t=="string"?(t=document.querySelector(t))||console.warn("Menu Error - no container element found matching selector:",this.table.options.popupContainer,"(defaulting to document body)"):t===!0&&(t=this.table.element),t&&!this._checkContainerIsParent(t)&&(t=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.popupContainer,"(defaulting to document body)")),t||(t=document.body),t}_checkContainerIsParent(t,e=this.table.element){return t===e||!!e.parentNode&&this._checkContainerIsParent(t,e.parentNode)}renderCallback(t){this.renderedCallback=t}containerEventCoords(t){var e=!(t instanceof MouseEvent),n=e?t.touches[0].pageX:t.pageX,r=e?t.touches[0].pageY:t.pageY;if(this.container!==document.body){let l=E.elOffset(this.container);n-=l.left,r-=l.top}return{x:n,y:r}}elementPositionCoords(t,e="right"){var n,r,l,c=E.elOffset(t);switch(this.container!==document.body&&(n=E.elOffset(this.container),c.left-=n.left,c.top-=n.top),e){case"right":r=c.left+t.offsetWidth,l=c.top-1;break;case"bottom":r=c.left,l=c.top+t.offsetHeight;break;case"left":r=c.left,l=c.top-1;break;case"top":r=c.left,l=c.top;break;case"center":r=c.left+t.offsetWidth/2,l=c.top+t.offsetHeight/2}return{x:r,y:l,offset:c}}show(t,e){var n,r,l,c,d;return this.destroyed||this.table.destroyed||(t instanceof HTMLElement?(l=t,c=(d=this.elementPositionCoords(t,e)).offset,n=d.x,r=d.y):typeof t=="number"?(c={top:0,left:0},n=t,r=e):(n=(d=this.containerEventCoords(t)).x,r=d.y,this.reversedX=!1),this.element.style.top=r+"px",this.element.style.left=n+"px",this.container.appendChild(this.element),typeof this.renderedCallback=="function"&&this.renderedCallback(),this._fitToScreen(n,r,l,c,e),this.visible=!0,this.subscribe("table-destroy",this.destroyBinding),this.element.addEventListener("mousedown",m=>{m.stopPropagation()})),this}_fitToScreen(t,e,n,r,l){var c=this.container===document.body?document.documentElement.scrollTop:this.container.scrollTop;(t+this.element.offsetWidth>=this.container.offsetWidth||this.reversedX)&&(this.element.style.left="",this.element.style.right=n?this.container.offsetWidth-r.left+"px":this.container.offsetWidth-t+"px",this.reversedX=!0);let d=Math.max(this.container.offsetHeight,c?this.container.scrollHeight:0);e+this.element.offsetHeight>d&&(n?l==="bottom"?this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight-n.offsetHeight-1+"px":this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+n.offsetHeight+1+"px":this.element.style.height=d+"px")}isVisible(){return this.visible}hideOnBlur(t){return this.blurable=!0,this.visible&&(setTimeout(()=>{this.visible&&(this.table.rowManager.element.addEventListener("scroll",this.blurEvent),this.subscribe("cell-editing",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),document.body.addEventListener("mousedown",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent),this.blurEventsBound=!0)},100),this.blurCallback=t),this}_escapeCheck(t){t.keyCode==27&&this.hide()}blockHide(){this.hideable=!1}restoreHide(){this.hideable=!0}hide(t=!1){return this.visible&&this.hideable&&(this.blurable&&this.blurEventsBound&&(document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),document.body.removeEventListener("mousedown",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.unsubscribe("cell-editing",this.blurEvent),this.blurEventsBound=!1),this.childPopup&&this.childPopup.hide(),this.parent&&(this.parent.childPopup=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.visible=!1,this.blurCallback&&!t&&this.blurCallback(),this.unsubscribe("table-destroy",this.destroyBinding)),this}child(t){return this.childPopup&&this.childPopup.hide(),this.childPopup=new _u(this.table,t,this),this.childPopup}};class Z extends h{constructor(t,e){super(t),this._handler=null}initialize(){}registerTableOption(t,e){this.table.optionsList.register(t,e)}registerColumnOption(t,e){this.table.columnManager.optionsList.register(t,e)}registerTableFunction(t,e){this.table[t]===void 0?this.table[t]=(...n)=>(this.table.initGuard(t),e(...n)):console.warn("Unable to bind table function, name already in use",t)}registerComponentFunction(t,e,n){return this.table.componentFunctionBinder.bind(t,e,n)}registerDataHandler(t,e){this.table.rowManager.registerDataPipelineHandler(t,e),this._handler=t}registerDisplayHandler(t,e){this.table.rowManager.registerDisplayPipelineHandler(t,e),this._handler=t}displayRows(t){var e,n=this.table.rowManager.displayRows.length-1;if(this._handler&&(e=this.table.rowManager.displayPipeline.findIndex(r=>r.handler===this._handler))>-1&&(n=e),t&&(n+=t),this._handler)return n>-1?this.table.rowManager.getDisplayRows(n):this.activeRows()}activeRows(){return this.table.rowManager.activeRows}refreshData(t,e){e||(e=this._handler),e&&this.table.rowManager.refreshActiveData(e,!1,t)}footerAppend(t){return this.table.footerManager.append(t)}footerPrepend(t){return this.table.footerManager.prepend(t)}footerRemove(t){return this.table.footerManager.remove(t)}popup(t,e){return new Pt(this.table,t,e)}alert(t,e){return this.table.alertManager.alert(t,e)}clearAlert(){return this.table.alertManager.clear()}}function qt(o,t){o.forEach(function(e){e.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}var Xt={fitData:function(o,t){t&&this.table.columnManager.renderer.reinitializeColumnWidths(o),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:qt,fitDataTable:qt,fitDataStretch:function(o,t){var e=0,n=this.table.rowManager.element.clientWidth,r=0,l=!1;o.forEach((c,d)=>{c.widthFixed||c.reinitializeWidth(),(this.table.options.responsiveLayout?c.modules.responsive.visible:c.visible)&&(l=c),c.visible&&(e+=c.getWidth())}),l?(r=n-e+l.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(l.setWidth(0),this.table.modules.responsiveLayout.update()),r>0?l.setWidth(r):l.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(o,t){var e,n,r=this.table.rowManager.element.getBoundingClientRect().width,l=0,c=0,d=0,m=[],b=[],C=0,R=0;function x(H){return typeof H=="string"?H.indexOf("%")>-1?r/100*parseInt(H):parseInt(H):H}function L(H,B,et,it){var bt=[],jt=0,Jt=0,me=0,Ge=d,Xi=0,ne=0,Bo=[];function Sa(xt){return et*(xt.column.definition.widthGrow||1)}function Ma(xt){return x(xt.width)-et*(xt.column.definition.widthShrink||0)}return H.forEach(function(xt,UE){var La=it?Ma(xt):Sa(xt);xt.column.minWidth>=La?bt.push(xt):xt.column.maxWidth&&xt.column.maxWidth<La?(xt.width=xt.column.maxWidth,B-=xt.column.maxWidth,(Ge-=it?xt.column.definition.widthShrink||1:xt.column.definition.widthGrow||1)&&(et=Math.floor(B/Ge))):(Bo.push(xt),ne+=it?xt.column.definition.widthShrink||1:xt.column.definition.widthGrow||1)}),bt.length?(bt.forEach(function(xt){jt+=it?xt.width-xt.column.minWidth:xt.column.minWidth,xt.width=xt.column.minWidth}),Jt=B-jt,me=ne?Math.floor(Jt/ne):Jt,Xi=L(Bo,Jt,me,it)):(Xi=ne?B-Math.floor(B/ne)*ne:B,Bo.forEach(function(xt){xt.width=it?Ma(xt):Sa(xt)})),Xi}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(r-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),o.forEach(function(H){var B,et,it;H.visible&&(B=H.definition.width,et=parseInt(H.minWidth),B?(it=x(B),l+=it>et?it:et,H.definition.widthShrink&&(b.push({column:H,width:it>et?it:et}),C+=H.definition.widthShrink)):(m.push({column:H,width:0}),d+=H.definition.widthGrow||1))}),c=r-l,e=Math.floor(c/d),R=L(m,c,e,!1),m.length&&R>0&&(m[m.length-1].width+=R),m.forEach(function(H){c-=H.width}),(n=Math.abs(R)+c)>0&&C&&(R=L(b,n,Math.floor(n/C),!0)),R&&b.length&&(b[b.length-1].width-=R),m.forEach(function(H){H.column.setWidth(H.width)}),b.forEach(function(H){H.column.setWidth(H.width)})}};const Ui=class Ui extends Z{constructor(t){super(t,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var t=this.table.options.layout;Ui.modes[t]?this.mode=t:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+t),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode),this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(t){t.definition.widthGrow&&(t.definition.widthGrow=Number(t.definition.widthGrow)),t.definition.widthShrink&&(t.definition.widthShrink=Number(t.definition.widthShrink))}getMode(){return this.mode}layout(t){var e=this.table.columnManager.columnsByIndex.find(n=>n.definition.variableHeight||n.definition.formatter==="textarea");this.dispatch("layout-refreshing"),Ui.modes[this.mode].call(this,this.table.columnManager.columnsByIndex,t),e&&this.table.rowManager.normalizeHeight(!0),this.dispatch("layout-refreshed")}};G(Ui,"moduleName","layout"),G(Ui,"modes",Xt);let gt=Ui;var ut={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}};const xs=class xs extends Z{constructor(t){super(t),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=E.deepClone(xs.langs),this.table.options.columnDefaults.headerFilterPlaceholder!==!1&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let t in this.table.options.langs)this.installLang(t,this.table.options.langs[t]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(t){this.langList.default.headerFilters.default=t}installLang(t,e){this.langList[t]?this._setLangProp(this.langList[t],e):this.langList[t]=e}_setLangProp(t,e){for(let n in e)t[n]&&typeof t[n]=="object"?this._setLangProp(t[n],e[n]):t[n]=e[n]}setLocale(t){if((t=t||"default")===!0&&navigator.language&&(t=navigator.language.toLowerCase()),t&&!this.langList[t]){let e=t.split("-")[0];this.langList[e]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",t,e),t=e):(console.warn("Localization Error - Matching locale not found, using default: ",t),t="default")}this.locale=t,this.lang=E.deepClone(this.langList.default||{}),t!="default"&&function e(n,r){for(var l in n)typeof n[l]=="object"?(r[l]||(r[l]={}),e(n[l],r[l])):r[l]=n[l]}(this.langList[t],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(t){return this.locale}getLang(t){return t?this.langList[t]:this.lang}getText(t,e){var n=(e?t+"|"+e:t).split("|");return this._getLangElement(n,this.locale)||""}_getLangElement(t,e){var n=this.lang;return t.forEach(function(r){var l;n&&(l=n[r],n=l!==void 0&&l)}),n}bind(t,e){this.bindings[t]||(this.bindings[t]=[]),this.bindings[t].push(e),e(this.getText(t),this.lang)}_executeBindings(){for(let t in this.bindings)this.bindings[t].forEach(e=>{e(this.getText(t),this.lang)})}};G(xs,"moduleName","localize"),G(xs,"langs",ut);let mt=xs;var zt=Object.freeze({__proto__:null,CommsModule:(_o=class extends Z{constructor(o){super(o)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(o){var t=[];return this.table.constructor.registry.lookupTable(o).forEach(e=>{this.table!==e&&t.push(e)}),t}send(o,t,e,n){var r=this.getConnections(o);r.forEach(l=>{l.tableComms(this.table.element,t,e,n)}),!r.length&&o&&console.warn("Table Connection Error - No tables matching selector found",o)}receive(o,t,e,n){if(this.table.modExists(t))return this.table.modules[t].commsReceived(o,e,n);console.warn("Inter-table Comms Error - no such module:",t)}},G(_o,"moduleName","comms"),_o),LayoutModule:gt,LocalizeModule:mt});const pe=class pe{static findTable(t){var e=pe.registry.lookupTable(t,!0);return!(Array.isArray(e)&&!e.length)&&e}};G(pe,"registry",{tables:[],register(t){pe.registry.tables.push(t)},deregister(t){var e=pe.registry.tables.indexOf(t);e>-1&&pe.registry.tables.splice(e,1)},lookupTable(t,e){var n,r,l=[];if(typeof t=="string"){if((n=document.querySelectorAll(t)).length)for(var c=0;c<n.length;c++)(r=pe.registry.matchElement(n[c]))&&l.push(r)}else typeof HTMLElement<"u"&&t instanceof HTMLElement||t instanceof pe?(r=pe.registry.matchElement(t))&&l.push(r):Array.isArray(t)?t.forEach(function(d){l=l.concat(pe.registry.lookupTable(d))}):e||console.warn("Table Connection Error - Invalid Selector",t);return l},matchElement:t=>pe.registry.tables.find(function(e){return t instanceof pe?e===t:e.element===t})});let Gt=pe;const St=class St extends Gt{constructor(){super()}static initializeModuleBinder(t){St.modulesRegistered||(St.modulesRegistered=!0,St._registerModules(zt,!0),t&&St._registerModules(t))}static _extendModule(t,e,n){if(St.moduleBindings[t]){var r=St.moduleBindings[t][e];if(r)if(typeof n=="object")for(let l in n)r[l]=n[l];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",e)}else console.warn("Module Error - module does not exist:",t)}static _registerModules(t,e){var n=Object.values(t);e&&n.forEach(r=>{r.prototype.moduleCore=!0}),St._registerModule(n)}static _registerModule(t){Array.isArray(t)||(t=[t]),t.forEach(e=>{St._registerModuleBinding(e),St._registerModuleExtensions(e)})}static _registerModuleBinding(t){t.moduleName?St.moduleBindings[t.moduleName]=t:console.error("Unable to bind module, no moduleName defined",t.moduleName)}static _registerModuleExtensions(t){var e=t.moduleExtensions;if(t.moduleExtensions)for(let n in e){let r=e[n];if(St.moduleBindings[n])for(let l in r)St._extendModule(n,l,r[l]);else{St.moduleExtensions[n]||(St.moduleExtensions[n]={});for(let l in r)St.moduleExtensions[n][l]||(St.moduleExtensions[n][l]={}),Object.assign(St.moduleExtensions[n][l],r[l])}}St._extendModuleFromQueue(t)}static _extendModuleFromQueue(t){var e=St.moduleExtensions[t.moduleName];if(e)for(let n in e)St._extendModule(t.moduleName,n,e[n])}_bindModules(){var t=[],e=[],n=[];for(var r in this.modules={},St.moduleBindings){let l=St.moduleBindings[r],c=new l(this);this.modules[r]=c,l.prototype.moduleCore?this.modulesCore.push(c):l.moduleInitOrder?l.moduleInitOrder<0?t.push(c):e.push(c):n.push(c)}t.sort((l,c)=>l.moduleInitOrder>c.moduleInitOrder?1:-1),e.sort((l,c)=>l.moduleInitOrder>c.moduleInitOrder?1:-1),this.modulesRegular=t.concat(n.concat(e))}};G(St,"moduleBindings",{}),G(St,"moduleExtensions",{}),G(St,"modulesRegistered",!1),G(St,"defaultModules",!1);let Wt=St;class Ot extends h{constructor(t){super(t),this.element=this._createAlertElement(),this.msgElement=this._createMsgElement(),this.type=null,this.element.appendChild(this.msgElement)}_createAlertElement(){var t=document.createElement("div");return t.classList.add("tabulator-alert"),t}_createMsgElement(){var t=document.createElement("div");return t.classList.add("tabulator-alert-msg"),t.setAttribute("role","alert"),t}_typeClass(){return"tabulator-alert-state-"+this.type}alert(t,e="msg"){if(t){for(this.clear(),this.dispatch("alert-show",e),this.type=e;this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.add(this._typeClass()),typeof t=="function"&&(t=t()),t instanceof HTMLElement?this.msgElement.appendChild(t):this.msgElement.innerHTML=t,this.table.element.appendChild(this.element)}}clear(){this.dispatch("alert-hide",this.type),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.msgElement.classList.remove(this._typeClass())}}const je=class je extends Wt{static extendModule(){je.initializeModuleBinder(),je._extendModule(...arguments)}static registerModule(){je.initializeModuleBinder(),je._registerModule(...arguments)}constructor(t,e,n){super(),je.initializeModuleBinder(n),this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.alertManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new lt(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.deprecationAdvisor=new wt(this),this.optionsList=new w(this,"table constructor"),this.dependencyRegistry=new Mt(this),this.initialized=!1,this.destroyed=!1,this.initializeElement(t)&&(this.initializeCoreSystems(e),setTimeout(()=>{this._create()})),this.constructor.registry.register(this)}initializeElement(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement?(this.element=t,!0):typeof t=="string"?(this.element=document.querySelector(t),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",t),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",t),!1)}initializeCoreSystems(t){this.columnManager=new V(this),this.rowManager=new Q(this),this.footerManager=new I(this),this.dataLoader=new ht(this),this.alertManager=new Ot(this),this._bindModules(),this.options=this.optionsList.generate(je.defaultOptions,t),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new Ct(this,this.options,this.options.debugEventsExternal),this.eventBus=new Rt(this.options.debugEventsInternal),this.interactionMonitor=new nt(this),this.dataLoader.initialize(),this.footerManager.initialize(),this.dependencyRegistry.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this.initialized=!0,this._loadInitialData().finally(()=>{this.eventBus.dispatch("table-initialized"),this.externalEvents.dispatch("tableBuilt")})}_rtlCheck(){var t=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if(t.direction!=="rtl")break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),Array.isArray(this.options.data)&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var t,e=this.element,n=this.options;if(e.tagName==="TABLE"){this.originalElement=this.element,t=document.createElement("div");var r=e.attributes;for(var l in r)typeof r[l]=="object"&&t.setAttribute(r[l].name,r[l].value);e.parentNode.replaceChild(t,e),this.element=e=t}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);n.height&&(n.height=isNaN(n.height)?n.height:n.height+"px",e.style.height=n.height),n.minHeight!==!1&&(n.minHeight=isNaN(n.minHeight)?n.minHeight:n.minHeight+"px",e.style.minHeight=n.minHeight),n.maxHeight!==!1&&(n.maxHeight=isNaN(n.maxHeight)?n.maxHeight:n.maxHeight+"px",e.style.maxHeight=n.maxHeight)}_initializeTable(){var t=this.element,e=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach(n=>{n.initialize()}),t.appendChild(this.columnManager.getElement()),t.appendChild(this.rowManager.getElement()),e.footerElement&&this.footerManager.activate(),e.autoColumns&&e.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach(n=>{n.initialize()}),this.columnManager.setColumns(e.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){return this.dataLoader.load(this.options.data).finally(()=>{this.columnManager.verticalAlignHeaders()})}destroy(){var t=this.element;for(this.destroyed=!0,this.constructor.registry.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.destroy();t.firstChild;)t.removeChild(t.firstChild);t.classList.remove("tabulator"),this.externalEvents.dispatch("tableDestroyed")}_detectBrowser(){var t=navigator.userAgent||navigator.vendor||window.opera;t.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):t.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):t.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):t.indexOf("Mac OS")>-1?(this.browser="safari",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.slice(0,4))}initGuard(t,e){var n,r;return this.options.debugInitialization&&!this.initialized&&(t||(t=(r=(n=new Error().stack.split(`
`))[0]=="Error"?n[2]:n[1])[0]==" "?r.trim().split(" ")[1].split(".")[1]:r.trim().split("@")[0]),console.warn("Table Not Initialized - Calling the "+t+" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function."+(e?" "+e:""))),this.initialized}blockRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-blocking"),this.rowManager.blockRedraw(),this.columnManager.blockRedraw(),this.eventBus.dispatch("redraw-blocked")}restoreRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-restoring"),this.rowManager.restoreRedraw(),this.columnManager.restoreRedraw(),this.eventBus.dispatch("redraw-restored")}setData(t,e,n){return this.initGuard(!1,"To set initial data please use the 'data' property in the table constructor."),this.dataLoader.load(t,e,n,!1)}clearData(){this.initGuard(),this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(t){return this.rowManager.getData(t)}getDataCount(t){return this.rowManager.getDataCount(t)}replaceData(t,e,n){return this.initGuard(),this.dataLoader.load(t,e,n,!0,!0)}updateData(t){var e=0;return this.initGuard(),new Promise((n,r)=>{this.dataLoader.blockActiveLoad(),typeof t=="string"&&(t=JSON.parse(t)),t&&t.length>0?t.forEach(l=>{var c=this.rowManager.findRow(l[this.options.index]);c?(e++,c.updateData(l).then(()=>{--e||n()}).catch(d=>{r("Update Error - Unable to update row",l,d)})):r("Update Error - Unable to find row",l)}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})}addData(t,e,n){return this.initGuard(),new Promise((r,l)=>{this.dataLoader.blockActiveLoad(),typeof t=="string"&&(t=JSON.parse(t)),t?this.rowManager.addRows(t,e,n).then(c=>{var d=[];c.forEach(function(m){d.push(m.getComponent())}),r(d)}):(console.warn("Update Error - No data provided"),l("Update Error - No data provided"))})}updateOrAddData(t){var e=[],n=0;return this.initGuard(),new Promise((r,l)=>{this.dataLoader.blockActiveLoad(),typeof t=="string"&&(t=JSON.parse(t)),t&&t.length>0?t.forEach(c=>{var d=this.rowManager.findRow(c[this.options.index]);n++,d?d.updateData(c).then(()=>{n--,e.push(d.getComponent()),n||r(e)}):this.rowManager.addRows(c).then(m=>{n--,e.push(m[0].getComponent()),n||r(e)})}):(console.warn("Update Error - No data provided"),l("Update Error - No data provided"))})}getRow(t){var e=this.rowManager.findRow(t);return e?e.getComponent():(console.warn("Find Error - No matching row found:",t),!1)}getRowFromPosition(t){var e=this.rowManager.getRowFromPosition(t);return e?e.getComponent():(console.warn("Find Error - No matching row found:",t),!1)}deleteRow(t){var e=[];this.initGuard(),Array.isArray(t)||(t=[t]);for(let n of t){let r=this.rowManager.findRow(n,!0);if(!r)return console.error("Delete Error - No matching row found:",n),Promise.reject("Delete Error - No matching row found");e.push(r)}return e.sort((n,r)=>this.rowManager.rows.indexOf(n)>this.rowManager.rows.indexOf(r)?1:-1),e.forEach(n=>{n.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(t,e,n){return this.initGuard(),typeof t=="string"&&(t=JSON.parse(t)),this.rowManager.addRows(t,e,n,!0).then(r=>r[0].getComponent())}updateOrAddRow(t,e){var n=this.rowManager.findRow(t);return this.initGuard(),typeof e=="string"&&(e=JSON.parse(e)),n?n.updateData(e).then(()=>n.getComponent()):this.rowManager.addRows(e).then(r=>r[0].getComponent())}updateRow(t,e){var n=this.rowManager.findRow(t);return this.initGuard(),typeof e=="string"&&(e=JSON.parse(e)),n?n.updateData(e).then(()=>Promise.resolve(n.getComponent())):(console.warn("Update Error - No matching row found:",t),Promise.reject("Update Error - No matching row found"))}scrollToRow(t,e,n){var r=this.rowManager.findRow(t);return r?this.rowManager.scrollToRow(r,e,n):(console.warn("Scroll Error - No matching row found:",t),Promise.reject("Scroll Error - No matching row found"))}moveRow(t,e,n){var r=this.rowManager.findRow(t);this.initGuard(),r?r.moveToRow(e,n):console.warn("Move Error - No matching row found:",t)}getRows(t){return this.rowManager.getComponents(t)}getRowPosition(t){var e=this.rowManager.findRow(t);return e?e.getPosition():(console.warn("Position Error - No matching row found:",t),!1)}setColumns(t){this.initGuard(!1,"To set initial columns please use the 'columns' property in the table constructor"),this.columnManager.setColumns(t)}getColumns(t){return this.columnManager.getComponents(t)}getColumn(t){var e=this.columnManager.findColumn(t);return e?e.getComponent():(console.warn("Find Error - No matching column found:",t),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(t){var e=this.columnManager.findColumn(t);if(this.initGuard(),!e)return console.warn("Column Show Error - No matching column found:",t),!1;e.show()}hideColumn(t){var e=this.columnManager.findColumn(t);if(this.initGuard(),!e)return console.warn("Column Hide Error - No matching column found:",t),!1;e.hide()}toggleColumn(t){var e=this.columnManager.findColumn(t);if(this.initGuard(),!e)return console.warn("Column Visibility Toggle Error - No matching column found:",t),!1;e.visible?e.hide():e.show()}addColumn(t,e,n){var r=this.columnManager.findColumn(n);return this.initGuard(),this.columnManager.addColumn(t,e,r).then(l=>l.getComponent())}deleteColumn(t){var e=this.columnManager.findColumn(t);return this.initGuard(),e?e.delete():(console.warn("Column Delete Error - No matching column found:",t),Promise.reject())}updateColumnDefinition(t,e){var n=this.columnManager.findColumn(t);return this.initGuard(),n?n.updateDefinition(e):(console.warn("Column Update Error - No matching column found:",t),Promise.reject())}moveColumn(t,e,n){var r=this.columnManager.findColumn(t),l=this.columnManager.findColumn(e);this.initGuard(),r?l?this.columnManager.moveColumn(r,l,n):console.warn("Move Error - No matching column found:",l):console.warn("Move Error - No matching column found:",t)}scrollToColumn(t,e,n){return new Promise((r,l)=>{var c=this.columnManager.findColumn(t);return c?this.columnManager.scrollToColumn(c,e,n):(console.warn("Scroll Error - No matching column found:",t),Promise.reject("Scroll Error - No matching column found"))})}redraw(t){this.initGuard(),this.columnManager.redraw(t),this.rowManager.redraw(t)}setHeight(t){this.options.height=isNaN(t)?t:t+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw(!0)}on(t,e){this.externalEvents.subscribe(t,e)}off(t,e){this.externalEvents.unsubscribe(t,e)}dispatchEvent(){Array.from(arguments).shift(),this.externalEvents.dispatch(...arguments)}alert(t,e){this.initGuard(),this.alertManager.alert(t,e)}clearAlert(){this.initGuard(),this.alertManager.clear()}modExists(t,e){return!!this.modules[t]||(e&&console.error("Tabulator Module Not Installed: "+t),!1)}module(t){var e=this.modules[t];return e||console.error("Tabulator module not installed: "+t),e}};G(je,"defaultOptions",a);let Nt=je;var ee={rownum:function(o,t,e,n,r,l){return l.getPosition()}};const Ki=class Ki extends Z{constructor(t){super(t),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(t){var e=!1,n={};this.allowedTypes.forEach(r=>{var l,c="accessor"+(r.charAt(0).toUpperCase()+r.slice(1));t.definition[c]&&(l=this.lookupAccessor(t.definition[c]))&&(e=!0,n[c]={accessor:l,params:t.definition[c+"Params"]||{}})}),e&&(t.modules.accessor=n)}lookupAccessor(t){var e=!1;switch(typeof t){case"string":Ki.accessors[t]?e=Ki.accessors[t]:console.warn("Accessor Error - No such accessor found, ignoring: ",t);break;case"function":e=t}return e}transformRow(t,e){var n="accessor"+(e.charAt(0).toUpperCase()+e.slice(1)),r=t.getComponent(),l=E.deepClone(t.data||{});return this.table.columnManager.traverse(function(c){var d,m,b,C;c.modules.accessor&&(m=c.modules.accessor[n]||c.modules.accessor.accessor||!1)&&(d=c.getFieldValue(l))!="undefined"&&(C=c.getComponent(),b=typeof m.params=="function"?m.params(d,l,e,C,r):m.params,c.setFieldValue(l,m.accessor(d,l,e,b,C,r)))}),l}};G(Ki,"moduleName","accessor"),G(Ki,"accessors",ee);let Ut=Ki;var Ht={method:"GET"};function D(o,t){var e=[];if(t=t||"",Array.isArray(o))o.forEach((r,l)=>{e=e.concat(D(r,t?t+"["+l+"]":l))});else if(typeof o=="object")for(var n in o)e=e.concat(D(o[n],t?t+"["+n+"]":n));else e.push({key:t,value:o});return e}function X(o){var t=D(o),e=[];return t.forEach(function(n){e.push(encodeURIComponent(n.key)+"="+encodeURIComponent(n.value))}),e.join("&")}function K(o,t,e){return o&&e&&Object.keys(e).length&&(t.method&&t.method.toLowerCase()!="get"||(t.method="get",o+=(o.includes("?")?"&":"?")+X(e))),o}function tt(o,t,e){var n;return new Promise((r,l)=>{if(o=this.urlGenerator.call(this.table,o,t,e),t.method.toUpperCase()!="GET")if(n=typeof this.table.options.ajaxContentType=="object"?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType]){for(var c in n.headers)t.headers||(t.headers={}),t.headers[c]===void 0&&(t.headers[c]=n.headers[c]);t.body=n.body.call(this,o,t,e)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);o?(t.headers===void 0&&(t.headers={}),t.headers.Accept===void 0&&(t.headers.Accept="application/json"),t.headers["X-Requested-With"]===void 0&&(t.headers["X-Requested-With"]="XMLHttpRequest"),t.mode===void 0&&(t.mode="cors"),t.mode=="cors"?(t.headers.Origin===void 0&&(t.headers.Origin=window.location.origin),t.credentials===void 0&&(t.credentials="same-origin")):t.credentials===void 0&&(t.credentials="include"),fetch(o,t).then(d=>{d.ok?d.json().then(m=>{r(m)}).catch(m=>{l(m),console.warn("Ajax Load Error - Invalid JSON returned",m)}):(console.error("Ajax Load Error - Connection Error: "+d.status,d.statusText),l(d))}).catch(d=>{console.error("Ajax Load Error - Connection Error: ",d),l(d)})):(console.warn("Ajax Load Error - No URL Set"),r([]))})}function ft(o,t){var e=[];if(t=t||"",Array.isArray(o))o.forEach((r,l)=>{e=e.concat(ft(r,t?t+"["+l+"]":l))});else if(typeof o=="object")for(var n in o)e=e.concat(ft(o[n],t?t+"["+n+"]":n));else e.push({key:t,value:o});return e}var Lt={json:{headers:{"Content-Type":"application/json"},body:function(o,t,e){return JSON.stringify(e)}},form:{headers:{},body:function(o,t,e){var n=ft(e),r=new FormData;return n.forEach(function(l){r.append(l.key,l.value)}),r}}};const Se=class Se extends Z{constructor(t){super(t),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=Se.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||Se.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||Se.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(t,e,n,r){var l=this.table.options.ajaxParams;return l&&(typeof l=="function"&&(l=l.call(this.table)),r=Object.assign(Object.assign({},l),r)),r}requestDataCheck(t,e,n,r){return!((t||!this.url)&&typeof t!="string")}requestData(t,e,n,r,l){var c;return!l&&this.requestDataCheck(t)?(t&&this.setUrl(t),c=this.generateConfig(n),this.sendRequest(this.url,e,c)):l}setDefaultConfig(t={}){this.config=Object.assign({},Se.defaultConfig),typeof t=="string"?this.config.method=t:Object.assign(this.config,t)}generateConfig(t={}){var e=Object.assign({},this.config);return typeof t=="string"?e.method=t:Object.assign(e,t),e}setUrl(t){this.url=t}getUrl(){return this.url}sendRequest(t,e,n){return this.table.options.ajaxRequesting.call(this.table,t,e)!==!1?this.loaderPromise(t,n,e).then(r=>(this.table.options.ajaxResponse&&(r=this.table.options.ajaxResponse.call(this.table,t,e,r)),r)):Promise.reject()}};G(Se,"moduleName","ajax"),G(Se,"defaultConfig",Ht),G(Se,"defaultURLGenerator",K),G(Se,"defaultLoaderPromise",tt),G(Se,"contentTypeFormatters",Lt);let y=Se;var T={replace:function(o){return this.table.setData(o)},update:function(o){return this.table.updateOrAddData(o)},insert:function(o){return this.table.addData(o)}},k={table:function(o){var t=[],e=!0,n=this.table.columnManager.columns,r=[],l=[];return(o=o.split(`
`)).forEach(function(c){t.push(c.split("	"))}),!(!t.length||t.length===1&&t[0].length<2)&&(t[0].forEach(function(c){var d=n.find(function(m){return c&&m.definition.title&&c.trim()&&m.definition.title.trim()===c.trim()});d?r.push(d):e=!1}),e||(e=!0,r=[],t[0].forEach(function(c){var d=n.find(function(m){return c&&m.field&&c.trim()&&m.field.trim()===c.trim()});d?r.push(d):e=!1}),e||(r=this.table.columnManager.columnsByIndex)),e&&t.shift(),t.forEach(function(c){var d={};c.forEach(function(m,b){r[b]&&(d[r[b].field]=m)}),l.push(d)}),l)}},P={keybindings:{bindings:{copyToClipboard:["ctrl + 67","meta + 67"]},actions:{copyToClipboard:function(o){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}}}};const ni=class ni extends Z{constructor(t){super(t),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,this.mode!==!0&&this.mode!=="copy"||this.table.element.addEventListener("copy",t=>{var e,n,r;this.blocked||(t.preventDefault(),this.customSelection?(e=this.customSelection,this.table.options.clipboardCopyFormatter&&(e=this.table.options.clipboardCopyFormatter("plain",e))):(r=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard"),e=(n=this.table.modules.export.generateHTMLTable(r))?this.generatePlainContent(r):"",this.table.options.clipboardCopyFormatter&&(e=this.table.options.clipboardCopyFormatter("plain",e),n=this.table.options.clipboardCopyFormatter("html",n))),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",e):t.clipboardData&&t.clipboardData.setData?(t.clipboardData.setData("text/plain",e),n&&t.clipboardData.setData("text/html",n)):t.originalEvent&&t.originalEvent.clipboardData.setData&&(t.originalEvent.clipboardData.setData("text/plain",e),n&&t.originalEvent.clipboardData.setData("text/html",n)),this.dispatchExternal("clipboardCopied",e,n),this.reset())}),this.mode!==!0&&this.mode!=="paste"||this.table.element.addEventListener("paste",t=>{this.paste(t)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(t){var e=[];return t.forEach(n=>{var r=[];n.columns.forEach(l=>{var c="";if(l)if(n.type==="group"&&(l.value=l.component.getKey()),l.value===null)c="";else switch(typeof l.value){case"object":c=JSON.stringify(l.value);break;case"undefined":c="";break;default:c=l.value}r.push(c)}),e.push(r.join("	"))}),e.join(`
`)}copy(t,e){var n,r;this.blocked=!1,this.customSelection=!1,this.mode!==!0&&this.mode!=="copy"||(this.rowRange=t||this.table.options.clipboardCopyRowRange,window.getSelection!==void 0&&document.createRange!==void 0?((t=document.createRange()).selectNodeContents(this.table.element),(n=window.getSelection()).toString()&&e&&(this.customSelection=n.toString()),n.removeAllRanges(),n.addRange(t)):document.selection!==void 0&&document.body.createTextRange!==void 0&&((r=document.body.createTextRange()).moveToElementText(this.table.element),r.select()),document.execCommand("copy"),n&&n.removeAllRanges())}setPasteAction(t){switch(typeof t){case"string":this.pasteAction=ni.pasteActions[t],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",t);break;case"function":this.pasteAction=t}}setPasteParser(t){switch(typeof t){case"string":this.pasteParser=ni.pasteParsers[t],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",t);break;case"function":this.pasteParser=t}}paste(t){var e,n,r;this.checkPasteOrigin(t)&&(e=this.getPasteData(t),(n=this.pasteParser.call(this,e))?(t.preventDefault(),this.table.modExists("mutator")&&(n=this.mutateData(n)),r=this.pasteAction.call(this,n),this.dispatchExternal("clipboardPasted",e,n,r)):this.dispatchExternal("clipboardPasteError",e))}mutateData(t){var e=[];return Array.isArray(t)?t.forEach(n=>{e.push(this.table.modules.mutator.transformRow(n,"clipboard"))}):e=t,e}checkPasteOrigin(t){var e=!0;return!this.confirm("clipboard-paste",[t])&&["DIV","SPAN"].includes(t.target.tagName)||(e=!1),e}getPasteData(t){var e;return window.clipboardData&&window.clipboardData.getData?e=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData?e=t.clipboardData.getData("text/plain"):t.originalEvent&&t.originalEvent.clipboardData.getData&&(e=t.originalEvent.clipboardData.getData("text/plain")),e}};G(ni,"moduleName","clipboard"),G(ni,"moduleExtensions",P),G(ni,"pasteActions",T),G(ni,"pasteParsers",k);let A=ni;class N{constructor(t){return this._row=t,new Proxy(this,{get:function(e,n,r){return e[n]!==void 0?e[n]:e._row.table.componentFunctionBinder.handle("row",e._row,n)}})}getData(t){return this._row.getData(t)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var t=[];return this._row.getCells().forEach(function(e){t.push(e.getComponent())}),t}getCell(t){var e=this._row.getCell(t);return!!e&&e.getComponent()}_getSelf(){return this._row}}var q={avg:function(o,t,e){var n=0,r=e.precision!==void 0?e.precision:2;return o.length&&(n=o.reduce(function(l,c){return Number(l)+Number(c)}),n/=o.length,n=r!==!1?n.toFixed(r):n),parseFloat(n).toString()},max:function(o,t,e){var n=null,r=e.precision!==void 0&&e.precision;return o.forEach(function(l){((l=Number(l))>n||n===null)&&(n=l)}),n!==null?r!==!1?n.toFixed(r):n:""},min:function(o,t,e){var n=null,r=e.precision!==void 0&&e.precision;return o.forEach(function(l){((l=Number(l))<n||n===null)&&(n=l)}),n!==null?r!==!1?n.toFixed(r):n:""},sum:function(o,t,e){var n=0,r=e.precision!==void 0&&e.precision;return o.length&&o.forEach(function(l){l=Number(l),n+=isNaN(l)?0:Number(l)}),r!==!1?n.toFixed(r):n},concat:function(o,t,e){var n=0;return o.length&&(n=o.reduce(function(r,l){return String(r)+String(l)})),n},count:function(o,t,e){var n=0;return o.length&&o.forEach(function(r){r&&n++}),n},unique:function(o,t,e){return o.filter((n,r)=>(o||n===0)&&o.indexOf(n)===r).length}};const oi=class oi extends Z{constructor(t){super(t),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.blocked=!1,this.recalcAfterBlock=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var t=document.createElement("div");return t.classList.add("tabulator-calcs-holder"),t}initialize(){this.genColumn=new v({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this)),this.subscribe("redraw-blocked",this.blockRedraw.bind(this)),this.subscribe("redraw-restored",this.restoreRedraw.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this)),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}tableRedraw(t){this.recalc(this.table.rowManager.activeRows),t&&this.redraw()}blockRedraw(){this.blocked=!0,this.recalcAfterBlock=!1}restoreRedraw(){this.blocked=!1,this.recalcAfterBlock&&(this.recalcAfterBlock=!1,this.recalcActiveRowsRefresh())}userRecalc(){this.recalc(this.table.rowManager.activeRows)}blockCheck(){return this.blocked&&(this.recalcAfterBlock=!0),this.blocked}visibleRows(t,e){return this.topRow&&e.unshift(this.topRow),this.botRow&&e.push(this.botRow),e}rowsUpdated(t){this.table.options.groupBy?this.recalcRowGroup(t):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(t){(t.column.definition.topCalc||t.column.definition.bottomCalc)&&(this.table.options.groupBy?(this.table.options.columnCalcs!="table"&&this.table.options.columnCalcs!="both"||this.recalcActiveRows(),this.table.options.columnCalcs!="table"&&this.recalcRowGroup(t.row)):this.recalcActiveRows())}initializeColumnCheck(t){(t.definition.topCalc||t.definition.bottomCalc)&&this.initializeColumn(t)}initializeColumn(t){var e=t.definition,n={topCalcParams:e.topCalcParams||{},botCalcParams:e.bottomCalcParams||{}};if(e.topCalc){switch(typeof e.topCalc){case"string":oi.calculations[e.topCalc]?n.topCalc=oi.calculations[e.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",e.topCalc);break;case"function":n.topCalc=e.topCalc}n.topCalc&&(t.modules.columnCalcs=n,this.topCalcs.push(t),this.table.options.columnCalcs!="group"&&this.initializeTopRow())}if(e.bottomCalc){switch(typeof e.bottomCalc){case"string":oi.calculations[e.bottomCalc]?n.botCalc=oi.calculations[e.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",e.bottomCalc);break;case"function":n.botCalc=e.bottomCalc}n.botCalc&&(t.modules.columnCalcs=n,this.botCalcs.push(t),this.table.options.columnCalcs!="group"&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var t=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),t=!0),this.botInitialized&&(this.botInitialized=!1,this.footerRemove(this.botElement),t=!0),t&&this.table.rowManager.adjustTableSize()}reinitializeCalcs(){this.topCalcs.length&&this.initializeTopRow(),this.botCalcs.length&&this.initializeBottomRow()}initializeTopRow(){var t=document.createDocumentFragment();this.topInitialized||(t.appendChild(document.createElement("br")),t.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(t,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.footerPrepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(t){this.botInitialized&&this.botRow&&(this.botElement.scrollLeft=t)}recalc(t){var e,n;if(!this.blockCheck()&&(this.topInitialized||this.botInitialized)){if(e=this.rowsToData(t),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),n=this.generateRow("top",e),this.topRow=n;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(n.getElement()),n.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),n=this.generateRow("bottom",e),this.botRow=n;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(n.getElement()),n.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(t){this.recalcGroup(this.table.modules.groupRows.getRowGroup(t))}recalcAll(){(this.topCalcs.length||this.botCalcs.length)&&(this.table.options.columnCalcs!=="group"&&this.recalcActiveRows(),this.table.options.groupBy&&this.table.options.columnCalcs!=="table"&&this.table.modules.groupRows.getChildGroups().forEach(t=>{this.recalcGroup(t)}))}recalcGroup(t){var e,n;this.blockCheck()||t&&t.calcs&&(t.calcs.bottom&&(e=this.rowsToData(t.rows),n=this.generateRowData("bottom",e),t.calcs.bottom.updateData(n),t.calcs.bottom.reinitialize()),t.calcs.top&&(e=this.rowsToData(t.rows),n=this.generateRowData("top",e),t.calcs.top.updateData(n),t.calcs.top.reinitialize()))}generateTopRow(t){return this.generateRow("top",this.rowsToData(t))}generateBottomRow(t){return this.generateRow("bottom",this.rowsToData(t))}rowsToData(t){var e=[],n=this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs,r=this.table.modules.dataTree;return t.forEach(l=>{var c;e.push(l.getData()),n&&((c=l.modules.dataTree)!=null&&c.open)&&this.rowsToData(r.getFilteredTreeChildren(l)).forEach(d=>{e.push(l)})}),e}generateRow(t,e){var n,r=this.generateRowData(t,e);return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),n=new W(r,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),n.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+t),n.component=!1,n.getComponent=()=>(n.component||(n.component=new N(n)),n.component),n.generateCells=()=>{var l=[];this.table.columnManager.columnsByIndex.forEach(c=>{this.genColumn.setField(c.getField()),this.genColumn.hozAlign=c.hozAlign,c.definition[t+"CalcFormatter"]&&this.table.modExists("format")?this.genColumn.modules.format={formatter:this.table.modules.format.lookupFormatter(c.definition[t+"CalcFormatter"]),params:c.definition[t+"CalcFormatterParams"]||{}}:this.genColumn.modules.format={formatter:this.table.modules.format.lookupFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=c.definition.cssClass;var d=new g(this.genColumn,n);d.getElement(),d.column=c,d.setWidth(),c.cells.push(d),l.push(d),c.visible||d.hide()}),n.cells=l},n}generateRowData(t,e){var n,r,l={},c=t=="top"?this.topCalcs:this.botCalcs,d=t=="top"?"topCalc":"botCalc";return c.forEach(function(m){var b=[];m.modules.columnCalcs&&m.modules.columnCalcs[d]&&(e.forEach(function(C){b.push(m.getFieldValue(C))}),r=d+"Params",n=typeof m.modules.columnCalcs[r]=="function"?m.modules.columnCalcs[r](b,e):m.modules.columnCalcs[r],m.setFieldValue(l,m.modules.columnCalcs[d](b,e,n)))}),l}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var t={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach(e=>{t[e.getKey()]=this.getGroupResults(e)}):t={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},t}getGroupResults(t){var e=t._getSelf(),n=t.getSubGroups(),r={};return n.forEach(l=>{r[l.getKey()]=this.getGroupResults(l)}),{top:e.calcs.top?e.calcs.top.getData():{},bottom:e.calcs.bottom?e.calcs.bottom.getData():{},groups:r}}adjustForScrollbar(t){this.botRow&&(this.table.rtl?this.botElement.style.paddingLeft=t+"px":this.botElement.style.paddingRight=t+"px")}};G(oi,"moduleName","columnCalcs"),G(oi,"calculations",q);let j=oi;var $={csv:function(o,t={},e){var n=t.delimiter?t.delimiter:",",r=[],l=[];o.forEach(c=>{var d=[];switch(c.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":c.columns.forEach((m,b)=>{m&&m.depth===1&&(l[b]=m.value===void 0||m.value===null?"":'"'+String(m.value).split('"').join('""')+'"')});break;case"row":c.columns.forEach(m=>{if(m){switch(typeof m.value){case"object":m.value=m.value!==null?JSON.stringify(m.value):"";break;case"undefined":m.value=""}d.push('"'+String(m.value).split('"').join('""')+'"')}}),r.push(d.join(n))}}),l.length&&r.unshift(l.join(n)),r=r.join(`
`),t.bom&&(r="\uFEFF"+r),e(r,"text/csv")},json:function(o,t,e){var n=[];o.forEach(r=>{var l={};switch(r.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":r.columns.forEach(c=>{c&&(l[c.component.getTitleDownload()||c.component.getField()]=c.value)}),n.push(l)}}),e(n=JSON.stringify(n,null,"	"),"application/json")},jsonLines:function(o,t,e){const n=[];o.forEach(r=>{const l={};switch(r.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":r.columns.forEach(c=>{c&&(l[c.component.getTitleDownload()||c.component.getField()]=c.value)}),n.push(JSON.stringify(l))}}),e(n.join(`
`),"application/x-ndjson")},pdf:function(o,t={},e){var n,r,l=[],c=[],d={},m=t.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},b=t.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},C=t.jsPDF||{},R=t.title?t.title:"";function x(L,H){var B=[];return L.columns.forEach(et=>{var it;if(et){switch(typeof et.value){case"object":et.value=et.value!==null?JSON.stringify(et.value):"";break;case"undefined":et.value=""}it={content:et.value,colSpan:et.width,rowSpan:et.height},H&&(it.styles=H),B.push(it)}}),B}C.orientation||(C.orientation=t.orientation||"landscape"),C.unit||(C.unit="pt"),o.forEach(L=>{switch(L.type){case"header":l.push(x(L));break;case"group":c.push(x(L,m));break;case"calc":c.push(x(L,b));break;case"row":c.push(x(L))}}),n=this.dependencyRegistry.lookup("jspdf","jsPDF"),r=new n(C),t.autoTable&&(d=typeof t.autoTable=="function"?t.autoTable(r)||{}:t.autoTable),R&&(d.didDrawPage=function(L){r.text(R,40,30)}),d.head=l,d.body=c,r.autoTable(d),t.documentProcessing&&t.documentProcessing(r),e(r.output("arraybuffer"),"application/pdf")},xlsx:function(o,t,e){var n=t.sheetName||"Sheet1",r=this.dependencyRegistry.lookup("XLSX"),l=r.utils.book_new(),c=new h(this),d=!("compress"in t)||t.compress,m=t.writeOptions||{bookType:"xlsx",bookSST:!0,compression:d};function b(){var R=[],x=[],L={},H={s:{c:0,r:0},e:{c:o[0]?o[0].columns.reduce((B,et)=>B+(et&&et.width?et.width:1),0):0,r:o.length}};return o.forEach((B,et)=>{var it=[];B.columns.forEach(function(bt,jt){bt?(it.push(bt.value instanceof Date||typeof bt.value!="object"?bt.value:JSON.stringify(bt.value)),(bt.width>1||bt.height>-1)&&(bt.height>1||bt.width>1)&&x.push({s:{r:et,c:jt},e:{r:et+bt.height-1,c:jt+bt.width-1}})):it.push("")}),R.push(it)}),r.utils.sheet_add_aoa(L,R),L["!ref"]=r.utils.encode_range(H),x.length&&(L["!merges"]=x),L}if(m.type="binary",l.SheetNames=[],l.Sheets={},t.sheetOnly)e(b());else{if(t.sheets)for(var C in t.sheets)t.sheets[C]===!0?(l.SheetNames.push(C),l.Sheets[C]=b()):(l.SheetNames.push(C),c.commsSend(t.sheets[C],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:this.active,intercept:function(R){l.Sheets[C]=R}}));else l.SheetNames.push(n),l.Sheets[n]=b();t.documentProcessing&&(l=t.documentProcessing(l)),e(function(R){for(var x=new ArrayBuffer(R.length),L=new Uint8Array(x),H=0;H!=R.length;++H)L[H]=255&R.charCodeAt(H);return x}(r.write(l,m)),"application/octet-stream")}},html:function(o,t,e){this.modExists("export",!0)&&e(this.modules.export.generateHTMLTable(o),"text/html")}};const Yi=class Yi extends Z{constructor(t){super(t),this.registerTableOption("downloadEncoder",function(e,n){return new Blob([e],{type:n})}),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.deprecatedOptionsCheck(),this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}deprecatedOptionsCheck(){}downloadToTab(t,e,n,r){this.download(t,e,n,r,!0)}download(t,e,n,r,l){var c=!1;if(typeof t=="function"?c=t:Yi.downloaders[t]?c=Yi.downloaders[t]:console.warn("Download Error - No such download type found: ",t),c){var d=this.generateExportList(r);c.call(this.table,d,n||{},(function(m,b){l?l===!0?this.triggerDownload(m,b,t,e,!0):l(m):this.triggerDownload(m,b,t,e)}).bind(this))}}generateExportList(t){var e=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,t||this.table.options.downloadRowRange,"download"),n=this.table.options.groupHeaderDownload;return n&&!Array.isArray(n)&&(n=[n]),e.forEach(r=>{var l;r.type==="group"&&(l=r.columns[0],n&&n[r.indent]&&(l.value=n[r.indent](l.value,r.component._group.getRowCount(),r.component._group.getData(),r.component)))}),e}triggerDownload(t,e,n,r,l){var c=document.createElement("a"),d=this.table.options.downloadEncoder(t,e);d&&(l?window.open(window.URL.createObjectURL(d)):(r=r||"Tabulator."+(typeof n=="function"?"txt":n),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(d,r):(c.setAttribute("href",window.URL.createObjectURL(d)),c.setAttribute("download",r),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c))),this.dispatchExternal("downloadComplete"))}commsReceived(t,e,n){e==="intercept"&&this.download(n.type,"",n.options,n.active,n.intercept)}};G(Yi,"moduleName","download"),G(Yi,"downloaders",$);let z=Yi;function ot(o,t){var e=t.mask,n=t.maskLetterChar!==void 0?t.maskLetterChar:"A",r=t.maskNumberChar!==void 0?t.maskNumberChar:"9",l=t.maskWildcardChar!==void 0?t.maskWildcardChar:"*";function c(d){var m=e[d];m!==void 0&&m!==l&&m!==n&&m!==r&&(o.value=o.value+""+m,c(d+1))}o.addEventListener("keydown",d=>{var m=o.value.length,b=d.key;if(d.keyCode>46&&!d.ctrlKey&&!d.metaKey){if(m>=e.length)return d.preventDefault(),d.stopPropagation(),!1;switch(e[m]){case n:if(b.toUpperCase()==b.toLowerCase())return d.preventDefault(),d.stopPropagation(),!1;break;case r:if(isNaN(b))return d.preventDefault(),d.stopPropagation(),!1;break;case l:break;default:if(b!==e[m])return d.preventDefault(),d.stopPropagation(),!1}}}),o.addEventListener("keyup",d=>{d.keyCode>46&&t.maskAutoFill&&c(o.value.length)}),o.placeholder||(o.placeholder=e),t.maskAutoFill&&c(o.value.length)}let J=class{constructor(o,t,e,n,r,l){this.edit=o,this.table=o.table,this.cell=t,this.params=this._initializeParams(l),this.data=[],this.displayItems=[],this.currentItems=[],this.focusedItem=null,this.input=this._createInputElement(),this.listEl=this._createListElement(),this.initialValues=null,this.isFilter=t.getType()==="header",this.filterTimeout=null,this.filtered=!1,this.typing=!1,this.values=[],this.popup=null,this.listIteration=0,this.lastAction="",this.filterTerm="",this.blurable=!0,this.actions={success:n,cancel:r},this._deprecatedOptionsCheck(),this._initializeValue(),e(this._onRendered.bind(this))}_deprecatedOptionsCheck(){}_initializeValue(){var o=this.cell.getValue();o===void 0&&this.params.defaultValue!==void 0&&(o=this.params.defaultValue),this.initialValues=this.params.multiselect?o:[o],this.isFilter&&(this.input.value=this.initialValues?this.initialValues.join(","):"",this.headerFilterInitialListGen())}_onRendered(){var o=this.cell.getElement();function t(e){e.stopPropagation()}this.isFilter||(this.input.style.height="100%",this.input.focus({preventScroll:!0})),o.addEventListener("click",t),setTimeout(()=>{o.removeEventListener("click",t)},1e3),this.input.addEventListener("mousedown",this._preventPopupBlur.bind(this))}_createListElement(){var o=document.createElement("div");return o.classList.add("tabulator-edit-list"),o.addEventListener("mousedown",this._preventBlur.bind(this)),o.addEventListener("keydown",this._inputKeyDown.bind(this)),o}_setListWidth(){var o=this.isFilter?this.input:this.cell.getElement();this.listEl.style.minWidth=o.offsetWidth+"px",this.params.maxWidth&&(this.params.maxWidth===!0?this.listEl.style.maxWidth=o.offsetWidth+"px":typeof this.params.maxWidth=="number"?this.listEl.style.maxWidth=this.params.maxWidth+"px":this.listEl.style.maxWidth=this.params.maxWidth)}_createInputElement(){var o=this.params.elementAttributes,t=document.createElement("input");if(t.setAttribute("type",this.params.clearable?"search":"text"),t.style.padding="4px",t.style.width="100%",t.style.boxSizing="border-box",this.params.autocomplete||(t.style.cursor="default",t.style.caretColor="transparent"),o&&typeof o=="object")for(let e in o)e.charAt(0)=="+"?(e=e.slice(1),t.setAttribute(e,t.getAttribute(e)+o["+"+e])):t.setAttribute(e,o[e]);return this.params.mask&&ot(t,this.params),this._bindInputEvents(t),t}_initializeParams(o){var t,e=["values","valuesURL","valuesLookup"];return(o=Object.assign({},o)).verticalNavigation=o.verticalNavigation||"editor",o.placeholderLoading=o.placeholderLoading===void 0?"Searching ...":o.placeholderLoading,o.placeholderEmpty=o.placeholderEmpty===void 0?"No Results Found":o.placeholderEmpty,o.filterDelay=o.filterDelay===void 0?300:o.filterDelay,o.emptyValue=Object.keys(o).includes("emptyValue")?o.emptyValue:"",(t=Object.keys(o).filter(n=>e.includes(n)).length)?t>1&&console.warn("list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor"):console.warn("list editor config error - either the values, valuesURL, or valuesLookup option must be set"),o.autocomplete?o.multiselect&&(o.multiselect=!1,console.warn("list editor config error - multiselect option is not available when autocomplete is enabled")):(o.freetext&&(o.freetext=!1,console.warn("list editor config error - freetext option is only available when autocomplete is enabled")),o.filterFunc&&(o.filterFunc=!1,console.warn("list editor config error - filterFunc option is only available when autocomplete is enabled")),o.filterRemote&&(o.filterRemote=!1,console.warn("list editor config error - filterRemote option is only available when autocomplete is enabled")),o.mask&&(o.mask=!1,console.warn("list editor config error - mask option is only available when autocomplete is enabled")),o.allowEmpty&&(o.allowEmpty=!1,console.warn("list editor config error - allowEmpty option is only available when autocomplete is enabled")),o.listOnEmpty&&(o.listOnEmpty=!1,console.warn("list editor config error - listOnEmpty option is only available when autocomplete is enabled"))),o.filterRemote&&typeof o.valuesLookup!="function"&&!o.valuesURL&&(o.filterRemote=!1,console.warn("list editor config error - filterRemote option should only be used when values list is populated from a remote source")),o}_bindInputEvents(o){o.addEventListener("focus",this._inputFocus.bind(this)),o.addEventListener("click",this._inputClick.bind(this)),o.addEventListener("blur",this._inputBlur.bind(this)),o.addEventListener("keydown",this._inputKeyDown.bind(this)),o.addEventListener("search",this._inputSearch.bind(this)),this.params.autocomplete&&o.addEventListener("keyup",this._inputKeyUp.bind(this))}_inputFocus(o){this.rebuildOptionsList()}_filter(){this.params.filterRemote?(clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(()=>{this.rebuildOptionsList()},this.params.filterDelay)):this._filterList()}_inputClick(o){o.stopPropagation()}_inputBlur(o){this.blurable&&(this.popup?this.popup.hide():this._resolveValue(!0))}_inputSearch(){this._clearChoices()}_inputKeyDown(o){switch(o.keyCode){case 38:this._keyUp(o);break;case 40:this._keyDown(o);break;case 37:case 39:this._keySide(o);break;case 13:this._keyEnter();break;case 27:this._keyEsc();break;case 36:case 35:this._keyHomeEnd(o);break;case 9:this._keyTab(o);break;default:this._keySelectLetter(o)}}_inputKeyUp(o){switch(o.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:this._keyAutoCompLetter(o)}}_preventPopupBlur(){this.popup&&this.popup.blockHide(),setTimeout(()=>{this.popup&&this.popup.restoreHide()},10)}_preventBlur(){this.blurable=!1,setTimeout(()=>{this.blurable=!0},10)}_keyTab(o){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem,!0)}_keyUp(o){var t=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&t)&&(o.stopImmediatePropagation(),o.stopPropagation(),o.preventDefault(),t>0&&this._focusItem(this.displayItems[t-1]))}_keyDown(o){var t=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&t<this.displayItems.length-1)&&(o.stopImmediatePropagation(),o.stopPropagation(),o.preventDefault(),t<this.displayItems.length-1&&(t==-1?this._focusItem(this.displayItems[0]):this._focusItem(this.displayItems[t+1])))}_keySide(o){this.params.autocomplete||(o.stopImmediatePropagation(),o.stopPropagation(),o.preventDefault())}_keyEnter(o){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem)}_keyEsc(o){this._cancel()}_keyHomeEnd(o){this.params.autocomplete&&o.stopImmediatePropagation()}_keySelectLetter(o){this.params.autocomplete||(o.preventDefault(),o.keyCode>=38&&o.keyCode<=90&&this._scrollToValue(o.keyCode))}_keyAutoCompLetter(o){this._filter(),this.lastAction="typing",this.typing=!0}_scrollToValue(o){clearTimeout(this.filterTimeout);var t=String.fromCharCode(o).toLowerCase();this.filterTerm+=t.toLowerCase();var e=this.displayItems.find(n=>n.label!==void 0&&n.label.toLowerCase().startsWith(this.filterTerm));e&&this._focusItem(e),this.filterTimeout=setTimeout(()=>{this.filterTerm=""},800)}_focusItem(o){this.lastAction="focus",this.focusedItem&&this.focusedItem.element&&this.focusedItem.element.classList.remove("focused"),this.focusedItem=o,o&&o.element&&(o.element.classList.add("focused"),o.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}headerFilterInitialListGen(){this._generateOptions(!0)}rebuildOptionsList(){this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch(o=>{Number.isInteger(o)||console.error("List generation error",o)})}_filterList(){this._buildList(this._filterOptions()),this._showList()}_generateOptions(o){var t=[],e=++this.listIteration;return this.filtered=!1,this.params.values?t=this.params.values:this.params.valuesURL?t=this._ajaxRequest(this.params.valuesURL,this.input.value):typeof this.params.valuesLookup=="function"?t=this.params.valuesLookup(this.cell,this.input.value):this.params.valuesLookup&&(t=this._uniqueColumnValues(this.params.valuesLookupField)),t instanceof Promise?(o||this._addPlaceholder(this.params.placeholderLoading),t.then().then(n=>this.listIteration===e?this._parseList(n):Promise.reject(e))):Promise.resolve(this._parseList(t))}_addPlaceholder(o){var t=document.createElement("div");typeof o=="function"&&(o=o(this.cell.getComponent(),this.listEl)),o&&(this._clearList(),o instanceof HTMLElement?t=o:(t.classList.add("tabulator-edit-list-placeholder"),t.innerHTML=o),this.listEl.appendChild(t),this._showList())}_ajaxRequest(o,t){return o=K(o,{},this.params.filterRemote?{term:t}:{}),fetch(o).then(e=>e.ok?e.json().catch(n=>(console.warn("List Ajax Load Error - Invalid JSON returned",n),Promise.reject(n))):(console.error("List Ajax Load Error - Connection Error: "+e.status,e.statusText),Promise.reject(e))).catch(e=>(console.error("List Ajax Load Error - Connection Error: ",e),Promise.reject(e)))}_uniqueColumnValues(o){var t,e={},n=this.table.getData(this.params.valuesLookup);return(t=o?this.table.columnManager.getColumnByField(o):this.cell.getColumn()._getSelf())?n.forEach(r=>{var l=t.getFieldValue(r);this._emptyValueCheck(l)||(this.params.multiselect&&Array.isArray(l)?l.forEach(c=>{this._emptyValueCheck(c)||(e[c]=!0)}):e[l]=!0)}):(console.warn("unable to find matching column to create select lookup list:",o),e=[]),Object.keys(e)}_emptyValueCheck(o){return o==null||o===""}_parseList(o){var t=[];return Array.isArray(o)||(o=Object.entries(o).map(([e,n])=>({label:n,value:e}))),o.forEach(e=>{typeof e!="object"&&(e={label:e,value:e}),this._parseListItem(e,t,0)}),!this.currentItems.length&&this.params.freetext&&(this.input.value=this.initialValues,this.typing=!0,this.lastAction="typing"),this.data=t,t}_parseListItem(o,t,e){var n={};o.options?n=this._parseListGroup(o,e+1):(n={label:o.label,value:o.value,itemParams:o.itemParams,elementAttributes:o.elementAttributes,element:!1,selected:!1,visible:!0,level:e,original:o},this.initialValues&&this.initialValues.indexOf(o.value)>-1&&this._chooseItem(n,!0)),t.push(n)}_parseListGroup(o,t){var e={label:o.label,group:!0,itemParams:o.itemParams,elementAttributes:o.elementAttributes,element:!1,visible:!0,level:t,options:[],original:o};return o.options.forEach(n=>{this._parseListItem(n,e.options,t)}),e}_sortOptions(o){var t;return this.params.sort&&(t=typeof this.params.sort=="function"?this.params.sort:this._defaultSortFunction.bind(this),this._sortGroup(t,o)),o}_sortGroup(o,t){t.sort((e,n)=>o(e.label,n.label,e.value,n.value,e.original,n.original)),t.forEach(e=>{e.group&&this._sortGroup(o,e.options)})}_defaultSortFunction(o,t){var e,n,r,l,c,d=0,m=/(\d+)|(\D+)/g,b=/\d/,C=0;if(this.params.sort==="desc"&&([o,t]=[t,o]),o||o===0){if(t||t===0){if(isFinite(o)&&isFinite(t))return o-t;if((e=String(o).toLowerCase())===(n=String(t).toLowerCase()))return 0;if(!b.test(e)||!b.test(n))return e>n?1:-1;for(e=e.match(m),n=n.match(m),c=e.length>n.length?n.length:e.length;d<c;)if((r=e[d])!==(l=n[d++]))return isFinite(r)&&isFinite(l)?(r.charAt(0)==="0"&&(r="."+r),l.charAt(0)==="0"&&(l="."+l),r-l):r>l?1:-1;return e.length>n.length}C=1}else C=t||t===0?-1:0;return C}_filterOptions(){var o=this.params.filterFunc||this._defaultFilterFunc,t=this.input.value;return t?(this.filtered=!0,this.data.forEach(e=>{this._filterItem(o,t,e)})):this.filtered=!1,this.data}_filterItem(o,t,e){var n=!1;return e.group?(e.options.forEach(r=>{this._filterItem(o,t,r)&&(n=!0)}),e.visible=n):e.visible=o(t,e.label,e.value,e.original),e.visible}_defaultFilterFunc(o,t,e,n){return o=String(o).toLowerCase(),t!=null&&(String(t).toLowerCase().indexOf(o)>-1||String(e).toLowerCase().indexOf(o)>-1)}_clearList(){for(;this.listEl.firstChild;)this.listEl.removeChild(this.listEl.firstChild);this.displayItems=[]}_buildList(o){this._clearList(),o.forEach(t=>{this._buildItem(t)}),this.displayItems.length||this._addPlaceholder(this.params.placeholderEmpty)}_buildItem(o){var t,e=o.element;if(!this.filtered||o.visible){if(!e){if((e=document.createElement("div")).tabIndex=0,(t=this.params.itemFormatter?this.params.itemFormatter(o.label,o.value,o.original,e):o.label)instanceof HTMLElement?e.appendChild(t):e.innerHTML=t,o.group?e.classList.add("tabulator-edit-list-group"):e.classList.add("tabulator-edit-list-item"),e.classList.add("tabulator-edit-list-group-level-"+o.level),o.elementAttributes&&typeof o.elementAttributes=="object")for(let n in o.elementAttributes)n.charAt(0)=="+"?(n=n.slice(1),e.setAttribute(n,this.input.getAttribute(n)+o.elementAttributes["+"+n])):e.setAttribute(n,o.elementAttributes[n]);o.group?e.addEventListener("click",this._groupClick.bind(this,o)):e.addEventListener("click",this._itemClick.bind(this,o)),e.addEventListener("mousedown",this._preventBlur.bind(this)),o.element=e}this._styleItem(o),this.listEl.appendChild(e),o.group?o.options.forEach(n=>{this._buildItem(n)}):this.displayItems.push(o)}}_showList(){var o=this.popup&&this.popup.isVisible();if(this.input.parentNode){if(this.params.autocomplete&&this.input.value===""&&!this.params.listOnEmpty)return void(this.popup&&this.popup.hide(!0));this._setListWidth(),this.popup||(this.popup=this.edit.popup(this.listEl)),this.popup.show(this.cell.getElement(),"bottom"),o||setTimeout(()=>{this.popup.hideOnBlur(this._resolveValue.bind(this,!0))},10)}}_styleItem(o){o&&o.element&&(o.selected?o.element.classList.add("active"):o.element.classList.remove("active"))}_itemClick(o,t){t.stopPropagation(),this._chooseItem(o)}_groupClick(o,t){t.stopPropagation()}_cancel(){this.popup.hide(!0),this.actions.cancel()}_clearChoices(){this.typing=!0,this.currentItems.forEach(o=>{o.selected=!1,this._styleItem(o)}),this.currentItems=[],this.focusedItem=null}_chooseItem(o,t){var e;this.typing=!1,this.params.multiselect?((e=this.currentItems.indexOf(o))>-1?(this.currentItems.splice(e,1),o.selected=!1):(this.currentItems.push(o),o.selected=!0),this.input.value=this.currentItems.map(n=>n.label).join(","),this._styleItem(o)):(this.currentItems=[o],o.selected=!0,this.input.value=o.label,this._styleItem(o),t||this._resolveValue()),this._focusItem(o)}_resolveValue(o){var t,e;if(this.popup&&this.popup.hide(!0),this.params.multiselect)t=this.currentItems.map(n=>n.value);else if(o&&this.params.autocomplete&&this.typing){if(!(this.params.freetext||this.params.allowEmpty&&this.input.value===""))return void this.actions.cancel();t=this.input.value}else t=this.currentItems[0]?this.currentItems[0].value:(e=Array.isArray(this.initialValues)?this.initialValues[0]:this.initialValues)==null||e===""?e:this.params.emptyValue;t===""&&(t=this.params.emptyValue),this.actions.success(t),this.isFilter&&(this.initialValues=t&&!Array.isArray(t)?[t]:t,this.currentItems=[])}};var st={input:function(o,t,e,n,r){var l=o.getValue(),c=document.createElement("input");if(c.setAttribute("type",r.search?"search":"text"),c.style.padding="4px",c.style.width="100%",c.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let m in r.elementAttributes)m.charAt(0)=="+"?(m=m.slice(1),c.setAttribute(m,c.getAttribute(m)+r.elementAttributes["+"+m])):c.setAttribute(m,r.elementAttributes[m]);function d(m){l==null&&c.value!==""||c.value!==l?e(c.value)&&(l=c.value):n()}return c.value=l!==void 0?l:"",t(function(){o.getType()==="cell"&&(c.focus({preventScroll:!0}),c.style.height="100%",r.selectContents&&c.select())}),c.addEventListener("change",d),c.addEventListener("blur",d),c.addEventListener("keydown",function(m){switch(m.keyCode){case 13:d();break;case 27:n();break;case 35:case 36:m.stopPropagation()}}),r.mask&&ot(c,r),c},textarea:function(o,t,e,n,r){var l=o.getValue(),c=r.verticalNavigation||"hybrid",d=String(l??""),m=document.createElement("textarea"),b=0;if(m.style.display="block",m.style.padding="2px",m.style.height="100%",m.style.width="100%",m.style.boxSizing="border-box",m.style.whiteSpace="pre-wrap",m.style.resize="none",r.elementAttributes&&typeof r.elementAttributes=="object")for(let R in r.elementAttributes)R.charAt(0)=="+"?(R=R.slice(1),m.setAttribute(R,m.getAttribute(R)+r.elementAttributes["+"+R])):m.setAttribute(R,r.elementAttributes[R]);function C(R){l==null&&m.value!==""||m.value!==l?(e(m.value)&&(l=m.value),setTimeout(function(){o.getRow().normalizeHeight()},300)):n()}return m.value=d,t(function(){o.getType()==="cell"&&(m.focus({preventScroll:!0}),m.style.height="100%",m.scrollHeight,m.style.height=m.scrollHeight+"px",o.getRow().normalizeHeight(),r.selectContents&&m.select())}),m.addEventListener("change",C),m.addEventListener("blur",C),m.addEventListener("keyup",function(){m.style.height="";var R=m.scrollHeight;m.style.height=R+"px",R!=b&&(b=R,o.getRow().normalizeHeight())}),m.addEventListener("keydown",function(R){switch(R.keyCode){case 13:R.shiftKey&&r.shiftEnterSubmit&&C();break;case 27:n();break;case 38:(c=="editor"||c=="hybrid"&&m.selectionStart)&&(R.stopImmediatePropagation(),R.stopPropagation());break;case 40:(c=="editor"||c=="hybrid"&&m.selectionStart!==m.value.length)&&(R.stopImmediatePropagation(),R.stopPropagation());break;case 35:case 36:R.stopPropagation()}}),r.mask&&ot(m,r),m},number:function(o,t,e,n,r){var l=o.getValue(),c=r.verticalNavigation||"editor",d=document.createElement("input");if(d.setAttribute("type","number"),r.max!==void 0&&d.setAttribute("max",r.max),r.min!==void 0&&d.setAttribute("min",r.min),r.step!==void 0&&d.setAttribute("step",r.step),d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let C in r.elementAttributes)C.charAt(0)=="+"?(C=C.slice(1),d.setAttribute(C,d.getAttribute(C)+r.elementAttributes["+"+C])):d.setAttribute(C,r.elementAttributes[C]);d.value=l;var m=function(C){b()};function b(){var C=d.value;isNaN(C)||C===""||(C=Number(C)),C!==l?e(C)&&(l=C):n()}return t(function(){o.getType()==="cell"&&(d.removeEventListener("blur",m),d.focus({preventScroll:!0}),d.style.height="100%",d.addEventListener("blur",m),r.selectContents&&d.select())}),d.addEventListener("keydown",function(C){switch(C.keyCode){case 13:b();break;case 27:n();break;case 38:case 40:c=="editor"&&(C.stopImmediatePropagation(),C.stopPropagation());break;case 35:case 36:C.stopPropagation()}}),r.mask&&ot(d,r),d},range:function(o,t,e,n,r){var l=o.getValue(),c=document.createElement("input");if(c.setAttribute("type","range"),r.max!==void 0&&c.setAttribute("max",r.max),r.min!==void 0&&c.setAttribute("min",r.min),r.step!==void 0&&c.setAttribute("step",r.step),c.style.padding="4px",c.style.width="100%",c.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let m in r.elementAttributes)m.charAt(0)=="+"?(m=m.slice(1),c.setAttribute(m,c.getAttribute(m)+r.elementAttributes["+"+m])):c.setAttribute(m,r.elementAttributes[m]);function d(){var m=c.value;isNaN(m)||m===""||(m=Number(m)),m!=l?e(m)&&(l=m):n()}return c.value=l,t(function(){o.getType()==="cell"&&(c.focus({preventScroll:!0}),c.style.height="100%")}),c.addEventListener("blur",function(m){d()}),c.addEventListener("keydown",function(m){switch(m.keyCode){case 13:d();break;case 27:n()}}),c},date:function(o,t,e,n,r){var l=r.format,c=r.verticalNavigation||"editor",d=l?window.DateTime||luxon.DateTime:null,m=o.getValue(),b=document.createElement("input");function C(x){return(d.isDateTime(x)?x:l==="iso"?d.fromISO(String(x)):d.fromFormat(String(x),l)).toFormat("yyyy-MM-dd")}if(b.type="date",b.style.padding="4px",b.style.width="100%",b.style.boxSizing="border-box",r.max&&b.setAttribute("max",l?C(r.max):r.max),r.min&&b.setAttribute("min",l?C(r.min):r.min),r.elementAttributes&&typeof r.elementAttributes=="object")for(let x in r.elementAttributes)x.charAt(0)=="+"?(x=x.slice(1),b.setAttribute(x,b.getAttribute(x)+r.elementAttributes["+"+x])):b.setAttribute(x,r.elementAttributes[x]);function R(){var x,L=b.value;if(m==null&&L!==""||L!==m){if(L&&l)switch(x=d.fromFormat(String(L),"yyyy-MM-dd"),l){case!0:L=x;break;case"iso":L=x.toISO();break;default:L=x.toFormat(l)}e(L)&&(m=b.value)}else n()}return m=m!==void 0?m:"",l&&(d?m=C(m):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),b.value=m,t(function(){o.getType()==="cell"&&(b.focus({preventScroll:!0}),b.style.height="100%",r.selectContents&&b.select())}),b.addEventListener("blur",function(x){(x.relatedTarget||x.rangeParent||x.explicitOriginalTarget!==b)&&R()}),b.addEventListener("keydown",function(x){switch(x.keyCode){case 13:R();break;case 27:n();break;case 35:case 36:x.stopPropagation();break;case 38:case 40:c=="editor"&&(x.stopImmediatePropagation(),x.stopPropagation())}}),b},time:function(o,t,e,n,r){var l,c=r.format,d=r.verticalNavigation||"editor",m=c?window.DateTime||luxon.DateTime:null,b=o.getValue(),C=document.createElement("input");if(C.type="time",C.style.padding="4px",C.style.width="100%",C.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let x in r.elementAttributes)x.charAt(0)=="+"?(x=x.slice(1),C.setAttribute(x,C.getAttribute(x)+r.elementAttributes["+"+x])):C.setAttribute(x,r.elementAttributes[x]);function R(){var x,L=C.value;if(b==null&&L!==""||L!==b){if(L&&c)switch(x=m.fromFormat(String(L),"hh:mm"),c){case!0:L=x;break;case"iso":L=x.toISO();break;default:L=x.toFormat(c)}e(L)&&(b=C.value)}else n()}return b=b!==void 0?b:"",c&&(m?(l=m.isDateTime(b)?b:c==="iso"?m.fromISO(String(b)):m.fromFormat(String(b),c),b=l.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),C.value=b,t(function(){o.getType()=="cell"&&(C.focus({preventScroll:!0}),C.style.height="100%",r.selectContents&&C.select())}),C.addEventListener("blur",function(x){(x.relatedTarget||x.rangeParent||x.explicitOriginalTarget!==C)&&R()}),C.addEventListener("keydown",function(x){switch(x.keyCode){case 13:R();break;case 27:n();break;case 35:case 36:x.stopPropagation();break;case 38:case 40:d=="editor"&&(x.stopImmediatePropagation(),x.stopPropagation())}}),C},datetime:function(o,t,e,n,r){var l,c=r.format,d=r.verticalNavigation||"editor",m=c?this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"):null,b=o.getValue(),C=document.createElement("input");if(C.type="datetime-local",C.style.padding="4px",C.style.width="100%",C.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let x in r.elementAttributes)x.charAt(0)=="+"?(x=x.slice(1),C.setAttribute(x,C.getAttribute(x)+r.elementAttributes["+"+x])):C.setAttribute(x,r.elementAttributes[x]);function R(){var x,L=C.value;if(b==null&&L!==""||L!==b){if(L&&c)switch(x=m.fromISO(String(L)),c){case!0:L=x;break;case"iso":L=x.toISO();break;default:L=x.toFormat(c)}e(L)&&(b=C.value)}else n()}return b=b!==void 0?b:"",c&&(m?(l=m.isDateTime(b)?b:c==="iso"?m.fromISO(String(b)):m.fromFormat(String(b),c),b=l.toFormat("yyyy-MM-dd")+"T"+l.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),C.value=b,t(function(){o.getType()==="cell"&&(C.focus({preventScroll:!0}),C.style.height="100%",r.selectContents&&C.select())}),C.addEventListener("blur",function(x){(x.relatedTarget||x.rangeParent||x.explicitOriginalTarget!==C)&&R()}),C.addEventListener("keydown",function(x){switch(x.keyCode){case 13:R();break;case 27:n();break;case 35:case 36:x.stopPropagation();break;case 38:case 40:d=="editor"&&(x.stopImmediatePropagation(),x.stopPropagation())}}),C},list:function(o,t,e,n,r){return new J(this,o,t,e,n,r).input},star:function(o,t,e,n,r){var l=this,c=o.getElement(),d=o.getValue(),m=c.getElementsByTagName("svg").length||5,b=c.getElementsByTagName("svg")[0]?c.getElementsByTagName("svg")[0].getAttribute("width"):14,C=[],R=document.createElement("div"),x=document.createElementNS("http://www.w3.org/2000/svg","svg");function L(it){C.forEach(function(bt,jt){jt<it?(l.table.browser=="ie"?bt.setAttribute("class","tabulator-star-active"):bt.classList.replace("tabulator-star-inactive","tabulator-star-active"),bt.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):(l.table.browser=="ie"?bt.setAttribute("class","tabulator-star-inactive"):bt.classList.replace("tabulator-star-active","tabulator-star-inactive"),bt.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function H(it){var bt=document.createElement("span"),jt=x.cloneNode(!0);C.push(jt),bt.addEventListener("mouseenter",function(Jt){Jt.stopPropagation(),Jt.stopImmediatePropagation(),L(it)}),bt.addEventListener("mousemove",function(Jt){Jt.stopPropagation(),Jt.stopImmediatePropagation()}),bt.addEventListener("click",function(Jt){Jt.stopPropagation(),Jt.stopImmediatePropagation(),e(it),c.blur()}),bt.appendChild(jt),R.appendChild(bt)}function B(it){d=it,L(it)}if(c.style.whiteSpace="nowrap",c.style.overflow="hidden",c.style.textOverflow="ellipsis",R.style.verticalAlign="middle",R.style.display="inline-block",R.style.padding="4px",x.setAttribute("width",b),x.setAttribute("height",b),x.setAttribute("viewBox","0 0 512 512"),x.setAttribute("xml:space","preserve"),x.style.padding="0 1px",r.elementAttributes&&typeof r.elementAttributes=="object")for(let it in r.elementAttributes)it.charAt(0)=="+"?(it=it.slice(1),R.setAttribute(it,R.getAttribute(it)+r.elementAttributes["+"+it])):R.setAttribute(it,r.elementAttributes[it]);for(var et=1;et<=m;et++)H(et);return L(d=Math.min(parseInt(d),m)),R.addEventListener("mousemove",function(it){L(0)}),R.addEventListener("click",function(it){e(0)}),c.addEventListener("blur",function(it){n()}),c.addEventListener("keydown",function(it){switch(it.keyCode){case 39:B(d+1);break;case 37:B(d-1);break;case 13:e(d);break;case 27:n()}}),R},progress:function(o,t,e,n,r){var l,c,d=o.getElement(),m=r.max===void 0?d.getElementsByTagName("div")[0]&&d.getElementsByTagName("div")[0].getAttribute("max")||100:r.max,b=r.min===void 0?d.getElementsByTagName("div")[0]&&d.getElementsByTagName("div")[0].getAttribute("min")||0:r.min,C=(m-b)/100,R=o.getValue()||0,x=document.createElement("div"),L=document.createElement("div");function H(){var B=window.getComputedStyle(d,null),et=C*Math.round(L.offsetWidth/((d.clientWidth-parseInt(B.getPropertyValue("padding-left"))-parseInt(B.getPropertyValue("padding-right")))/100))+b;e(et),d.setAttribute("aria-valuenow",et),d.setAttribute("aria-label",R)}if(x.style.position="absolute",x.style.right="0",x.style.top="0",x.style.bottom="0",x.style.width="5px",x.classList.add("tabulator-progress-handle"),L.style.display="inline-block",L.style.position="relative",L.style.height="100%",L.style.backgroundColor="#488CE9",L.style.maxWidth="100%",L.style.minWidth="0%",r.elementAttributes&&typeof r.elementAttributes=="object")for(let B in r.elementAttributes)B.charAt(0)=="+"?(B=B.slice(1),L.setAttribute(B,L.getAttribute(B)+r.elementAttributes["+"+B])):L.setAttribute(B,r.elementAttributes[B]);return d.style.padding="4px 4px",R=Math.min(parseFloat(R),m),R=Math.max(parseFloat(R),b),R=Math.round((R-b)/C),L.style.width=R+"%",d.setAttribute("aria-valuemin",b),d.setAttribute("aria-valuemax",m),L.appendChild(x),x.addEventListener("mousedown",function(B){l=B.screenX,c=L.offsetWidth}),x.addEventListener("mouseover",function(){x.style.cursor="ew-resize"}),d.addEventListener("mousemove",function(B){l&&(L.style.width=c+B.screenX-l+"px")}),d.addEventListener("mouseup",function(B){l&&(B.stopPropagation(),B.stopImmediatePropagation(),l=!1,c=!1,H())}),d.addEventListener("keydown",function(B){switch(B.keyCode){case 39:B.preventDefault(),L.style.width=L.clientWidth+d.clientWidth/100+"px";break;case 37:B.preventDefault(),L.style.width=L.clientWidth-d.clientWidth/100+"px";break;case 9:case 13:H();break;case 27:n()}}),d.addEventListener("blur",function(){n()}),L},tickCross:function(o,t,e,n,r){var l=o.getValue(),c=document.createElement("input"),d=r.tristate,m=r.indeterminateValue===void 0?null:r.indeterminateValue,b=!1,C=Object.keys(r).includes("trueValue"),R=Object.keys(r).includes("falseValue");if(c.setAttribute("type","checkbox"),c.style.marginTop="5px",c.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let L in r.elementAttributes)L.charAt(0)=="+"?(L=L.slice(1),c.setAttribute(L,c.getAttribute(L)+r.elementAttributes["+"+L])):c.setAttribute(L,r.elementAttributes[L]);function x(L){var H=c.checked;return C&&H?H=r.trueValue:R&&!H&&(H=r.falseValue),d?L?b?m:H:c.checked&&!b?(c.checked=!1,c.indeterminate=!0,b=!0,m):(b=!1,H):H}return c.value=l,!d||l!==void 0&&l!==m&&l!==""||(b=!0,c.indeterminate=!0),this.table.browser!="firefox"&&this.table.browser!="safari"&&t(function(){o.getType()==="cell"&&c.focus({preventScroll:!0})}),c.checked=C?l===r.trueValue:l===!0||l==="true"||l==="True"||l===1,c.addEventListener("change",function(L){e(x())}),c.addEventListener("blur",function(L){e(x(!0))}),c.addEventListener("keydown",function(L){L.keyCode==13&&e(x()),L.keyCode==27&&n()}),c},adaptable:function(o,t,e,n,r){var l,c,d=o._getSelf().column;return l=r.editorLookup?r.editorLookup(o):function(m){var b=m.getValue(),C="input";switch(typeof b){case"number":C="number";break;case"boolean":C="tickCross";break;case"string":b.includes(`
`)&&(C="textarea")}return C}(o),r.paramsLookup&&(c=typeof r.paramsLookup=="function"?r.paramsLookup(l,o):r.paramsLookup[l]),this.table.modules.edit.lookupEditor(l,d).call(this,o,t,e,n,c||{})}};const Ss=class Ss extends Z{constructor(t){super(t),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.convertEmptyValues=!1,this.editors=Ss.editors,this.registerTableOption("editTriggerEvent","focus"),this.registerTableOption("editorEmptyValue"),this.registerTableOption("editorEmptyValueFunc",this.emptyValueCheck.bind(this)),this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("editorEmptyValue"),this.registerColumnOption("editorEmptyValueFunc"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellIsEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("cell-value-changed",this.updateCellClass.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("row-layout",this.rowEditableCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("clipboard-paste",this.pasteBlocker.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0)),Object.keys(this.table.options).includes("editorEmptyValue")&&(this.convertEmptyValues=!0)}pasteBlocker(t){if(this.currentCell)return!0}keybindingNavigateNext(t){var e=this.currentCell,n=this.options("tabEndNewRow");e&&(this.navigateNext(e,t)||n&&(e.getElement().firstChild.blur(),this.invalidEdit||(n=n===!0?this.table.addRow({}):typeof n=="function"?this.table.addRow(n(e.row.getComponent())):this.table.addRow(Object.assign({},n))).then(()=>{setTimeout(()=>{e.getComponent().navigateNext()})})))}cellIsEdited(t){return!!t.modules.edit&&t.modules.edit.edited}cellCancelEdit(t){t===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}updateCellClass(t){this.allowEdit(t)?t.getElement().classList.add("tabulator-editable"):t.getElement().classList.remove("tabulator-editable")}clearCellEdited(t){t||(t=this.table.modules.edit.getEditedCells()),Array.isArray(t)||(t=[t]),t.forEach(e=>{this.table.modules.edit.clearEdited(e._getSelf())})}navigatePrev(t=this.currentCell,e){var n,r;if(t){if(e&&e.preventDefault(),n=this.navigateLeft())return!0;if((r=this.table.rowManager.prevDisplayRow(t.row,!0))&&(n=this.findPrevEditableCell(r,r.cells.length)))return n.getComponent().edit(),!0}return!1}navigateNext(t=this.currentCell,e){var n,r;if(t){if(e&&e.preventDefault(),n=this.navigateRight())return!0;if((r=this.table.rowManager.nextDisplayRow(t.row,!0))&&(n=this.findNextEditableCell(r,-1)))return n.getComponent().edit(),!0}return!1}navigateLeft(t=this.currentCell,e){var n,r;return!!(t&&(e&&e.preventDefault(),n=t.getIndex(),r=this.findPrevEditableCell(t.row,n)))&&(r.getComponent().edit(),!0)}navigateRight(t=this.currentCell,e){var n,r;return!!(t&&(e&&e.preventDefault(),n=t.getIndex(),r=this.findNextEditableCell(t.row,n)))&&(r.getComponent().edit(),!0)}navigateUp(t=this.currentCell,e){var n,r;return!!(t&&(e&&e.preventDefault(),n=t.getIndex(),r=this.table.rowManager.prevDisplayRow(t.row,!0)))&&(r.cells[n].getComponent().edit(),!0)}navigateDown(t=this.currentCell,e){var n,r;return!!(t&&(e&&e.preventDefault(),n=t.getIndex(),r=this.table.rowManager.nextDisplayRow(t.row,!0)))&&(r.cells[n].getComponent().edit(),!0)}findNextEditableCell(t,e){var n=!1;if(e<t.cells.length-1)for(var r=e+1;r<t.cells.length;r++){let l=t.cells[r];if(l.column.modules.edit&&E.elVisible(l.getElement())&&this.allowEdit(l)){n=l;break}}return n}findPrevEditableCell(t,e){var n=!1;if(e>0)for(var r=e-1;r>=0;r--){let l=t.cells[r];if(l.column.modules.edit&&E.elVisible(l.getElement())&&this.allowEdit(l)){n=l;break}}return n}initializeColumnCheck(t){t.definition.editor!==void 0&&this.initializeColumn(t)}columnDeleteCheck(t){this.currentCell&&this.currentCell.column===t&&this.cancelEdit()}rowDeleteCheck(t){this.currentCell&&this.currentCell.row===t&&this.cancelEdit()}rowEditableCheck(t){t.getCells().forEach(e=>{e.column.modules.edit&&typeof e.column.modules.edit.check=="function"&&this.updateCellClass(e)})}initializeColumn(t){var e=Object.keys(t.definition).includes("editorEmptyValue"),n={editor:!1,blocked:!1,check:t.definition.editable,params:t.definition.editorParams||{},convertEmptyValues:e,editorEmptyValue:t.definition.editorEmptyValue,editorEmptyValueFunc:t.definition.editorEmptyValueFunc};n.editor=this.lookupEditor(t.definition.editor,t),n.editor&&(t.modules.edit=n)}lookupEditor(t,e){var n;switch(typeof t){case"string":this.editors[t]?n=this.editors[t]:console.warn("Editor Error - No such editor found: ",t);break;case"function":n=t;break;case"boolean":t===!0&&(typeof e.definition.formatter!="function"?n=this.editors[e.definition.formatter]?this.editors[e.definition.formatter]:this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter))}return n}getCurrentCell(){return!!this.currentCell&&this.currentCell.getComponent()}clearEditor(t){var e,n=this.currentCell;if(this.invalidEdit=!1,n){for(this.currentCell=!1,e=n.getElement(),this.dispatch("edit-editor-clear",n,t),e.classList.remove("tabulator-editing");e.firstChild;)e.removeChild(e.firstChild);n.row.getElement().classList.remove("tabulator-editing"),n.table.element.classList.remove("tabulator-editing")}}cancelEdit(){if(this.currentCell){var t=this.currentCell,e=this.currentCell.getComponent();this.clearEditor(!0),t.setValueActual(t.getValue()),t.cellRendered(),(t.column.definition.editor=="textarea"||t.column.definition.variableHeight)&&t.row.normalizeHeight(!0),t.column.definition.cellEditCancelled&&t.column.definition.cellEditCancelled.call(this.table,e),this.dispatch("edit-cancelled",t),this.dispatchExternal("cellEditCancelled",e)}}bindEditor(t){if(t.column.modules.edit){var e=this,n=t.getElement(!0);this.updateCellClass(t),n.setAttribute("tabindex",0),n.addEventListener("mousedown",function(r){r.button===2?r.preventDefault():e.mouseClick=!0}),this.options("editTriggerEvent")==="dblclick"&&n.addEventListener("dblclick",function(r){n.classList.contains("tabulator-editing")||(n.focus({preventScroll:!0}),e.edit(t,r,!1))}),this.options("editTriggerEvent")!=="focus"&&this.options("editTriggerEvent")!=="click"||n.addEventListener("click",function(r){n.classList.contains("tabulator-editing")||(n.focus({preventScroll:!0}),e.edit(t,r,!1))}),this.options("editTriggerEvent")==="focus"&&n.addEventListener("focus",function(r){e.recursionBlock||e.edit(t,r,!1)})}}focusCellNoEvent(t,e){this.recursionBlock=!0,e&&this.table.browser==="ie"||t.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(t,e){this.focusCellNoEvent(t),this.edit(t,!1,e)}focusScrollAdjust(t){if(this.table.rowManager.getRenderMode()=="virtual"){var e=this.table.rowManager.element.scrollTop,n=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,r=t.row.getElement();r.offsetTop<e?this.table.rowManager.element.scrollTop-=e-r.offsetTop:r.offsetTop+r.offsetHeight>n&&(this.table.rowManager.element.scrollTop+=r.offsetTop+r.offsetHeight-n);var l=this.table.rowManager.element.scrollLeft,c=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,d=t.getElement();this.table.modExists("frozenColumns")&&(l+=parseInt(this.table.modules.frozenColumns.leftMargin||0),c-=parseInt(this.table.modules.frozenColumns.rightMargin||0)),this.table.options.renderHorizontal==="virtual"&&(l-=parseInt(this.table.columnManager.renderer.vDomPadLeft),c-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),d.offsetLeft<l?this.table.rowManager.element.scrollLeft-=l-d.offsetLeft:d.offsetLeft+d.offsetWidth>c&&(this.table.rowManager.element.scrollLeft+=d.offsetLeft+d.offsetWidth-c)}}allowEdit(t){var e=!!t.column.modules.edit;if(t.column.modules.edit)switch(typeof t.column.modules.edit.check){case"function":t.row.initialized&&(e=t.column.modules.edit.check(t.getComponent()));break;case"string":e=!!t.row.data[t.column.modules.edit.check];break;case"boolean":e=t.column.modules.edit.check}return e}edit(t,e,n){var r,l,c,d=this,m=function(){},b=t.getElement(),C=!1;if(!this.currentCell){if(t.column.modules.edit.blocked)return this.mouseClick=!1,this.blur(b),!1;if(e&&e.stopPropagation(),this.allowEdit(t)||n){if(d.cancelEdit(),d.currentCell=t,this.focusScrollAdjust(t),l=t.getComponent(),this.mouseClick&&(this.mouseClick=!1,t.column.definition.cellClick&&t.column.definition.cellClick.call(this.table,e,l)),t.column.definition.cellEditing&&t.column.definition.cellEditing.call(this.table,l),this.dispatch("cell-editing",t),this.dispatchExternal("cellEditing",l),c=typeof t.column.modules.edit.params=="function"?t.column.modules.edit.params(l):t.column.modules.edit.params,r=t.column.modules.edit.editor.call(d,l,function(L){m=L},function(L){if(d.currentCell===t&&!C){var H=d.chain("edit-success",[t,L],!0,!0);return H===!0||d.table.options.validationMode==="highlight"?(C=!0,d.clearEditor(),t.modules.edit||(t.modules.edit={}),t.modules.edit.edited=!0,d.editedCells.indexOf(t)==-1&&d.editedCells.push(t),L=d.transformEmptyValues(L,t),t.setValue(L,!0),H===!0):(C=!0,d.invalidEdit=!0,d.focusCellNoEvent(t,!0),m(),setTimeout(()=>{C=!1},10),!1)}},function(){d.currentCell!==t||C||d.cancelEdit()},c),!this.currentCell||r===!1)return this.blur(b),!1;if(!(r instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",r),this.blur(b),!1;for(b.classList.add("tabulator-editing"),t.row.getElement().classList.add("tabulator-editing"),t.table.element.classList.add("tabulator-editing");b.firstChild;)b.removeChild(b.firstChild);b.appendChild(r),m();for(var R=b.children,x=0;x<R.length;x++)R[x].addEventListener("click",function(L){L.stopPropagation()});return!0}return this.mouseClick=!1,this.blur(b),!1}this.invalidEdit||this.currentCell===t||this.cancelEdit()}emptyValueCheck(t){return t===""||t==null}transformEmptyValues(t,e){var n,r=e.column.modules.edit;return(r.convertEmptyValues||this.convertEmptyValues)&&(n=r.editorEmptyValueFunc||this.options("editorEmptyValueFunc"))&&n(t)&&(t=r.convertEmptyValues?r.editorEmptyValue:this.options("editorEmptyValue")),t}blur(t){this.confirm("edit-blur",[t])||t.blur()}getEditedCells(){var t=[];return this.editedCells.forEach(e=>{t.push(e.getComponent())}),t}clearEdited(t){var e;t.modules.edit&&t.modules.edit.edited&&(t.modules.edit.edited=!1,this.dispatch("edit-edited-clear",t)),(e=this.editedCells.indexOf(t))>-1&&this.editedCells.splice(e,1)}};G(Ss,"moduleName","edit"),G(Ss,"editors",st);let at=Ss;class pt{constructor(t,e,n,r){this.type=t,this.columns=e,this.component=n||!1,this.indent=r||0}}class vt{constructor(t,e,n,r,l){this.value=t,this.component=e||!1,this.width=n,this.height=r,this.depth=l}}var Et={},ie={visible:function(){return this.rowManager.getVisibleRows(!1,!0)},all:function(){return this.rowManager.rows},selected:function(){return this.modules.selectRow.selectedRows},active:function(){return this.options.pagination?this.rowManager.getDisplayRows(this.rowManager.displayRows.length-2):this.rowManager.getDisplayRows()}};const ri=class ri extends Z{constructor(t){super(t),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.colVisPropAttach="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(t,e,n,r){var l,c,d,m;return this.cloneTableStyle=e,this.config=t||{},this.colVisProp=r,this.colVisPropAttach=this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1),(m=ri.columnLookups[n])&&(d=(d=m.call(this.table)).filter(b=>this.columnVisCheck(b))),l=this.config.columnHeaders!==!1?this.headersToExportRows(this.generateColumnGroupHeaders(d)):[],d&&(d=d.map(b=>b.getComponent())),c=this.bodyToExportRows(this.rowLookup(n),d),l.concat(c)}generateTable(t,e,n,r){var l=this.generateExportList(t,e,n,r);return this.generateTableElement(l)}rowLookup(t){var e,n=[];return typeof t=="function"?t.call(this.table).forEach(r=>{(r=this.table.rowManager.findRow(r))&&n.push(r)}):(e=ri.rowLookups[t]||ri.rowLookups.active,n=e.call(this.table)),Object.assign([],n)}generateColumnGroupHeaders(t){var e=[];return t||(t=this.config.columnGroups!==!1?this.table.columnManager.columns:this.table.columnManager.columnsByIndex),t.forEach(n=>{var r=this.processColumnGroup(n);r&&e.push(r)}),e}processColumnGroup(t){var e=t.columns,n=0,r={title:t.definition["title"+this.colVisPropAttach]||t.definition.title,column:t,depth:1};if(e.length){if(r.subGroups=[],r.width=0,e.forEach(l=>{var c=this.processColumnGroup(l);c&&(r.width+=c.width,r.subGroups.push(c),c.depth>n&&(n=c.depth))}),r.depth+=n,!r.width)return!1}else{if(!this.columnVisCheck(t))return!1;r.width=1}return r}columnVisCheck(t){var e=t.definition[this.colVisProp];return(this.config.rowHeaders!==!1||!t.isRowHeader)&&(typeof e=="function"&&(e=e.call(this.table,t.getComponent())),e===!1||e===!0?e:t.visible&&t.field)}headersToExportRows(t){var e=[],n=0,r=[];function l(c,d){var m=n-d;if(e[d]===void 0&&(e[d]=[]),c.height=c.subGroups?1:m-c.depth+1,e[d].push(c),c.height>1)for(let b=1;b<c.height;b++)e[d+b]===void 0&&(e[d+b]=[]),e[d+b].push(!1);if(c.width>1)for(let b=1;b<c.width;b++)e[d].push(!1);c.subGroups&&c.subGroups.forEach(function(b){l(b,d+1)})}return t.forEach(function(c){c.depth>n&&(n=c.depth)}),t.forEach(function(c){l(c,0)}),e.forEach(c=>{var d=[];c.forEach(m=>{if(m){let b=m.title===void 0?"":m.title;d.push(new vt(b,m.column.getComponent(),m.width,m.height,m.depth))}else d.push(null)}),r.push(new pt("header",d))}),r}bodyToExportRows(t,e=[]){var n=[];return e.length===0&&this.table.columnManager.columnsByIndex.forEach(r=>{this.columnVisCheck(r)&&e.push(r.getComponent())}),this.config.columnCalcs!==!1&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&t.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&t.push(this.table.modules.columnCalcs.botRow)),(t=t.filter(r=>{switch(r.type){case"group":return this.config.rowGroups!==!1;case"calc":return this.config.columnCalcs!==!1;case"row":return!(this.table.options.dataTree&&this.config.dataTree===!1&&r.modules.dataTree.parent)}return!0})).forEach((r,l)=>{var c=r.getData(this.colVisProp),d=[],m=0;switch(r.type){case"group":m=r.level,d.push(new vt(r.key,r.getComponent(),e.length,1));break;case"calc":case"row":e.forEach(b=>{d.push(new vt(b._column.getFieldValue(c),b,1,1))}),this.table.options.dataTree&&this.config.dataTree!==!1&&(m=r.modules.dataTree.index)}n.push(new pt(r.type,d,r.getComponent(),m))}),n}generateTableElement(t){var e=document.createElement("table"),n=document.createElement("thead"),r=document.createElement("tbody"),l=this.lookupTableStyles(),c=this.table.options["rowFormatter"+this.colVisPropAttach],d={};return d.rowFormatter=c!==null?c:this.table.options.rowFormatter,this.table.options.dataTree&&this.config.dataTree!==!1&&this.table.modExists("columnCalcs")&&(d.treeElementField=this.table.modules.dataTree.elementField),d.groupHeader=this.table.options["groupHeader"+this.colVisPropAttach],d.groupHeader&&!Array.isArray(d.groupHeader)&&(d.groupHeader=[d.groupHeader]),e.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),n,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),t.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),t.forEach((m,b)=>{let C;switch(m.type){case"header":n.appendChild(this.generateHeaderElement(m,d,l));break;case"group":r.appendChild(this.generateGroupElement(m,d,l));break;case"calc":r.appendChild(this.generateCalcElement(m,d,l));break;case"row":C=this.generateRowElement(m,d,l),this.mapElementStyles(b%2&&l.evenRow?l.evenRow:l.oddRow,C,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),r.appendChild(C)}}),n.innerHTML&&e.appendChild(n),e.appendChild(r),this.mapElementStyles(this.table.element,e,["border-top","border-left","border-right","border-bottom"]),e}lookupTableStyles(){var t={};return this.cloneTableStyle&&window.getComputedStyle&&(t.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),t.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),t.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),t.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),t.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],t.firstRow&&(t.styleCells=t.firstRow.getElementsByClassName("tabulator-cell"),t.styleRowHeader=t.firstRow.getElementsByClassName("tabulator-row-header")[0],t.firstCell=t.styleCells[0],t.lastCell=t.styleCells[t.styleCells.length-1])),t}generateHeaderElement(t,e,n){var r=document.createElement("tr");return t.columns.forEach(l=>{if(l){var c=document.createElement("th"),d=l.component._column.definition.cssClass?l.component._column.definition.cssClass.split(" "):[];c.colSpan=l.width,c.rowSpan=l.height,c.innerHTML=l.value,this.cloneTableStyle&&(c.style.boxSizing="border-box"),d.forEach(function(m){c.classList.add(m)}),this.mapElementStyles(l.component.getElement(),c,["text-align","border-left","border-right","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(l.component._column.contentElement,c,["padding-top","padding-left","padding-right","padding-bottom"]),l.component._column.visible?this.mapElementStyles(l.component.getElement(),c,["width"]):l.component._column.definition.width&&(c.style.width=l.component._column.definition.width+"px"),l.component._column.parent&&l.component._column.parent.isGroup?this.mapElementStyles(l.component._column.parent.groupElement,c,["border-top"]):this.mapElementStyles(l.component.getElement(),c,["border-top"]),l.component._column.isGroup?this.mapElementStyles(l.component.getElement(),c,["border-bottom"]):this.mapElementStyles(this.table.columnManager.getElement(),c,["border-bottom"]),r.appendChild(c)}}),r}generateGroupElement(t,e,n){var r=document.createElement("tr"),l=document.createElement("td"),c=t.columns[0];return r.classList.add("tabulator-print-table-row"),e.groupHeader&&e.groupHeader[t.indent]?c.value=e.groupHeader[t.indent](c.value,t.component._group.getRowCount(),t.component._group.getData(),t.component):e.groupHeader!==!1&&(c.value=t.component._group.generator(c.value,t.component._group.getRowCount(),t.component._group.getData(),t.component)),l.colSpan=c.width,l.innerHTML=c.value,r.classList.add("tabulator-print-table-group"),r.classList.add("tabulator-group-level-"+t.indent),c.component.isVisible()&&r.classList.add("tabulator-group-visible"),this.mapElementStyles(n.firstGroup,r,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(n.firstGroup,l,["padding-top","padding-left","padding-right","padding-bottom"]),r.appendChild(l),r}generateCalcElement(t,e,n){var r=this.generateRowElement(t,e,n);return r.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(n.calcRow,r,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),r}generateRowElement(t,e,n){var r=document.createElement("tr");return r.classList.add("tabulator-print-table-row"),t.columns.forEach((l,c)=>{if(l){var d,m,b=document.createElement("td"),C=l.component._column,R=this.table,x=R.columnManager.findColumnIndex(C),L=l.value,H={modules:{},getValue:function(){return L},getField:function(){return C.definition.field},getElement:function(){return b},getType:function(){return"cell"},getColumn:function(){return C.getComponent()},getData:function(){return t.component.getData()},getRow:function(){return t.component},getTable:function(){return R},getComponent:function(){return H},column:C};if((C.definition.cssClass?C.definition.cssClass.split(" "):[]).forEach(function(B){b.classList.add(B)}),this.table.modExists("format")&&this.config.formatCells!==!1)L=this.table.modules.format.formatExportValue(H,this.colVisProp);else switch(typeof L){case"object":L=L!==null?JSON.stringify(L):"";break;case"undefined":L=""}L instanceof Node?b.appendChild(L):b.innerHTML=L,m=["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","text-align"],C.isRowHeader?(d=n.styleRowHeader,m.push("background-color")):d=n.styleCells&&n.styleCells[x]?n.styleCells[x]:n.firstCell,d&&(this.mapElementStyles(d,b,m),C.definition.align&&(b.style.textAlign=C.definition.align)),this.table.options.dataTree&&this.config.dataTree!==!1&&(e.treeElementField&&e.treeElementField==C.field||!e.treeElementField&&c==0)&&(t.component._row.modules.dataTree.controlEl&&b.insertBefore(t.component._row.modules.dataTree.controlEl.cloneNode(!0),b.firstChild),t.component._row.modules.dataTree.branchEl&&b.insertBefore(t.component._row.modules.dataTree.branchEl.cloneNode(!0),b.firstChild)),r.appendChild(b),H.modules.format&&H.modules.format.renderedCallback&&H.modules.format.renderedCallback()}}),e.rowFormatter&&t.type==="row"&&this.config.formatCells!==!1&&(Object.assign(t.component).getElement=function(){return r},e.rowFormatter(t.component)),r}generateHTMLTable(t){var e=document.createElement("div");return e.appendChild(this.generateTableElement(t)),e.innerHTML}getHtml(t,e,n,r){var l=this.generateExportList(n||this.table.options.htmlOutputConfig,e,t,r||"htmlOutput");return this.generateHTMLTable(l)}mapElementStyles(t,e,n){if(this.cloneTableStyle&&t&&e){var r={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var l=window.getComputedStyle(t);n.forEach(function(c){e.style[r[c]]||(e.style[r[c]]=l.getPropertyValue(c))})}}}};G(ri,"moduleName","export"),G(ri,"columnLookups",Et),G(ri,"rowLookups",ie);let Ft=ri;var de={"=":function(o,t,e,n){return t==o},"<":function(o,t,e,n){return t<o},"<=":function(o,t,e,n){return t<=o},">":function(o,t,e,n){return t>o},">=":function(o,t,e,n){return t>=o},"!=":function(o,t,e,n){return t!=o},regex:function(o,t,e,n){return typeof o=="string"&&(o=new RegExp(o)),o.test(t)},like:function(o,t,e,n){return o==null?t===o:t!=null&&String(t).toLowerCase().indexOf(o.toLowerCase())>-1},keywords:function(o,t,e,n){var r=o.toLowerCase().split(n.separator===void 0?" ":n.separator),l=String(t??"").toLowerCase(),c=[];return r.forEach(d=>{l.includes(d)&&c.push(!0)}),n.matchAll?c.length===r.length:!!c.length},starts:function(o,t,e,n){return o==null?t===o:t!=null&&String(t).toLowerCase().startsWith(o.toLowerCase())},ends:function(o,t,e,n){return o==null?t===o:t!=null&&String(t).toLowerCase().endsWith(o.toLowerCase())},in:function(o,t,e,n){return Array.isArray(o)?!o.length||o.indexOf(t)>-1:(console.warn("Filter Error - filter value is not an array:",o),!1)}};const $e=class $e extends Z{constructor(t){super(t),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerTableOption("placeholderHeaderFilter",!1),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.subscribe("placeholder",this.generatePlaceholder.bind(this)),this.table.options.filterMode==="remote"&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(t=>{var e=this.table.columnManager.findColumn(t.field);if(!e)return console.warn("Column Filter Error - No matching column found:",t.field),!1;this.setHeaderFilterValue(e,t.value)}),this.tableInitialized=!0}remoteFilterParams(t,e,n,r){return r.filter=this.getFilters(!0,!0),r}generatePlaceholder(t){if(this.table.options.placeholderHeaderFilter&&Object.keys(this.headerFilters).length)return this.table.options.placeholderHeaderFilter}userSetFilter(t,e,n,r){this.setFilter(t,e,n,r),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(t,e,n,r){this.addFilter(t,e,n,r),this.refreshFilter()}userSetHeaderFilterFocus(t){var e=this.table.columnManager.findColumn(t);if(!e)return console.warn("Column Filter Focus Error - No matching column found:",t),!1;this.setHeaderFilterFocus(e)}userGetHeaderFilterValue(t){var e=this.table.columnManager.findColumn(t);if(e)return this.getHeaderFilterValue(e);console.warn("Column Filter Error - No matching column found:",t)}userSetHeaderFilterValue(t,e){var n=this.table.columnManager.findColumn(t);if(!n)return console.warn("Column Filter Error - No matching column found:",t),!1;this.setHeaderFilterValue(n,e)}userRemoveFilter(t,e,n){this.removeFilter(t,e,n),this.refreshFilter()}userClearFilter(t){this.clearFilter(t),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(t,e,n){return this.search("rows",t,e,n)}searchData(t,e,n){return this.search("data",t,e,n)}initializeColumnHeaderFilter(t){t.definition.headerFilter&&this.initializeColumn(t)}initializeColumn(t,e){var n=this,r=t.getField();t.modules.filter={success:function(l){var c,d=t.modules.filter.tagType=="input"&&t.modules.filter.attrType=="text"||t.modules.filter.tagType=="textarea"?"partial":"match",m="",b="";if(t.modules.filter.prevSuccess===void 0||t.modules.filter.prevSuccess!==l){if(t.modules.filter.prevSuccess=l,t.modules.filter.emptyFunc(l))delete n.headerFilters[r];else{switch(t.modules.filter.value=l,typeof t.definition.headerFilterFunc){case"string":$e.filters[t.definition.headerFilterFunc]?(m=t.definition.headerFilterFunc,c=function(C){var R=t.definition.headerFilterFuncParams||{},x=t.getFieldValue(C);return R=typeof R=="function"?R(l,x,C):R,$e.filters[t.definition.headerFilterFunc](l,x,C,R)}):console.warn("Header Filter Error - Matching filter function not found: ",t.definition.headerFilterFunc);break;case"function":m=c=function(C){var R=t.definition.headerFilterFuncParams||{},x=t.getFieldValue(C);return R=typeof R=="function"?R(l,x,C):R,t.definition.headerFilterFunc(l,x,C,R)}}c||(d==="partial"?(c=function(C){var R=t.getFieldValue(C);return R!=null&&String(R).toLowerCase().indexOf(String(l).toLowerCase())>-1},m="like"):(c=function(C){return t.getFieldValue(C)==l},m="=")),n.headerFilters[r]={value:l,func:c,type:m}}t.modules.filter.value=l,b=JSON.stringify(n.headerFilters),n.prevHeaderFilterChangeCheck!==b&&(n.prevHeaderFilterChangeCheck=b,n.trackChanges(),n.refreshFilter())}return!0},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(t)}generateHeaderFilterElement(t,e,n){var r,l,c,d,m,b,C,R,x=this,L=t.modules.filter.success,H=t.getField();if(t.modules.filter.value=e,t.modules.filter.headerElement&&t.modules.filter.headerElement.parentNode&&t.contentElement.removeChild(t.modules.filter.headerElement.parentNode),H){switch(t.modules.filter.emptyFunc=t.definition.headerFilterEmptyCheck||function(B){return!B&&B!==0},(r=document.createElement("div")).classList.add("tabulator-header-filter"),typeof t.definition.headerFilter){case"string":x.table.modules.edit.editors[t.definition.headerFilter]?(l=x.table.modules.edit.editors[t.definition.headerFilter],t.definition.headerFilter!=="tick"&&t.definition.headerFilter!=="tickCross"||t.definition.headerFilterEmptyCheck||(t.modules.filter.emptyFunc=function(B){return B!==!0&&B!==!1})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",t.definition.editor);break;case"function":l=t.definition.headerFilter;break;case"boolean":t.modules.edit&&t.modules.edit.editor?l=t.modules.edit.editor:t.definition.formatter&&x.table.modules.edit.editors[t.definition.formatter]?(l=x.table.modules.edit.editors[t.definition.formatter],t.definition.formatter!=="tick"&&t.definition.formatter!=="tickCross"||t.definition.headerFilterEmptyCheck||(t.modules.filter.emptyFunc=function(B){return B!==!0&&B!==!1})):l=x.table.modules.edit.editors.input}if(l){if(d={getValue:function(){return e!==void 0?e:""},getField:function(){return t.definition.field},getElement:function(){return r},getColumn:function(){return t.getComponent()},getTable:()=>this.table,getType:()=>"header",getRow:function(){return{normalizeHeight:function(){}}}},C=typeof(C=t.definition.headerFilterParams||{})=="function"?C.call(x.table,d):C,!(c=l.call(this.table.modules.edit,d,function(B){R=B},L,function(){},C)))return void console.warn("Filter Error - Cannot add filter to "+H+" column, editor returned a value of false");if(!(c instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+H+" column, editor should return an instance of Node, the editor returned:",c);x.langBind("headerFilters|columns|"+t.definition.field,function(B){c.setAttribute("placeholder",B!==void 0&&B?B:t.definition.headerFilterPlaceholder||x.langText("headerFilters|default"))}),c.addEventListener("click",function(B){B.stopPropagation(),c.focus()}),c.addEventListener("focus",B=>{var et=this.table.columnManager.contentsElement.scrollLeft;et!==this.table.rowManager.element.scrollLeft&&(this.table.rowManager.scrollHorizontal(et),this.table.columnManager.scrollHorizontal(et))}),m=!1,b=function(B){m&&clearTimeout(m),m=setTimeout(function(){L(c.value)},x.table.options.headerFilterLiveFilterDelay)},t.modules.filter.headerElement=c,t.modules.filter.attrType=c.hasAttribute("type")?c.getAttribute("type").toLowerCase():"",t.modules.filter.tagType=c.tagName.toLowerCase(),t.definition.headerFilterLiveFilter!==!1&&(t.definition.headerFilter!=="autocomplete"&&t.definition.headerFilter!=="tickCross"&&(t.definition.editor!=="autocomplete"&&t.definition.editor!=="tickCross"||t.definition.headerFilter!==!0)&&(c.addEventListener("keyup",b),c.addEventListener("search",b),t.modules.filter.attrType=="number"&&c.addEventListener("change",function(B){L(c.value)}),t.modules.filter.attrType=="text"&&this.table.browser!=="ie"&&c.setAttribute("type","search")),t.modules.filter.tagType!="input"&&t.modules.filter.tagType!="select"&&t.modules.filter.tagType!="textarea"||c.addEventListener("mousedown",function(B){B.stopPropagation()})),r.appendChild(c),t.contentElement.appendChild(r),n||x.headerFilterColumns.push(t),R&&R()}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",t.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(t){t.modules.filter&&t.modules.filter.headerElement&&(t.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(t){t.modules.filter&&t.modules.filter.headerElement&&(t.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(t){t.modules.filter&&t.modules.filter.headerElement?t.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",t.getField())}getHeaderFilterValue(t){if(t.modules.filter&&t.modules.filter.headerElement)return t.modules.filter.value;console.warn("Column Filter Error - No header filter set on column:",t.getField())}setHeaderFilterValue(t,e){t&&(t.modules.filter&&t.modules.filter.headerElement?(this.generateHeaderFilterElement(t,e,!0),t.modules.filter.success(e)):console.warn("Column Filter Error - No header filter set on column:",t.getField()))}reloadHeaderFilter(t){t&&(t.modules.filter&&t.modules.filter.headerElement?this.generateHeaderFilterElement(t,t.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",t.getField()))}refreshFilter(){this.tableInitialized&&(this.table.options.filterMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var t=this.changed;return this.changed=!1,t}setFilter(t,e,n,r){this.filterList=[],Array.isArray(t)||(t=[{field:t,type:e,value:n,params:r}]),this.addFilter(t)}addFilter(t,e,n,r){var l=!1;Array.isArray(t)||(t=[{field:t,type:e,value:n,params:r}]),t.forEach(c=>{(c=this.findFilter(c))&&(this.filterList.push(c),l=!0)}),l&&this.trackChanges()}findFilter(t){var e;if(Array.isArray(t))return this.findSubFilters(t);var n=!1;return typeof t.field=="function"?n=function(r){return t.field(r,t.type||{})}:$e.filters[t.type]?n=(e=this.table.columnManager.getColumnByField(t.field))?function(r){return $e.filters[t.type](t.value,e.getFieldValue(r),r,t.params||{})}:function(r){return $e.filters[t.type](t.value,r[t.field],r,t.params||{})}:console.warn("Filter Error - No such filter type found, ignoring: ",t.type),t.func=n,!!t.func&&t}findSubFilters(t){var e=[];return t.forEach(n=>{(n=this.findFilter(n))&&e.push(n)}),!!e.length&&e}getFilters(t,e){var n=[];return t&&(n=this.getHeaderFilters()),e&&n.forEach(function(r){typeof r.type=="function"&&(r.type="function")}),n=n.concat(this.filtersToArray(this.filterList,e))}filtersToArray(t,e){var n=[];return t.forEach(r=>{var l;Array.isArray(r)?n.push(this.filtersToArray(r,e)):(l={field:r.field,type:r.type,value:r.value},e&&typeof l.type=="function"&&(l.type="function"),n.push(l))}),n}getHeaderFilters(){var t=[];for(var e in this.headerFilters)t.push({field:e,type:this.headerFilters[e].type,value:this.headerFilters[e].value});return t}removeFilter(t,e,n){Array.isArray(t)||(t=[{field:t,type:e,value:n}]),t.forEach(r=>{var l=-1;(l=typeof r.field=="object"?this.filterList.findIndex(c=>r===c):this.filterList.findIndex(c=>r.field===c.field&&r.type===c.type&&r.value===c.value))>-1?this.filterList.splice(l,1):console.warn("Filter Error - No matching filter type found, ignoring: ",r.type)}),this.trackChanges()}clearFilter(t){this.filterList=[],t&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(t=>{t.modules.filter.value!==void 0&&delete t.modules.filter.value,t.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(t)}),this.trackChanges()}search(t,e,n,r){var l=[],c=[];return Array.isArray(e)||(e=[{field:e,type:n,value:r}]),e.forEach(d=>{(d=this.findFilter(d))&&c.push(d)}),this.table.rowManager.rows.forEach(d=>{var m=!0;c.forEach(b=>{this.filterRecurse(b,d.getData())||(m=!1)}),m&&l.push(t==="data"?d.getData("data"):d.getComponent())}),l}filter(t,e){var n=[],r=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters(!0)),this.table.options.filterMode!=="remote"&&(this.filterList.length||Object.keys(this.headerFilters).length)?t.forEach(l=>{this.filterRow(l)&&n.push(l)}):n=t.slice(0),this.subscribedExternal("dataFiltered")&&(n.forEach(l=>{r.push(l.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(!0),r)),n}filterRow(t,e){var n=!0,r=t.getData();for(var l in this.filterList.forEach(c=>{this.filterRecurse(c,r)||(n=!1)}),this.headerFilters)this.headerFilters[l].func(r)||(n=!1);return n}filterRecurse(t,e){var n=!1;return Array.isArray(t)?t.forEach(r=>{this.filterRecurse(r,e)&&(n=!0)}):n=t.func(e),n}};G($e,"moduleName","filter"),G($e,"filters",de);let Kt=$e;var Si={plaintext:function(o,t,e){return this.emptyToSpace(this.sanitizeHTML(o.getValue()))},html:function(o,t,e){return o.getValue()},textarea:function(o,t,e){return o.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(o.getValue()))},money:function(o,t,e){var n,r,l,c,d,m=parseFloat(o.getValue()),b="",C=t.decimal||".",R=t.thousand||",",x=t.negativeSign||"-",L=t.symbol||"",H=!!t.symbolAfter,B=t.precision!==void 0?t.precision:2;if(isNaN(m))return this.emptyToSpace(this.sanitizeHTML(o.getValue()));if(m<0&&(m=Math.abs(m),b=x),n=B!==!1?m.toFixed(B):m,r=(n=String(n).split("."))[0],l=n.length>1?C+n[1]:"",t.thousand!==!1)for(c=/(\d+)(\d{3})/;c.test(r);)r=r.replace(c,"$1"+R+"$2");return d=r+l,b===!0?(d="("+d+")",H?d+L:L+d):H?b+d+L:b+L+d},link:function(o,t,e){var n,r=o.getValue(),l=t.urlPrefix||"",c=t.download,d=r,m=document.createElement("a");if(t.labelField&&(n=o.getData(),d=function b(C,R){var x=R[C.shift()];return C.length&&typeof x=="object"?b(C,x):x}(t.labelField.split(this.table.options.nestedFieldSeparator),n)),t.label)switch(typeof t.label){case"string":d=t.label;break;case"function":d=t.label(o)}if(d){if(t.urlField&&(n=o.getData(),r=E.retrieveNestedData(this.table.options.nestedFieldSeparator,t.urlField,n)),t.url)switch(typeof t.url){case"string":r=t.url;break;case"function":r=t.url(o)}return m.setAttribute("href",l+r),t.target&&m.setAttribute("target",t.target),t.download&&(c=typeof c=="function"?c(o):c===!0?"":c,m.setAttribute("download",c)),m.innerHTML=this.emptyToSpace(this.sanitizeHTML(d)),m}return"&nbsp;"},image:function(o,t,e){var n=document.createElement("img"),r=o.getValue();switch(t.urlPrefix&&(r=t.urlPrefix+o.getValue()),t.urlSuffix&&(r+=t.urlSuffix),n.setAttribute("src",r),typeof t.height){case"number":n.style.height=t.height+"px";break;case"string":n.style.height=t.height}switch(typeof t.width){case"number":n.style.width=t.width+"px";break;case"string":n.style.width=t.width}return n.addEventListener("load",function(){o.getRow().normalizeHeight()}),n},tickCross:function(o,t,e){var n=o.getValue(),r=o.getElement(),l=t.allowEmpty,c=t.allowTruthy,d=Object.keys(t).includes("trueValue"),m=t.tickElement!==void 0?t.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',b=t.crossElement!==void 0?t.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return d&&n===t.trueValue||!d&&(c&&n||n===!0||n==="true"||n==="True"||n===1||n==="1")?(r.setAttribute("aria-checked",!0),m||""):!l||n!=="null"&&n!==""&&n!=null?(r.setAttribute("aria-checked",!1),b||""):(r.setAttribute("aria-checked","mixed"),"")},datetime:function(o,t,e){var n,r=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),l=t.inputFormat||"yyyy-MM-dd HH:mm:ss",c=t.outputFormat||"dd/MM/yyyy HH:mm:ss",d=t.invalidPlaceholder!==void 0?t.invalidPlaceholder:"",m=o.getValue();if(r!==void 0)return(n=r.isDateTime(m)?m:l==="iso"?r.fromISO(String(m)):r.fromFormat(String(m),l)).isValid?(t.timezone&&(n=n.setZone(t.timezone)),n.toFormat(c)):d!==!0&&m?typeof d=="function"?d(m):d:m;console.error("Format Error - 'datetime' formatter is dependant on luxon.js")},datetimediff:function(o,t,e){var n,r=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),l=t.inputFormat||"yyyy-MM-dd HH:mm:ss",c=t.invalidPlaceholder!==void 0?t.invalidPlaceholder:"",d=t.suffix!==void 0&&t.suffix,m=t.unit!==void 0?t.unit:"days",b=t.humanize!==void 0&&t.humanize,C=t.date!==void 0?t.date:r.now(),R=o.getValue();if(r!==void 0)return(n=r.isDateTime(R)?R:l==="iso"?r.fromISO(String(R)):r.fromFormat(String(R),l)).isValid?b?n.diff(C,m).toHuman()+(d?" "+d:""):parseInt(n.diff(C,m)[m])+(d?" "+d:""):c===!0?R:typeof c=="function"?c(R):c;console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")},lookup:function(o,t,e){var n=o.getValue();return t[n]===void 0?(console.warn("Missing display value for "+n),n):t[n]},star:function(o,t,e){var n=o.getValue(),r=o.getElement(),l=t&&t.stars?t.stars:5,c=document.createElement("span"),d=document.createElementNS("http://www.w3.org/2000/svg","svg");c.style.verticalAlign="middle",d.setAttribute("width","14"),d.setAttribute("height","14"),d.setAttribute("viewBox","0 0 512 512"),d.setAttribute("xml:space","preserve"),d.style.padding="0 1px",n=n&&!isNaN(n)?parseInt(n):0,n=Math.max(0,Math.min(n,l));for(var m=1;m<=l;m++){var b=d.cloneNode(!0);b.innerHTML=m<=n?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',c.appendChild(b)}return r.style.whiteSpace="nowrap",r.style.overflow="hidden",r.style.textOverflow="ellipsis",r.setAttribute("aria-label",n),c},traffic:function(o,t,e){var n,r,l=this.sanitizeHTML(o.getValue())||0,c=document.createElement("span"),d=t&&t.max?t.max:100,m=t&&t.min?t.min:0,b=t&&t.color!==void 0?t.color:["red","orange","green"],C="#666666";if(!isNaN(l)&&o.getValue()!==void 0){switch(c.classList.add("tabulator-traffic-light"),r=parseFloat(l)<=d?parseFloat(l):d,r=parseFloat(r)>=m?parseFloat(r):m,n=(d-m)/100,r=Math.round((r-m)/n),typeof b){case"string":C=b;break;case"function":C=b(l);break;case"object":if(Array.isArray(b)){var R=100/b.length,x=Math.floor(r/R);x=Math.min(x,b.length-1),C=b[x=Math.max(x,0)];break}}return c.style.backgroundColor=C,c}},progress:function(o,t={},e){var n,r,l,c,d,m=this.sanitizeHTML(o.getValue())||0,b=o.getElement(),C=t.max?t.max:100,R=t.min?t.min:0,x=t.legendAlign?t.legendAlign:"center";switch(r=parseFloat(m)<=C?parseFloat(m):C,r=parseFloat(r)>=R?parseFloat(r):R,n=(C-R)/100,r=Math.round((r-R)/n),typeof t.color){case"string":l=t.color;break;case"function":l=t.color(m);break;case"object":if(Array.isArray(t.color)){let et=100/t.color.length,it=Math.floor(r/et);it=Math.min(it,t.color.length-1),it=Math.max(it,0),l=t.color[it];break}default:l="#2DC214"}switch(typeof t.legend){case"string":c=t.legend;break;case"function":c=t.legend(m);break;case"boolean":c=m;break;default:c=!1}switch(typeof t.legendColor){case"string":d=t.legendColor;break;case"function":d=t.legendColor(m);break;case"object":if(Array.isArray(t.legendColor)){let et=100/t.legendColor.length,it=Math.floor(r/et);it=Math.min(it,t.legendColor.length-1),it=Math.max(it,0),d=t.legendColor[it]}break;default:d="#000"}b.style.minWidth="30px",b.style.position="relative",b.setAttribute("aria-label",r);var L=document.createElement("div");L.style.display="inline-block",L.style.width=r+"%",L.style.backgroundColor=l,L.style.height="100%",L.setAttribute("data-max",C),L.setAttribute("data-min",R);var H=document.createElement("div");if(H.style.position="relative",H.style.width="100%",H.style.height="100%",c){var B=document.createElement("div");B.style.position="absolute",B.style.top=0,B.style.left=0,B.style.textAlign=x,B.style.width="100%",B.style.color=d,B.innerHTML=c}return e(function(){if(!(o instanceof f)){var et=document.createElement("div");et.style.position="absolute",et.style.top="4px",et.style.bottom="4px",et.style.left="4px",et.style.right="4px",b.appendChild(et),b=et}b.appendChild(H),H.appendChild(L),c&&H.appendChild(B)}),""},color:function(o,t,e){return o.getElement().style.backgroundColor=this.sanitizeHTML(o.getValue()),""},buttonTick:function(o,t,e){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(o,t,e){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},toggle:function(o,t,e){var n,r,l=o.getValue(),c=t.size||15,d=c+"px",m=!t.hasOwnProperty("onValue")||t.onValue,b=!!t.hasOwnProperty("offValue")&&t.offValue,C=t.onTruthy?l:l===m;return(n=document.createElement("div")).classList.add("tabulator-toggle"),C?(n.classList.add("tabulator-toggle-on"),n.style.flexDirection="row-reverse",t.onColor&&(n.style.background=t.onColor)):t.offColor&&(n.style.background=t.offColor),n.style.width=2.5*c+"px",n.style.borderRadius=d,t.clickable&&n.addEventListener("click",R=>{o.setValue(C?b:m)}),(r=document.createElement("div")).classList.add("tabulator-toggle-switch"),r.style.height=d,r.style.width=d,r.style.borderRadius=d,n.appendChild(r),n},rownum:function(o,t,e){var n=document.createElement("span"),r=o.getRow(),l=o.getTable();return r.watchPosition(c=>{t.relativeToPage&&(c+=l.modules.page.getPageSize()*(l.modules.page.getPage()-1)),n.innerText=c}),n},handle:function(o,t,e){return o.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},adaptable:function(o,t,e){var n,r;return n=t.formatterLookup?t.formatterLookup(o):function(l){var c=l.getValue(),d="plaintext";switch(typeof c){case"boolean":d="tickCross";break;case"string":c.includes(`
`)&&(d="textarea")}return d}(o),t.paramsLookup&&(r=typeof t.paramsLookup=="function"?t.paramsLookup(n,o):t.paramsLookup[n]),this.table.modules.format.lookupFormatter(n).call(this,o,r||{},e)},array:function(o,t,e){var n,r=t.delimiter||",",l=o.getValue(),c=this.table;return t.valueMap&&(n=typeof t.valueMap=="string"?function(d){return d.map(m=>E.retrieveNestedData(c.options.nestedFieldSeparator,t.valueMap,m))}:t.valueMap),Array.isArray(l)?(n&&(l=n(l)),l.join(r)):l},json:function(o,t,e){var n=t.indent||"	",r=t.multiline===void 0||t.multiline,l=t.replacer||null,c=o.getValue();return r&&(o.getElement().style.whiteSpace="pre-wrap"),JSON.stringify(c,l,n)}};const ai=class ai extends Z{constructor(t){super(t),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(t){t.modules.format=this.lookupTypeFormatter(t,""),t.definition.formatterPrint!==void 0&&(t.modules.format.print=this.lookupTypeFormatter(t,"Print")),t.definition.formatterClipboard!==void 0&&(t.modules.format.clipboard=this.lookupTypeFormatter(t,"Clipboard")),t.definition.formatterHtmlOutput!==void 0&&(t.modules.format.htmlOutput=this.lookupTypeFormatter(t,"HtmlOutput"))}lookupTypeFormatter(t,e){var n={params:t.definition["formatter"+e+"Params"]||{}},r=t.definition["formatter"+e];return n.formatter=this.lookupFormatter(r),n}lookupFormatter(t){var e;switch(typeof t){case"string":ai.formatters[t]?e=ai.formatters[t]:(console.warn("Formatter Error - No such formatter found: ",t),e=ai.formatters.plaintext);break;case"function":e=t;break;default:e=ai.formatters.plaintext}return e}cellRendered(t){t.modules.format&&t.modules.format.renderedCallback&&!t.modules.format.rendered&&(t.modules.format.renderedCallback(),t.modules.format.rendered=!0)}formatHeader(t,e,n){var r,l,c,d;return t.definition.titleFormatter?(r=this.lookupFormatter(t.definition.titleFormatter),c=m=>{t.titleFormatterRendered=m},d={getValue:function(){return e},getElement:function(){return n},getType:function(){return"header"},getColumn:function(){return t.getComponent()},getTable:()=>this.table},l=typeof(l=t.definition.titleFormatterParams||{})=="function"?l():l,r.call(this,d,l,c)):e}formatValue(t){var e=t.getComponent(),n=typeof t.column.modules.format.params=="function"?t.column.modules.format.params(e):t.column.modules.format.params;return t.column.modules.format.formatter.call(this,e,n,function(r){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=r,t.modules.format.rendered=!1})}formatExportValue(t,e){var n,r=t.column.modules.format[e];if(r){let c=function(d){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=d,t.modules.format.rendered=!1};var l=c;return n=typeof r.params=="function"?r.params(t.getComponent()):r.params,r.formatter.call(this,t.getComponent(),n,c)}return this.formatValue(t)}sanitizeHTML(t){if(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=/]/g,function(n){return e[n]})}return t}emptyToSpace(t){return t==null||t===""?"&nbsp;":t}};G(ai,"moduleName","format"),G(ai,"formatters",Si);let Gi=ai;class se{constructor(t){return this._group=t,this.type="GroupComponent",new Proxy(this,{get:function(e,n,r){return e[n]!==void 0?e[n]:e._group.groupManager.table.componentFunctionBinder.handle("group",e._group,n)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return!!this._group.parent&&this._group.parent.getComponent()}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}scrollTo(t,e){return this._group.groupManager.table.rowManager.scrollToRow(this._group,t,e)}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class Yt{constructor(t,e,n,r,l,c,d){this.groupManager=t,this.parent=e,this.key=r,this.level=n,this.field=l,this.hasSubGroups=n<t.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=d,this.rows=[],this.groups=[],this.groupList=[],this.generator=c,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=d?d.visible:t.startOpen[n]!==void 0?t.startOpen[n]:t.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(t){t||(this.groupList.length?this.groupList.forEach(function(e){e.wipe()}):this.rows.forEach(e=>{e.modules&&delete e.modules.group})),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var t=document.createElement("div");t.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(t),this.groupManager.table.options.movableRows!==!1&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var t=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[t]&&this.groupManager.allowedValues[t].forEach(e=>{this._createGroup(e,t)})}addBindings(){this.groupManager.table.options.groupToggleElement&&(this.groupManager.table.options.groupToggleElement=="arrow"?this.arrowElement:this.element).addEventListener("click",t=>{this.groupManager.table.options.groupToggleElement==="arrow"&&(t.stopPropagation(),t.stopImmediatePropagation()),setTimeout(()=>{this.toggleVisibility()})})}_createGroup(t,e){var n=e+"_"+t,r=new Yt(this.groupManager,this,e,t,this.groupManager.groupIDLookups[e].field,this.groupManager.headerGenerator[e]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[n]);this.groups[n]=r,this.groupList.push(r)}_addRowToGroup(t){var e=this.level+1;if(this.hasSubGroups){var n=this.groupManager.groupIDLookups[e].func(t.getData()),r=e+"_"+n;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]?this.groups[r]&&this.groups[r].addRow(t):(this.groups[r]||this._createGroup(n,e),this.groups[r].addRow(t))}}_addRow(t){this.rows.push(t),t.modules.group=this}insertRow(t,e,n){var r=this.conformRowData({});t.updateData(r);var l=this.rows.indexOf(e);l>-1?n?this.rows.splice(l+1,0,t):this.rows.splice(l,0,t):n?this.rows.push(t):this.rows.unshift(t),t.modules.group=this,this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(t){this.arrowElement&&(this.arrowElement.style.marginLeft=t,this.groupList.forEach(function(e){e.scrollHeader(t)}))}getRowIndex(t){}conformRowData(t){return this.field?t[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(t=this.parent.conformRowData(t)),t}removeRow(t){var e=this.rows.indexOf(t),n=t.getElement();e>-1&&this.rows.splice(e,1),this.groupManager.table.options.groupValues||this.rows.length?(n.parentNode&&n.parentNode.removeChild(n),this.groupManager.blockRedraw||(this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this))):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))}removeGroup(t){var e,n=t.level+"_"+t.key;this.groups[n]&&(delete this.groups[n],(e=this.groupList.indexOf(t))>-1&&this.groupList.splice(e,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(){var t=[];return t.push(this),this._visSet(),this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.visible?this.groupList.length?this.groupList.forEach(function(e){t=t.concat(e.getHeadersAndRows())}):(this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),t.push(this.calcs.top)),t=t.concat(this.rows),this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),t.push(this.calcs.bottom))):this.groupList.length||this.groupManager.table.options.columnCalcs=="table"||this.groupManager.table.modExists("columnCalcs")&&(this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),t.push(this.calcs.top)),this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),t.push(this.calcs.bottom))),t}getData(t,e){var n=[];return this._visSet(),(!t||t&&this.visible)&&this.rows.forEach(r=>{n.push(r.getData(e||"data"))}),n}getRowCount(){var t=0;return this.groupList.length?this.groupList.forEach(e=>{t+=e.getRowCount()}):t=this.rows.length,t}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,this.groupManager.table.rowManager.getRenderMode()!="basic"||this.groupManager.table.options.pagination||(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(t=>{t.getHeadersAndRows().forEach(e=>{e.detachElement()})}):this.rows.forEach(t=>{var e=t.getElement();e.parentNode.removeChild(e)})),this.groupManager.updateGroupRows(!0),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,this.groupManager.table.rowManager.getRenderMode()!="basic"||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var t=this.generateElement();this.groupList.length?this.groupList.forEach(e=>{e.getHeadersAndRows().forEach(n=>{var r=n.getElement();t.parentNode.insertBefore(r,t.nextSibling),n.initialize(),t=r})}):this.rows.forEach(e=>{var n=e.getElement();t.parentNode.insertBefore(n,t.nextSibling),e.initialize(),t=n}),this.groupManager.updateGroupRows(!0)}this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var t=[];typeof this.visible=="function"&&(this.rows.forEach(function(e){t.push(e.getData())}),this.visible=this.visible(this.key,this.getRowCount(),t,this.getComponent()))}getRowGroup(t){var e=!1;return this.groupList.length?this.groupList.forEach(function(n){var r=n.getRowGroup(t);r&&(e=r)}):this.rows.find(function(n){return n===t})&&(e=this),e}getSubGroups(t){var e=[];return this.groupList.forEach(function(n){e.push(t?n.getComponent():n)}),e}getRows(t,e){var n=[];return e&&this.groupList.length?this.groupList.forEach(r=>{n=n.concat(r.getRows(t,e))}):this.rows.forEach(function(r){n.push(t?r.getComponent():r)}),n}generateGroupHeaderContents(){var t=[];for(this.getRows(!1,!0).forEach(function(e){t.push(e.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),t,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);typeof this.elementContents=="string"?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(t=[]){return t.unshift(this.key),this.parent&&this.parent.getPath(t),t}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var t=0;t<this.element.childNodes.length;++t)this.element.childNodes[t].parentNode.removeChild(this.element.childNodes[t]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(t){this.initialized&&!t||(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,E.elVisible(this.element)&&this.initialize(!0)}setHeight(t){this.height!=t&&(this.height=t,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}rendered(){}getComponent(){return this.component||(this.component=new se(this)),this.component}}var fn={cellEdit:function(o){o.component.setValueProcessData(o.data.oldValue),o.component.cellRendered()},rowAdd:function(o){o.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowDelete:function(o){var t=this.table.rowManager.addRowActual(o.data.data,o.data.pos,o.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(o.component,t),this.table.rowManager.checkPlaceholder()},rowMove:function(o){var t=o.data.posFrom-o.data.posTo>0;this.table.rowManager.moveRowActual(o.component,this.table.rowManager.getRowFromPosition(o.data.posFrom),t),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},Ru={cellEdit:function(o){o.component.setValueProcessData(o.data.newValue),o.component.cellRendered()},rowAdd:function(o){var t=this.table.rowManager.addRowActual(o.data.data,o.data.pos,o.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(o.component,t),this.table.rowManager.checkPlaceholder()},rowDelete:function(o){o.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowMove:function(o){this.table.rowManager.moveRowActual(o.component,this.table.rowManager.getRowFromPosition(o.data.posTo),o.data.after),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},xu={keybindings:{bindings:{undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"]},actions:{undo:function(o){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(o.preventDefault(),this.table.modules.history.undo()))},redo:function(o){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(o.preventDefault(),this.table.modules.history.redo()))}}}};const li=class li extends Z{constructor(t){super(t),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(t,e,n){this.action("rowMove",t,{posFrom:t.getPosition(),posTo:e.getPosition(),to:e,after:n})}rowAdded(t,e,n,r){this.action("rowAdd",t,{data:e,pos:n,index:r})}rowDeleted(t){var e,n;this.table.options.groupBy?(e=(n=t.getComponent().getGroup()._getSelf().rows).indexOf(t))&&(e=n[e-1]):(e=t.table.rowManager.getRowIndex(t))&&(e=t.table.rowManager.rows[e-1]),this.action("rowDelete",t,{data:t.getData(),pos:!e,index:e})}cellUpdated(t){this.action("cellEdit",t,{oldValue:t.oldValue,newValue:t.value})}clear(){this.history=[],this.index=-1}action(t,e,n){this.history=this.history.slice(0,this.index+1),this.history.push({type:t,component:e,data:n}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(t){var e=this.history.findIndex(function(n){return n.component===t});e>-1&&(this.history.splice(e,1),e<=this.index&&this.index--,this.clearComponentHistory(t))}undo(){if(this.index>-1){let t=this.history[this.index];return li.undoers[t.type].call(this,t),this.index--,this.dispatchExternal("historyUndo",t.type,t.component.getComponent(),t.data),!0}return console.warn(this.options("history")?"History Undo Error - No more history to undo":"History module not enabled"),!1}redo(){if(this.history.length-1>this.index){this.index++;let t=this.history[this.index];return li.redoers[t.type].call(this,t),this.dispatchExternal("historyRedo",t.type,t.component.getComponent(),t.data),!0}return console.warn(this.options("history")?"History Redo Error - No more history to redo":"History module not enabled"),!1}_rebindRow(t,e){this.history.forEach(function(n){if(n.component instanceof W)n.component===t&&(n.component=e);else if(n.component instanceof g&&n.component.row===t){var r=n.component.column.getField();r&&(n.component=e.getCell(r))}})}};G(li,"moduleName","history"),G(li,"moduleExtensions",xu),G(li,"undoers",fn),G(li,"redoers",Ru);let uo=li;var Su={csv:function(o){var t=[],e=0,n=0,r=!1;for(let l=0;l<o.length;l++){let c=o[l],d=o[l+1];t[e]||(t[e]=[]),t[e][n]||(t[e][n]=""),c=='"'&&r&&d=='"'?(t[e][n]+=c,l++):c!='"'?c!=","||r?c!="\r"||d!=`
`||r?c!="\r"&&c!=`
`||r?t[e][n]+=c:(n=0,e++):(n=0,e++,l++):n++:r=!r}return t},json:function(o){try{return JSON.parse(o)}catch(t){return console.warn("JSON Import Error - File contents is invalid JSON",t),Promise.reject()}},array:function(o){return o},xlsx:function(o){var t=this.dependencyRegistry.lookup("XLSX"),e=t.read(o),n=e.Sheets[e.SheetNames[0]];return t.utils.sheet_to_json(n,{header:1})}};const Ms=class Ms extends Z{constructor(t){super(t),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text"),this.registerTableOption("importHeaderTransform"),this.registerTableOption("importValueTransform"),this.registerTableOption("importDataValidator"),this.registerTableOption("importFileValidator")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(t){return this.table.options.importFormat&&(typeof t=="string"||Array.isArray(t)&&t.length&&Array.isArray(t))}loadData(t,e,n,r,l){return this.importData(this.lookupImporter(),t).then(this.structureData.bind(this)).catch(c=>(console.error("Import Error:",c||"Unable to import data"),Promise.reject(c)))}lookupImporter(t){var e;return t||(t=this.table.options.importFormat),(e=typeof t=="string"?Ms.importers[t]:t)||console.error("Import Error - Importer not found:",t),e}importFromFile(t,e,n){var r=this.lookupImporter(t);if(r)return this.pickFile(e,n).then(this.importData.bind(this,r)).then(this.structureData.bind(this)).then(this.mutateData.bind(this)).then(this.validateData.bind(this)).then(this.setData.bind(this)).catch(l=>(this.dispatch("import-error",l),this.dispatchExternal("importError",l),console.error("Import Error:",l||"Unable to import file"),this.table.dataLoader.alertError(),setTimeout(()=>{this.table.dataLoader.clearAlert()},3e3),Promise.reject(l)))}pickFile(t,e){return new Promise((n,r)=>{var l=document.createElement("input");l.type="file",l.accept=t,l.addEventListener("change",c=>{var d=l.files[0],m=new FileReader,b=this.validateFile(d);if(b===!0){switch(this.dispatch("import-importing",l.files),this.dispatchExternal("importImporting",l.files),e||this.table.options.importReader){case"buffer":m.readAsArrayBuffer(d);break;case"binary":m.readAsBinaryString(d);break;case"url":m.readAsDataURL(d);break;default:m.readAsText(d)}m.onload=C=>{n(m.result)},m.onerror=C=>{console.warn("File Load Error - Unable to read file"),r(C)}}else r(b)}),this.dispatch("import-choose"),this.dispatchExternal("importChoose"),l.click()})}importData(t,e){var n;return this.table.dataLoader.alertLoader(),new Promise((r,l)=>{setTimeout(()=>{(n=t.call(this.table,e))instanceof Promise||n?r(n):l()},10)})}structureData(t){return Array.isArray(t)&&t.length&&Array.isArray(t[0])?this.table.options.autoColumns?this.structureArrayToObject(t):this.structureArrayToColumns(t):t}mutateData(t){var e=[];return Array.isArray(t)?t.forEach(n=>{e.push(this.table.modules.mutator.transformRow(n,"import"))}):e=t,e}transformHeader(t){var e=[];return this.table.options.importHeaderTransform?(t.forEach(n=>{e.push(this.table.options.importHeaderTransform.call(this.table,n,t))}),e):t}transformData(t){var e=[];return this.table.options.importValueTransform?(t.forEach(n=>{e.push(this.table.options.importValueTransform.call(this.table,n,t))}),e):t}structureArrayToObject(t){var e=this.transformHeader(t.shift());return t.map(n=>{var r={};return n=this.transformData(n),e.forEach((l,c)=>{r[l]=n[c]}),r})}structureArrayToColumns(t){var e=[],n=this.transformHeader(t[0]),r=this.table.getColumns();return r[0]&&n[0]&&r[0].getDefinition().title===n[0]&&t.shift(),t.forEach(l=>{var c={};(l=this.transformData(l)).forEach((d,m)=>{var b=r[m];b&&(c[b.getField()]=d)}),e.push(c)}),e}validateFile(t){return!this.table.options.importFileValidator||this.table.options.importFileValidator.call(this.table,t)}validateData(t){var e;return this.table.options.importDataValidator?(e=this.table.options.importDataValidator.call(this.table,t))===!0?t:Promise.reject(e):t}setData(t){return this.dispatch("import-imported",t),this.dispatchExternal("importImported",t),this.table.dataLoader.clearAlert(),this.table.setData(t)}};G(Ms,"moduleName","import"),G(Ms,"importers",Su);let po=Ms;var Mu={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,navLeft:37,navRight:39,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35},Lu={keyBlock:function(o){o.stopPropagation(),o.preventDefault()},scrollPageUp:function(o){var t=this.table.rowManager,e=t.scrollTop-t.element.clientHeight;o.preventDefault(),t.displayRowsCount&&(e>=0?t.element.scrollTop=e:t.scrollToRow(t.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(o){var t=this.table.rowManager,e=t.scrollTop+t.element.clientHeight,n=t.element.scrollHeight;o.preventDefault(),t.displayRowsCount&&(e<=n?t.element.scrollTop=e:t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(o){var t=this.table.rowManager;o.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(o){var t=this.table.rowManager;o.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1]),this.table.element.focus()},navPrev:function(o){this.dispatch("keybinding-nav-prev",o)},navNext:function(o){this.dispatch("keybinding-nav-next",o)},navLeft:function(o){this.dispatch("keybinding-nav-left",o)},navRight:function(o){this.dispatch("keybinding-nav-right",o)},navUp:function(o){this.dispatch("keybinding-nav-up",o)},navDown:function(o){this.dispatch("keybinding-nav-down",o)}};const hi=class hi extends Z{constructor(t){super(t),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var t=this.table.options.keybindings,e={};this.watchKeys={},this.pressedKeys=[],t!==!1&&(Object.assign(e,hi.bindings),Object.assign(e,t),this.mapBindings(e),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(t){for(let e in t)hi.actions[e]?t[e]&&(typeof t[e]!="object"&&(t[e]=[t[e]]),t[e].forEach(n=>{(Array.isArray(n)?n:[n]).forEach(r=>{this.mapBinding(e,r)})})):console.warn("Key Binding Error - no such action:",e)}mapBinding(t,e){var n={action:hi.actions[t],keys:[],ctrl:!1,shift:!1,meta:!1};e.toString().toLowerCase().split(" ").join("").split("+").forEach(r=>{switch(r){case"ctrl":n.ctrl=!0;break;case"shift":n.shift=!0;break;case"meta":n.meta=!0;break;default:r=isNaN(r)?r.toUpperCase().charCodeAt(0):parseInt(r),n.keys.push(r),this.watchKeys[r]||(this.watchKeys[r]=[]),this.watchKeys[r].push(n)}})}bindEvents(){var t=this;this.keyupBinding=function(e){var n=e.keyCode,r=t.watchKeys[n];r&&(t.pressedKeys.push(n),r.forEach(function(l){t.checkBinding(e,l)}))},this.keydownBinding=function(e){var n=e.keyCode;if(t.watchKeys[n]){var r=t.pressedKeys.indexOf(n);r>-1&&t.pressedKeys.splice(r,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(t,e){var n=!0;return t.ctrlKey==e.ctrl&&t.shiftKey==e.shift&&t.metaKey==e.meta&&(e.keys.forEach(r=>{this.pressedKeys.indexOf(r)==-1&&(n=!1)}),n&&e.action.call(this,t),!0)}};G(hi,"moduleName","keybindings"),G(hi,"bindings",Mu),G(hi,"actions",Lu);let mo=hi;var ku={delete:function(o,t,e){o.delete()}},Au={insert:function(o,t,e){return this.table.addRow(o.getData(),void 0,t),!0},add:function(o,t,e){return this.table.addRow(o.getData()),!0},update:function(o,t,e){return!!t&&(t.update(o.getData()),!0)},replace:function(o,t,e){return!!t&&(this.table.addRow(o.getData(),void 0,t),t.delete(),!0)}};const Li=class Li extends Z{constructor(t){super(t),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var t=document.createElement("div");return t.classList.add("tabulator-row"),t.classList.add("tabulator-row-placeholder"),t}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(t){var e=this,n={};n.mouseup=(function(r){e.tableRowDrop(r,t)}).bind(e),n.mousemove=(function(r){var l;r.pageY-E.elOffset(t.element).top+e.table.rowManager.element.scrollTop>t.getHeight()/2?e.toRow===t&&e.toRowAfter||((l=t.getElement()).parentNode.insertBefore(e.placeholderElement,l.nextSibling),e.moveRow(t,!0)):(e.toRow!==t||e.toRowAfter)&&(l=t.getElement()).previousSibling&&(l.parentNode.insertBefore(e.placeholderElement,l),e.moveRow(t,!1))}).bind(e),t.modules.moveRow=n}initializeRow(t){var e,n=this,r={};r.mouseup=(function(l){n.tableRowDrop(l,t)}).bind(n),r.mousemove=(function(l){var c=t.getElement();l.pageY-E.elOffset(c).top+n.table.rowManager.element.scrollTop>t.getHeight()/2?n.toRow===t&&n.toRowAfter||(c.parentNode.insertBefore(n.placeholderElement,c.nextSibling),n.moveRow(t,!0)):(n.toRow!==t||n.toRowAfter)&&(c.parentNode.insertBefore(n.placeholderElement,c),n.moveRow(t,!1))}).bind(n),this.hasHandle||((e=t.getElement()).addEventListener("mousedown",function(l){l.which===1&&(n.checkTimeout=setTimeout(function(){n.startMove(l,t)},n.checkPeriod))}),e.addEventListener("mouseup",function(l){l.which===1&&n.checkTimeout&&clearTimeout(n.checkTimeout)}),this.bindTouchEvents(t,t.getElement())),t.modules.moveRow=r}initializeColumn(t){t.definition.rowHandle&&this.table.options.movableRows!==!1&&(this.hasHandle=!0)}initializeCell(t){if(t.column.definition.rowHandle&&this.table.options.movableRows!==!1){var e=this,n=t.getElement(!0);n.addEventListener("mousedown",function(r){r.which===1&&(e.checkTimeout=setTimeout(function(){e.startMove(r,t.row)},e.checkPeriod))}),n.addEventListener("mouseup",function(r){r.which===1&&e.checkTimeout&&clearTimeout(e.checkTimeout)}),this.bindTouchEvents(t.row,n)}}bindTouchEvents(t,e){var n,r,l,c,d,m,b=!1;e.addEventListener("touchstart",C=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,n=t.nextRow(),l=n?n.getHeight()/2:0,r=t.prevRow(),c=r?r.getHeight()/2:0,d=0,m=0,b=!1,this.startMove(C,t)},this.checkPeriod)},{passive:!0}),this.moving,this.toRow,this.toRowAfter,e.addEventListener("touchmove",C=>{var R,x;this.moving&&(C.preventDefault(),this.moveHover(C),b||(b=C.touches[0].pageY),(R=C.touches[0].pageY-b)>0?n&&R-d>l&&(x=n)!==t&&(b=C.touches[0].pageY,x.getElement().parentNode.insertBefore(this.placeholderElement,x.getElement().nextSibling),this.moveRow(x,!0)):r&&-R-m>c&&(x=r)!==t&&(b=C.touches[0].pageY,x.getElement().parentNode.insertBefore(this.placeholderElement,x.getElement()),this.moveRow(x,!1)),x&&(n=x.nextRow(),d=l,l=n?n.getHeight()/2:0,r=x.prevRow(),m=c,c=r?r.getHeight()/2:0))}),e.addEventListener("touchend",C=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(C),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(t=>{(t.type==="row"||t.type==="group")&&t.modules.moveRow&&t.modules.moveRow.mousemove&&t.getElement().addEventListener("mousemove",t.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(t=>{(t.type==="row"||t.type==="group")&&t.modules.moveRow&&t.modules.moveRow.mousemove&&t.getElement().removeEventListener("mousemove",t.modules.moveRow.mousemove)})}startMove(t,e){var n=e.getElement();this.setStartPosition(t,e),this.moving=e,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(e)):(n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n)),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",e.getComponent()),this.moveHover(t)}setStartPosition(t,e){var n,r,l=this.touchMove?t.touches[0].pageX:t.pageX,c=this.touchMove?t.touches[0].pageY:t.pageY;n=e.getElement(),this.connection?(r=n.getBoundingClientRect(),this.startX=r.left-l+window.pageXOffset,this.startY=r.top-c+window.pageYOffset):this.startY=c-n.getBoundingClientRect().top}endMove(t){t&&t.which!==1&&!this.touchMove||(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(t,e){this.toRow=t,this.toRowAfter=e}moveHover(t){this.connection?this.moveHoverConnections.call(this,t):this.moveHoverTable.call(this,t)}moveHoverTable(t){var e=this.table.rowManager.getElement(),n=e.scrollTop,r=(this.touchMove?t.touches[0].pageY:t.pageY)-e.getBoundingClientRect().top+n;this.hoverElement.style.top=Math.min(r-this.startY,this.table.rowManager.element.scrollHeight-this.hoverElement.offsetHeight)+"px"}moveHoverConnections(t){this.hoverElement.style.left=this.startX+(this.touchMove?t.touches[0].pageX:t.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?t.touches[0].pageY:t.pageY)+"px"}elementRowDrop(t,e,n){this.dispatchExternal("movableRowsElementDrop",t,e,!!n&&n.getComponent())}connectToTables(t){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",e),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:t})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(n=>{typeof n=="string"?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(n))):this.connectionElements.push(n)}),this.connectionElements.forEach(n=>{var r=l=>{this.elementRowDrop(l,n,this.moving)};n.addEventListener("mouseup",r),n.tabulatorElementDropEvent=r,n.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var t;this.connectionSelectorsTables&&(t=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",t),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(e=>{e.classList.remove("tabulator-movingrow-receiving"),e.removeEventListener("mouseup",e.tabulatorElementDropEvent),delete e.tabulatorElementDropEvent})}connect(t,e){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=t,this.connectedRow=e,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(n=>{n.type==="row"&&n.modules.moveRow&&n.modules.moveRow.mouseup&&n.getElement().addEventListener("mouseup",n.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",e,t),!0)}disconnect(t){t===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(e=>{e.type==="row"&&e.modules.moveRow&&e.modules.moveRow.mouseup&&e.getElement().removeEventListener("mouseup",e.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",t)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(t,e,n){var r=!1;if(n){switch(typeof this.table.options.movableRowsSender){case"string":r=Li.senders[this.table.options.movableRowsSender];break;case"function":r=this.table.options.movableRowsSender}r?r.call(this,this.moving?this.moving.getComponent():void 0,e?e.getComponent():void 0,t):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),e?e.getComponent():void 0,t)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),e?e.getComponent():void 0,t);this.endMove()}tableRowDrop(t,e){var n=!1,r=!1;switch(t.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":n=Li.receivers[this.table.options.movableRowsReceiver];break;case"function":n=this.table.options.movableRowsReceiver}n?r=n.call(this,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),r?this.dispatchExternal("movableRowsReceived",this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):this.dispatchExternal("movableRowsReceivedFailed",this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:e,success:r})}commsReceived(t,e,n){switch(e){case"connect":return this.connect(t,n.row);case"disconnect":return this.disconnect(t);case"dropcomplete":return this.dropComplete(t,n.row,n.success)}}};G(Li,"moduleName","moveRow"),G(Li,"senders",ku),G(Li,"receivers",Au);let fo=Li;var Du={};const qi=class qi extends Z{constructor(t){super(t),this.allowedTypes=["","data","edit","clipboard","import"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams"),this.registerColumnOption("mutatorImport"),this.registerColumnOption("mutatorImportParams"),this.registerColumnOption("mutateLink")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("cell-value-changed",this.mutateLink.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(t,e,n){return this.transformRow(e,"data",n)}initializeColumn(t){var e=!1,n={};this.allowedTypes.forEach(r=>{var l,c="mutator"+(r.charAt(0).toUpperCase()+r.slice(1));t.definition[c]&&(l=this.lookupMutator(t.definition[c]))&&(e=!0,n[c]={mutator:l,params:t.definition[c+"Params"]||{}})}),e&&(t.modules.mutate=n)}lookupMutator(t){var e=!1;switch(typeof t){case"string":qi.mutators[t]?e=qi.mutators[t]:console.warn("Mutator Error - No such mutator found, ignoring: ",t);break;case"function":e=t}return e}transformRow(t,e,n){var r,l="mutator"+(e.charAt(0).toUpperCase()+e.slice(1));return this.enabled&&this.table.columnManager.traverse(c=>{var d,m,b;c.modules.mutate&&(d=c.modules.mutate[l]||c.modules.mutate.mutator||!1)&&(r=c.getFieldValue(n!==void 0?n:t),(e=="data"&&!n||r!==void 0)&&(b=c.getComponent(),m=typeof d.params=="function"?d.params(r,t,e,b):d.params,c.setFieldValue(t,d.mutator(r,t,e,m,b))))}),t}transformCell(t,e){if(t.column.modules.mutate){var n=t.column.modules.mutate.mutatorEdit||t.column.modules.mutate.mutator||!1,r={};if(n)return r=Object.assign(r,t.row.getData()),t.column.setFieldValue(r,e),n.mutator(e,r,"edit",n.params,t.getComponent())}return e}mutateLink(t){var e=t.column.definition.mutateLink;e&&(Array.isArray(e)||(e=[e]),e.forEach(n=>{var r=t.row.getCell(n);r&&r.setValue(r.getValue(),!0,!0)}))}enable(){this.enabled=!0}disable(){this.enabled=!1}};G(qi,"moduleName","mutator"),G(qi,"mutators",Du);let go=qi;var Ou={rows:function(o,t,e,n,r){var l=document.createElement("span"),c=document.createElement("span"),d=document.createElement("span"),m=document.createElement("span"),b=document.createElement("span"),C=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",R=>{c.innerHTML=R}),this.table.modules.localize.langBind("pagination|counter|of",R=>{m.innerHTML=R}),this.table.modules.localize.langBind("pagination|counter|rows",R=>{C.innerHTML=R}),n?(d.innerHTML=" "+t+"-"+Math.min(t+o-1,n)+" ",b.innerHTML=" "+n+" ",l.appendChild(c),l.appendChild(d),l.appendChild(m),l.appendChild(b),l.appendChild(C)):(d.innerHTML=" 0 ",l.appendChild(c),l.appendChild(d),l.appendChild(C)),l},pages:function(o,t,e,n,r){var l=document.createElement("span"),c=document.createElement("span"),d=document.createElement("span"),m=document.createElement("span"),b=document.createElement("span"),C=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",R=>{c.innerHTML=R}),d.innerHTML=" "+e+" ",this.table.modules.localize.langBind("pagination|counter|of",R=>{m.innerHTML=R}),b.innerHTML=" "+r+" ",this.table.modules.localize.langBind("pagination|counter|pages",R=>{C.innerHTML=R}),l.appendChild(c),l.appendChild(d),l.appendChild(m),l.appendChild(b),l.appendChild(C),l}};const Ls=class Ls extends Z{constructor(t){super(t),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("paginationOutOfRange",!1),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("footer-redraw",this.footerRedraw.bind(this)),this.table.options.paginationAddRow=="page"&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),this.table.options.paginationMode==="remote"&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),this.table.options.progressiveLoad==="scroll"&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(t,e){var n,r=this.table.rowManager,l=r.getDisplayRows();return e?l.length?n=l[0]:r.activeRows.length&&(n=r.activeRows[r.activeRows.length-1],e=!1):l.length&&(n=l[l.length-1],e=!(l.length<this.size)),{index:n,top:e}}calculatePageSizes(){var t,e;this.table.options.paginationSize?this.size=this.table.options.paginationSize:((t=document.createElement("div")).classList.add("tabulator-row"),t.style.visibility="hidden",(e=document.createElement("div")).classList.add("tabulator-cell"),e.innerHTML="Page Row Test",t.appendChild(e),this.table.rowManager.getTableElement().appendChild(t),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/t.offsetHeight),this.table.rowManager.getTableElement().removeChild(t)),this.dispatchExternal("pageSizeChanged",this.size),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(t,e,n,r){return this.initialLoad||(this.progressiveLoad&&!n||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),r.page=this.page,this.size&&(r.size=this.size),r}userSetPageToRow(t){return this.table.options.pagination&&(t=this.table.rowManager.findRow(t))?this.setPageToRow(t):Promise.reject()}userSetPageSize(t){return!!this.table.options.pagination&&(this.setPageSize(t),this.setPage(1))}scrollVertical(t,e){var n;e||this.table.dataLoader.loading||(n=this.table.rowManager.getElement()).scrollHeight-n.clientHeight-t<(this.table.options.progressiveLoadScrollMargin||2*n.clientHeight)&&this.nextPage().catch(()=>{})}restOnRenderBefore(t,e){return e||this.mode==="local"&&this.reset(),t}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var t;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(t=document.createElement("button")).classList.add("tabulator-page"),t.setAttribute("type","button"),t.setAttribute("role","button"),t.setAttribute("aria-label",""),t.setAttribute("title",""),this.firstBut=t.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=t.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=t.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=t.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var t=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))t=this.table.options.paginationSizeSelector,this.pageSizes=t,this.pageSizes.indexOf(this.size)==-1&&t.unshift(this.size);else if(this.pageSizes.indexOf(this.size)==-1){t=[];for(let e=1;e<5;e++)t.push(this.size*e);this.pageSizes=t}else t=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);t.forEach(e=>{var n=document.createElement("option");n.value=e,e===!0?this.langBind("pagination|all",function(r){n.innerHTML=r}):n.innerHTML=e,this.pageSizeSelect.appendChild(n)}),this.pageSizeSelect.value=this.size}}initializePageCounter(){var t=this.table.options.paginationCounter,e=null;t&&((e=typeof t=="function"?t:Ls.pageCounters[t])?(this.pageCounter=e,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",t))}initializePaginator(t){var e,n;t||(this.langBind("pagination|first",r=>{this.firstBut.innerHTML=r}),this.langBind("pagination|first_title",r=>{this.firstBut.setAttribute("aria-label",r),this.firstBut.setAttribute("title",r)}),this.langBind("pagination|prev",r=>{this.prevBut.innerHTML=r}),this.langBind("pagination|prev_title",r=>{this.prevBut.setAttribute("aria-label",r),this.prevBut.setAttribute("title",r)}),this.langBind("pagination|next",r=>{this.nextBut.innerHTML=r}),this.langBind("pagination|next_title",r=>{this.nextBut.setAttribute("aria-label",r),this.nextBut.setAttribute("title",r)}),this.langBind("pagination|last",r=>{this.lastBut.innerHTML=r}),this.langBind("pagination|last_title",r=>{this.lastBut.setAttribute("aria-label",r),this.lastBut.setAttribute("title",r)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(e=document.createElement("label"),this.langBind("pagination|page_size",r=>{this.pageSizeSelect.setAttribute("aria-label",r),this.pageSizeSelect.setAttribute("title",r),e.innerHTML=r}),this.element.appendChild(e),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",r=>{this.setPageSize(this.pageSizeSelect.value=="true"||this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),this.table.options.paginationElement||(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):typeof this.table.options.paginationCounterElement=="string"&&((n=document.querySelector(this.table.options.paginationCounterElement))?n.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.footerAppend(this.pageCounterElement)),this.footerAppend(this.element)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(t){this.initializePaginator(!0),this.mode="progressive_"+t,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setMaxRows(t){this.max=t?this.size===!0?1:Math.ceil(t/this.size):1,this.page>this.max&&(this.page=this.max)}reset(t){this.initialLoad||(this.mode=="local"||t)&&(this.page=1,this.trackChanges())}setMaxPage(t){t=parseInt(t),this.max=t||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(t){switch(t){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return(t=parseInt(t))>0&&t<=this.max||this.mode!=="local"?(this.page=t,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",t),Promise.reject())}setPageToRow(t){var e=this.displayRows(-1).indexOf(t);if(e>-1){var n=this.size===!0?1:Math.ceil((e+1)/this.size);return this.setPage(n)}return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(t){t!==!0&&(t=parseInt(t)),t>0&&(this.size=t,this.dispatchExternal("pageSizeChanged",t)),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(t,e,n){var r;if(this.pageCounter)switch(this.mode==="remote"&&(e=this.size,n=(this.page-1)*this.size+1,t=this.remoteRowCountEstimate),typeof(r=this.pageCounter.call(this,e,n,this.page,t,this.max))){case"object":if(r instanceof Node){for(;this.pageCounterElement.firstChild;)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(r)}else this.pageCounterElement.innerHTML="",r!=null&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",r);break;case"undefined":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=r}}_setPageButtons(){let t=Math.floor((this.count-1)/2),e=Math.ceil((this.count-1)/2),n=this.max-this.page+t+1<this.count?this.max-this.count+1:Math.max(this.page-t,1),r=this.page<=e?Math.min(this.count,this.max):Math.min(this.page+e,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);this.page==1?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let l=n;l<=r;l++)l>0&&l<=this.max&&this.pagesElement.appendChild(this._generatePageButton(l));this.footerRedraw()}_generatePageButton(t){var e=document.createElement("button");return e.classList.add("tabulator-page"),t==this.page&&e.classList.add("active"),e.setAttribute("type","button"),e.setAttribute("role","button"),this.langBind("pagination|page_title",n=>{e.setAttribute("aria-label",n+" "+t),e.setAttribute("title",n+" "+t)}),e.setAttribute("data-page",t),e.textContent=t,e.addEventListener("click",n=>{this.setPage(t)}),e}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(t){return this.size}getMode(){return this.mode}getRows(t){var e,n,r,l,c=0,d=t.filter(m=>m.type==="row");if(this.mode=="local"){e=[],this.setMaxRows(t.length),this.size===!0?(n=0,r=t.length):r=(n=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(let m=n;m<r;m++){let b=t[m];b&&(e.push(b),b.type==="row"&&(l||(l=b),c++))}return this._setPageCounter(d.length,c,l?d.indexOf(l)+1:0),e}return this._setPageButtons(),this._setPageCounter(d.length),t.slice(0)}trigger(){var t;switch(this.mode){case"local":return t=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(t),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(t){var e,n;if(t.last_page===void 0&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),t.data){if(this.max=parseInt(t.last_page)||1,this.remoteRowCountEstimate=t.last_row!==void 0?t.last_row:t.last_page*this.size-(this.page==t.last_page?this.size-t.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":this.page==1?this.table.rowManager.setData(t.data,!1,this.page==1):this.table.rowManager.addRows(t.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":t=this.page===1?t.data:this.table.rowManager.getData().concat(t.data),this.table.rowManager.setData(t,this.page!==1,this.page==1),e=this.table.options.progressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight,this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+e&&this.page<this.max&&setTimeout(()=>{this.nextPage()})}return!1}if(this.page>this.max&&(console.warn("Remote Pagination Error - Server returned last page value lower than the current page"),n=this.options("paginationOutOfRange")))return this.setPage(typeof n=="function"?n.call(this,this.page,this.max):n);this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return t.data}footerRedraw(){var t=this.table.footerManager.containerElement;Math.ceil(t.clientWidth)-t.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(t.clientWidth)-t.scrollWidth<0&&(this.pagesElement.style.display="none"))}};G(Ls,"moduleName","page"),G(Ls,"pageCounters",Ou);let bo=Ls;var Pu={local:function(o,t){var e=localStorage.getItem(o+"-"+t);return!!e&&JSON.parse(e)},cookie:function(o,t){var e,n,r=document.cookie,l=o+"-"+t,c=r.indexOf(l+"=");return c>-1&&((e=(r=r.slice(c)).indexOf(";"))>-1&&(r=r.slice(0,e)),n=r.replace(l+"=","")),!!n&&JSON.parse(n)}},Hu={local:function(o,t,e){localStorage.setItem(o+"-"+t,JSON.stringify(e))},cookie:function(o,t,e){var n=new Date;n.setDate(n.getDate()+1e4),document.cookie=o+"-"+t+"="+JSON.stringify(e)+"; expires="+n.toUTCString()}};const ce=class ce extends Z{constructor(t){super(t),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var t="_tabulator_test";try{return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}initialize(){if(this.table.options.persistence){var t,e=this.table.options.persistenceMode,n=this.table.options.persistenceID;this.mode=e!==!0?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?typeof this.table.options.persistenceReaderFunc=="function"?this.readFunc=this.table.options.persistenceReaderFunc:ce.readers[this.table.options.persistenceReaderFunc]?this.readFunc=ce.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):ce.readers[this.mode]?this.readFunc=ce.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?typeof this.table.options.persistenceWriterFunc=="function"?this.writeFunc=this.table.options.persistenceWriterFunc:ce.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=ce.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):ce.writers[this.mode]?this.writeFunc=ce.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(n||this.table.element.getAttribute("id")||""),this.config={sort:this.table.options.persistence===!0||this.table.options.persistence.sort,filter:this.table.options.persistence===!0||this.table.options.persistence.filter,headerFilter:this.table.options.persistence===!0||this.table.options.persistence.headerFilter,group:this.table.options.persistence===!0||this.table.options.persistence.group,page:this.table.options.persistence===!0||this.table.options.persistence.page,columns:this.table.options.persistence===!0?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(t=this.retrieveData("page"))&&(t.paginationSize===void 0||this.config.page!==!0&&!this.config.page.size||(this.table.options.paginationSize=t.paginationSize),t.paginationInitialPage===void 0||this.config.page!==!0&&!this.config.page.page||(this.table.options.paginationInitialPage=t.paginationInitialPage)),this.config.group&&(t=this.retrieveData("group"))&&(t.groupBy===void 0||this.config.group!==!0&&!this.config.group.groupBy||(this.table.options.groupBy=t.groupBy),t.groupStartOpen===void 0||this.config.group!==!0&&!this.config.group.groupStartOpen||(this.table.options.groupStartOpen=t.groupStartOpen),t.groupHeader===void 0||this.config.group!==!0&&!this.config.group.groupHeader||(this.table.options.groupHeader=t.groupHeader)),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("filter-changed",this.eventSave.bind(this,"headerFilter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("column-width",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(t){this.config[t]&&this.save(t)}tableBuilt(){var t,e,n;this.config.sort&&(t=this.load("sort"))&&(this.table.options.initialSort=t),this.config.filter&&(e=this.load("filter"))&&(this.table.options.initialFilter=e),this.config.headerFilter&&(n=this.load("headerFilter"))&&(this.table.options.initialHeaderFilter=n)}tableRedraw(t){t&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(t){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,t,!0)),!0}initializeColumn(t){var e;this.config.columns&&(this.defWatcherBlock=!0,e=t.getDefinition(),(this.config.columns===!0?Object.keys(e):this.config.columns).forEach(n=>{var r=Object.getOwnPropertyDescriptor(e,n),l=e[n];r&&Object.defineProperty(e,n,{set:c=>{l=c,this.defWatcherBlock||this.save("columns"),r.set&&r.set(c)},get:()=>(r.get&&r.get(),l)})}),this.defWatcherBlock=!1)}load(t,e){var n=this.retrieveData(t);return e&&(n=n?this.mergeDefinition(e,n):e),n}retrieveData(t){return!!this.readFunc&&this.readFunc(this.id,t)}mergeDefinition(t,e,n){var r=[];return(e=e||[]).forEach((l,c)=>{var d,m=this._findColumn(t,l);m&&(n?d=Object.keys(l):this.config.columns===!0||this.config.columns==null?(d=Object.keys(m)).push("width"):d=this.config.columns,d.forEach(b=>{b!=="columns"&&l[b]!==void 0&&(m[b]=l[b])}),m.columns&&(m.columns=this.mergeDefinition(m.columns,l.columns)),r.push(m))}),t.forEach((l,c)=>{this._findColumn(e,l)||(r.length>c?r.splice(c,0,l):r.push(l))}),r}_findColumn(t,e){var n=e.columns?"group":e.field?"field":"object";return t.find(function(r){switch(n){case"group":return r.title===e.title&&r.columns.length===e.columns.length;case"field":return r.field===e.field;case"object":return r===e}})}save(t){var e={};switch(t){case"columns":e=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":e=this.table.modules.filter.getFilters();break;case"headerFilter":e=this.table.modules.filter.getHeaderFilters();break;case"sort":e=this.validateSorters(this.table.modules.sort.getSort());break;case"group":e=this.getGroupConfig();break;case"page":e=this.getPageConfig()}this.writeFunc&&this.writeFunc(this.id,t,e)}validateSorters(t){return t.forEach(function(e){e.column=e.field,delete e.field}),t}getGroupConfig(){var t={};return this.config.group&&((this.config.group===!0||this.config.group.groupBy)&&(t.groupBy=this.table.options.groupBy),(this.config.group===!0||this.config.group.groupStartOpen)&&(t.groupStartOpen=this.table.options.groupStartOpen),(this.config.group===!0||this.config.group.groupHeader)&&(t.groupHeader=this.table.options.groupHeader)),t}getPageConfig(){var t={};return this.config.page&&((this.config.page===!0||this.config.page.size)&&(t.paginationSize=this.table.modules.page.getPageSize()),(this.config.page===!0||this.config.page.page)&&(t.paginationInitialPage=this.table.modules.page.getPage())),t}parseColumns(t){var e=[],n=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return t.forEach(r=>{var l,c={},d=r.getDefinition();r.isGroup?(c.title=d.title,c.columns=this.parseColumns(r.getColumns())):(c.field=r.getField(),this.config.columns===!0||this.config.columns==null?((l=Object.keys(d)).push("width"),l.push("visible")):l=this.config.columns,l.forEach(m=>{switch(m){case"width":c.width=r.getWidth();break;case"visible":c.visible=r.visible;break;default:typeof d[m]!="function"&&n.indexOf(m)===-1&&(c[m]=d[m])}})),e.push(c)}),e}};G(ce,"moduleName","persistence"),G(ce,"moduleInitOrder",-10),G(ce,"readers",Pu),G(ce,"writers",Hu);let vo=ce;var Fu={format:{formatters:{responsiveCollapse:function(o,t,e){var n=document.createElement("div"),r=o.getRow()._row.modules.responsiveLayout;function l(c){var d=r.element;r.open=c,d&&(r.open?(n.classList.add("open"),d.style.display=""):(n.classList.remove("open"),d.style.display="none"))}return n.classList.add("tabulator-responsive-collapse-toggle"),n.innerHTML=`<svg class='tabulator-responsive-collapse-toggle-open' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12" fill="none" stroke-width="3" stroke-linecap="round" />
  <line y1="7" x1="12" y2="17" x2="12" fill="none" stroke-width="3" stroke-linecap="round" />
</svg>

<svg class='tabulator-responsive-collapse-toggle-close' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12"  fill="none" stroke-width="3" stroke-linecap="round" />
</svg>`,o.getElement().classList.add("tabulator-row-handle"),n.addEventListener("click",function(c){c.stopImmediatePropagation(),l(!r.open),o.getTable().rowManager.adjustTableSize()}),l(r.open),n}}}},zu={format:{formatters:{rowSelection:function(o,t,e){var n=document.createElement("input"),r=!1;if(n.type="checkbox",n.setAttribute("aria-label","Select Row"),this.table.modExists("selectRow",!0))if(n.addEventListener("click",c=>{c.stopPropagation()}),typeof o.getRow=="function"){var l=o.getRow();l instanceof O?(n.addEventListener("change",c=>{this.table.options.selectableRowsRangeMode==="click"&&r?r=!1:l.toggleSelect()}),this.table.options.selectableRowsRangeMode==="click"&&n.addEventListener("click",c=>{r=!0,this.table.modules.selectRow.handleComplexRowClick(l._row,c)}),n.checked=l.isSelected&&l.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(l,n)):n=""}else n.addEventListener("change",c=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(t.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(n);return n}}}};class Nu{constructor(t){return this._range=t,new Proxy(this,{get:function(e,n,r){return e[n]!==void 0?e[n]:e._range.table.componentFunctionBinder.handle("range",e._range,n)}})}getElement(){return this._range.element}getData(){return this._range.getData()}getCells(){return this._range.getCells(!0,!0)}getStructuredCells(){return this._range.getStructuredCells()}getRows(){return this._range.getRows().map(t=>t.getComponent())}getColumns(){return this._range.getColumns().map(t=>t.getComponent())}getBounds(){return this._range.getBounds()}getTopEdge(){return this._range.top}getBottomEdge(){return this._range.bottom}getLeftEdge(){return this._range.left}getRightEdge(){return this._range.right}setBounds(t,e){this._range.destroyedGuard("setBounds")&&this._range.setBounds(t&&t._cell,e&&e._cell)}setStartBound(t){this._range.destroyedGuard("setStartBound")&&(this._range.setEndBound(t&&t._cell),this._range.rangeManager.layoutElement())}setEndBound(t){this._range.destroyedGuard("setEndBound")&&(this._range.setEndBound(t&&t._cell),this._range.rangeManager.layoutElement())}clearValues(){this._range.destroyedGuard("clearValues")&&this._range.clearValues()}remove(){this._range.destroyedGuard("remove")&&this._range.destroy(!0)}}class Iu extends h{constructor(t,e,n,r){super(t),this.rangeManager=e,this.element=null,this.initialized=!1,this.initializing={start:!1,end:!1},this.destroyed=!1,this.top=0,this.bottom=0,this.left=0,this.right=0,this.table=t,this.start={row:0,col:0},this.end={row:0,col:0},this.rangeManager.rowHeader&&(this.left=1,this.right=1,this.start.col=1,this.end.col=1),this.initElement(),setTimeout(()=>{this.initBounds(n,r)})}initElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-range")}initBounds(t,e){this._updateMinMax(),t&&this.setBounds(t,e||t)}setStart(t,e){this.start.row===t&&this.start.col===e||(this.start.row=t,this.start.col=e,this.initializing.start=!0,this._updateMinMax())}setEnd(t,e){this.end.row===t&&this.end.col===e||(this.end.row=t,this.end.col=e,this.initializing.end=!0,this._updateMinMax())}setBounds(t,e,n){t&&this.setStartBound(t),this.setEndBound(e||t),this.rangeManager.layoutElement(n)}setStartBound(t){var e,n;t.type==="column"?this.rangeManager.columnSelection&&this.setStart(0,t.getPosition()-1):(e=t.row.position-1,n=t.column.getPosition()-1,t.column===this.rangeManager.rowHeader?this.setStart(e,1):this.setStart(e,n))}setEndBound(t){var e,n,r,l=this._getTableRows().length;t.type==="column"?this.rangeManager.columnSelection&&(this.rangeManager.selecting==="column"?this.setEnd(l-1,t.getPosition()-1):this.rangeManager.selecting==="cell"&&this.setEnd(0,t.getPosition()-1)):(e=t.row.position-1,n=t.column.getPosition()-1,r=t.column===this.rangeManager.rowHeader,this.rangeManager.selecting==="row"?this.setEnd(e,this._getTableColumns().length-1):this.rangeManager.selecting!=="row"&&r?this.setEnd(e,0):this.rangeManager.selecting==="column"?this.setEnd(l-1,n):this.setEnd(e,n))}_updateMinMax(){this.top=Math.min(this.start.row,this.end.row),this.bottom=Math.max(this.start.row,this.end.row),this.left=Math.min(this.start.col,this.end.col),this.right=Math.max(this.start.col,this.end.col),this.initialized?this.dispatchExternal("rangeChanged",this.getComponent()):this.initializing.start&&this.initializing.end&&(this.initialized=!0,this.dispatchExternal("rangeAdded",this.getComponent()))}_getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}_getTableRows(){return this.table.rowManager.getDisplayRows().filter(t=>t.type==="row")}layout(){var t,e,n,r,l,c,d,m,b,C,R=this.table.rowManager.renderer.vDomTop,x=this.table.rowManager.renderer.vDomBottom,L=this.table.columnManager.renderer.leftCol,H=this.table.columnManager.renderer.rightCol;this.table.options.renderHorizontal==="virtual"&&this.rangeManager.rowHeader&&(H+=1),R==null&&(R=0),x==null&&(x=1/0),L==null&&(L=0),H==null&&(H=1/0),this.overlaps(L,R,H,x)&&(t=Math.max(this.top,R),e=Math.min(this.bottom,x),n=Math.max(this.left,L),r=Math.min(this.right,H),l=this.rangeManager.getCell(t,n),c=this.rangeManager.getCell(e,r),d=l.getElement(),m=c.getElement(),b=l.row.getElement(),C=c.row.getElement(),this.element.classList.add("tabulator-range-active"),this.table.rtl?(this.element.style.right=b.offsetWidth-d.offsetLeft-d.offsetWidth+"px",this.element.style.width=d.offsetLeft+d.offsetWidth-m.offsetLeft+"px"):(this.element.style.left=b.offsetLeft+d.offsetLeft+"px",this.element.style.width=m.offsetLeft+m.offsetWidth-d.offsetLeft+"px"),this.element.style.top=b.offsetTop+"px",this.element.style.height=C.offsetTop+C.offsetHeight-b.offsetTop+"px")}atTopLeft(t){return t.row.position-1===this.top&&t.column.getPosition()-1===this.left}atBottomRight(t){return t.row.position-1===this.bottom&&t.column.getPosition()-1===this.right}occupies(t){return this.occupiesRow(t.row)&&this.occupiesColumn(t.column)}occupiesRow(t){return this.top<=t.position-1&&t.position-1<=this.bottom}occupiesColumn(t){return this.left<=t.getPosition()-1&&t.getPosition()-1<=this.right}overlaps(t,e,n,r){return!(this.left>n||t>this.right||this.top>r||e>this.bottom)}getData(){var t=[],e=this.getRows(),n=this.getColumns();return e.forEach(r=>{var l=r.getData(),c={};n.forEach(d=>{c[d.field]=l[d.field]}),t.push(c)}),t}getCells(t,e){var n=[],r=this.getRows(),l=this.getColumns();return t?n=r.map(c=>{var d=[];return c.getCells().forEach(m=>{l.includes(m.column)&&d.push(e?m.getComponent():m)}),d}):r.forEach(c=>{c.getCells().forEach(d=>{l.includes(d.column)&&n.push(e?d.getComponent():d)})}),n}getStructuredCells(){return this.getCells(!0,!0)}getRows(){return this._getTableRows().slice(this.top,this.bottom+1)}getColumns(){return this._getTableColumns().slice(this.left,this.right+1)}clearValues(){var t=this.getCells(),e=this.table.options.selectableRangeClearCellsValue;this.table.blockRedraw(),t.forEach(n=>{n.setValue(e)}),this.table.restoreRedraw()}getBounds(t){var e=this.getCells(!1,t),n={start:null,end:null};return e.length?(n.start=e[0],n.end=e[e.length-1]):console.warn("No bounds defined on range"),n}getComponent(){return this.component||(this.component=new Nu(this)),this.component}destroy(t){this.destroyed=!0,this.element.remove(),t&&this.rangeManager.rangeRemoved(this),this.initialized&&this.dispatchExternal("rangeRemoved",this.getComponent())}destroyedGuard(t){return this.destroyed&&console.warn("You cannot call the "+t+" function on a destroyed range"),!this.destroyed}}var Bu={keybindings:{bindings:{rangeJumpUp:["ctrl + 38","meta + 38"],rangeJumpDown:["ctrl + 40","meta + 40"],rangeJumpLeft:["ctrl + 37","meta + 37"],rangeJumpRight:["ctrl + 39","meta + 39"],rangeExpandUp:"shift + 38",rangeExpandDown:"shift + 40",rangeExpandLeft:"shift + 37",rangeExpandRight:"shift + 39",rangeExpandJumpUp:["ctrl + shift + 38","meta + shift + 38"],rangeExpandJumpDown:["ctrl + shift + 40","meta + shift + 40"],rangeExpandJumpLeft:["ctrl + shift + 37","meta + shift + 37"],rangeExpandJumpRight:["ctrl + shift + 39","meta + shift + 39"]},actions:{rangeJumpLeft:function(o){this.dispatch("keybinding-nav-range",o,"left",!0,!1)},rangeJumpRight:function(o){this.dispatch("keybinding-nav-range",o,"right",!0,!1)},rangeJumpUp:function(o){this.dispatch("keybinding-nav-range",o,"up",!0,!1)},rangeJumpDown:function(o){this.dispatch("keybinding-nav-range",o,"down",!0,!1)},rangeExpandLeft:function(o){this.dispatch("keybinding-nav-range",o,"left",!1,!0)},rangeExpandRight:function(o){this.dispatch("keybinding-nav-range",o,"right",!1,!0)},rangeExpandUp:function(o){this.dispatch("keybinding-nav-range",o,"up",!1,!0)},rangeExpandDown:function(o){this.dispatch("keybinding-nav-range",o,"down",!1,!0)},rangeExpandJumpLeft:function(o){this.dispatch("keybinding-nav-range",o,"left",!0,!0)},rangeExpandJumpRight:function(o){this.dispatch("keybinding-nav-range",o,"right",!0,!0)},rangeExpandJumpUp:function(o){this.dispatch("keybinding-nav-range",o,"up",!0,!0)},rangeExpandJumpDown:function(o){this.dispatch("keybinding-nav-range",o,"down",!0,!0)}}},clipboard:{pasteActions:{range:function(o){var t,e,n,r,l,c=[],d=this.table.modules.selectRange.activeRange,m=!1;return l=o.length,d&&(e=(t=d.getBounds()).start,t.start===t.end&&(m=!0),e&&(n=(c=this.table.rowManager.activeRows.slice()).indexOf(e.row),r=m?o.length:c.indexOf(t.end.row)-n+1,n>-1&&(this.table.blockRedraw(),(c=c.slice(n,n+r)).forEach((b,C)=>{b.updateData(o[C%l])}),this.table.restoreRedraw()))),c}},pasteParsers:{range:function(o){var t,e,n,r,l,c=[],d=[],m=this.table.modules.selectRange.activeRange,b=!1;return!!(m&&(e=(t=m.getBounds()).start,t.start===t.end&&(b=!0),e&&((o=o.split(`
`)).forEach(function(C){c.push(C.split("	"))}),c.length&&(l=(r=this.table.columnManager.getVisibleColumnsByIndex()).indexOf(e.column))>-1)))&&(n=b?c[0].length:r.indexOf(t.end.column)-l+1,r=r.slice(l,l+n),c.forEach(C=>{var R={},x=C.length;r.forEach(function(L,H){R[L.field]=C[H%x]}),d.push(R)}),d)}}},export:{columnLookups:{range:function(){var o=this.modules.selectRange.selectedColumns();return this.columnManager.rowHeader&&o.unshift(this.columnManager.rowHeader),o}},rowLookups:{range:function(){return this.modules.selectRange.selectedRows()}}}};function wo(o,t,e,n,r,l,c){var d=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),m=c.format||"dd/MM/yyyy HH:mm:ss",b=c.alignEmptyValues,C=0;if(d!==void 0){if(d.isDateTime(o)||(o=m==="iso"?d.fromISO(String(o)):d.fromFormat(String(o),m)),d.isDateTime(t)||(t=m==="iso"?d.fromISO(String(t)):d.fromFormat(String(t),m)),o.isValid){if(t.isValid)return o-t;C=1}else C=t.isValid?-1:0;return(b==="top"&&l==="desc"||b==="bottom"&&l==="asc")&&(C*=-1),C}console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}var Vu={number:function(o,t,e,n,r,l,c){var d=c.alignEmptyValues,m=c.decimalSeparator,b=c.thousandSeparator,C=0;if(o=String(o),t=String(t),b&&(o=o.split(b).join(""),t=t.split(b).join("")),m&&(o=o.split(m).join("."),t=t.split(m).join(".")),o=parseFloat(o),t=parseFloat(t),isNaN(o))C=isNaN(t)?0:-1;else{if(!isNaN(t))return o-t;C=1}return(d==="top"&&l==="desc"||d==="bottom"&&l==="asc")&&(C*=-1),C},string:function(o,t,e,n,r,l,c){var d,m=c.alignEmptyValues,b=0;if(o){if(t){switch(typeof c.locale){case"boolean":c.locale&&(d=this.langLocale());break;case"string":d=c.locale}return String(o).toLowerCase().localeCompare(String(t).toLowerCase(),d)}b=1}else b=t?-1:0;return(m==="top"&&l==="desc"||m==="bottom"&&l==="asc")&&(b*=-1),b},date:function(o,t,e,n,r,l,c){return c.format||(c.format="dd/MM/yyyy"),wo.call(this,o,t,e,n,r,l,c)},time:function(o,t,e,n,r,l,c){return c.format||(c.format="HH:mm"),wo.call(this,o,t,e,n,r,l,c)},datetime:wo,boolean:function(o,t,e,n,r,l,c){return(o===!0||o==="true"||o==="True"||o===1?1:0)-(t===!0||t==="true"||t==="True"||t===1?1:0)},array:function(o,t,e,n,r,l,c){var d,m=c.type||"length",b=c.alignEmptyValues,C=0,R=this.table;function x(L){var H;switch(d&&(L=d(L)),m){case"length":H=L.length;break;case"sum":H=L.reduce(function(B,et){return B+et});break;case"max":H=Math.max.apply(null,L);break;case"min":H=Math.min.apply(null,L);break;case"avg":H=L.reduce(function(B,et){return B+et})/L.length;break;case"string":H=L.join("")}return H}if(c.valueMap&&(d=typeof c.valueMap=="string"?function(L){return L.map(H=>E.retrieveNestedData(R.options.nestedFieldSeparator,c.valueMap,H))}:c.valueMap),Array.isArray(o)){if(Array.isArray(t))return m==="string"?String(x(o)).toLowerCase().localeCompare(String(x(t)).toLowerCase()):x(t)-x(o);C=1}else C=Array.isArray(t)?-1:0;return(b==="top"&&l==="desc"||b==="bottom"&&l==="asc")&&(C*=-1),C},exists:function(o,t,e,n,r,l,c){return(o===void 0?0:1)-(t===void 0?0:1)},alphanum:function(o,t,e,n,r,l,c){var d,m,b,C,R,x=0,L=/(\d+)|(\D+)/g,H=/\d/,B=c.alignEmptyValues,et=0;if(o||o===0){if(t||t===0){if(isFinite(o)&&isFinite(t))return o-t;if((d=String(o).toLowerCase())===(m=String(t).toLowerCase()))return 0;if(!H.test(d)||!H.test(m))return d>m?1:-1;for(d=d.match(L),m=m.match(L),R=d.length>m.length?m.length:d.length;x<R;)if((b=d[x])!==(C=m[x++]))return isFinite(b)&&isFinite(C)?(b.charAt(0)==="0"&&(b="."+b),C.charAt(0)==="0"&&(C="."+C),b-C):b>C?1:-1;return d.length>m.length}et=1}else et=t||t===0?-1:0;return(B==="top"&&l==="desc"||B==="bottom"&&l==="asc")&&(et*=-1),et}};const ki=class ki extends Z{constructor(t){super(t),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerTableOption("headerSortClickElement","header"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),this.table.options.sortMode==="remote"&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(t,e,n,r){var l=this.getSort();return l.forEach(c=>{delete c.column}),r.sort=l,r}userSetSort(t,e){this.setSort(t,e),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(t){var e,n,r=!1;switch(typeof t.definition.sorter){case"string":ki.sorters[t.definition.sorter]?r=ki.sorters[t.definition.sorter]:console.warn("Sort Error - No such sorter found: ",t.definition.sorter);break;case"function":r=t.definition.sorter}if(t.modules.sort={sorter:r,dir:"none",params:t.definition.sorterParams||{},startingDir:t.definition.headerSortStartingDir||"asc",tristate:t.definition.headerSortTristate},t.definition.headerSort!==!1){switch((e=t.getElement()).classList.add("tabulator-sortable"),(n=document.createElement("div")).classList.add("tabulator-col-sorter"),this.table.options.headerSortClickElement==="icon"?n.classList.add("tabulator-col-sorter-element"):e.classList.add("tabulator-col-sorter-element"),this.table.options.headerSortElement){case"function":break;case"object":n.appendChild(this.table.options.headerSortElement);break;default:n.innerHTML=this.table.options.headerSortElement}t.titleHolderElement.appendChild(n),t.modules.sort.element=n,this.setColumnHeaderSortIcon(t,"none"),this.table.options.headerSortClickElement==="icon"&&n.addEventListener("mousedown",l=>{l.stopPropagation()}),(this.table.options.headerSortClickElement==="icon"?n:e).addEventListener("click",l=>{var c="",d=[],m=!1;if(t.modules.sort){if(t.modules.sort.tristate)c=t.modules.sort.dir=="none"?t.modules.sort.startingDir:t.modules.sort.dir==t.modules.sort.startingDir?t.modules.sort.dir=="asc"?"desc":"asc":"none";else switch(t.modules.sort.dir){case"asc":c="desc";break;case"desc":c="asc";break;default:c=t.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(l.shiftKey||l.ctrlKey)?(m=(d=this.getSort()).findIndex(b=>b.field===t.getField()),m>-1?(d[m].dir=c,m=d.splice(m,1)[0],c!="none"&&d.push(m)):c!="none"&&d.push({column:t,dir:c}),this.setSort(d)):c=="none"?this.clear():this.setSort(t,c),this.refreshSort()}})}}refreshSort(){this.table.options.sortMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0)}hasChanged(){var t=this.changed;return this.changed=!1,t}getSort(){var t=[];return this.sortList.forEach(function(e){e.column&&t.push({column:e.column.getComponent(),field:e.column.getField(),dir:e.dir})}),t}setSort(t,e){var n=this,r=[];Array.isArray(t)||(t=[{column:t,dir:e}]),t.forEach(function(l){var c;(c=n.table.columnManager.findColumn(l.column))?(l.column=c,r.push(l),n.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",l.column)}),n.sortList=r,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(t){var e,n=this.table.rowManager.activeRows[0],r="string";if(n&&(n=n.getData(),t.getField()))switch(typeof(e=t.getFieldValue(n))){case"undefined":r="string";break;case"boolean":r="boolean";break;default:isNaN(e)||e===""?e.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(r="alphanum"):r="number"}return ki.sorters[r]}sort(t,e){var n=this,r=this.table.options.sortOrderReverse?n.sortList.slice().reverse():n.sortList,l=[],c=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",n.getSort()),e||n.clearColumnHeaders(),this.table.options.sortMode!=="remote"?(r.forEach(function(d,m){var b;d.column&&((b=d.column.modules.sort)&&(b.sorter||(b.sorter=n.findSorter(d.column)),d.params=typeof b.params=="function"?b.params(d.column.getComponent(),d.dir):b.params,l.push(d)),e||n.setColumnHeader(d.column,d.dir))}),l.length&&n._sortItems(t,l)):e||r.forEach(function(d,m){n.setColumnHeader(d.column,d.dir)}),this.subscribedExternal("dataSorted")&&(t.forEach(d=>{c.push(d.getComponent())}),this.dispatchExternal("dataSorted",n.getSort(),c)),t}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(t=>{t.modules.sort&&(t.modules.sort.dir="none",t.getElement().setAttribute("aria-sort","none"),this.setColumnHeaderSortIcon(t,"none"))})}setColumnHeader(t,e){t.modules.sort.dir=e,t.getElement().setAttribute("aria-sort",e==="asc"?"ascending":"descending"),this.setColumnHeaderSortIcon(t,e)}setColumnHeaderSortIcon(t,e){var n,r=t.modules.sort.element;if(t.definition.headerSort&&typeof this.table.options.headerSortElement=="function"){for(;r.firstChild;)r.removeChild(r.firstChild);typeof(n=this.table.options.headerSortElement.call(this.table,t.getComponent(),e))=="object"?r.appendChild(n):r.innerHTML=n}}_sortItems(t,e){var n=e.length-1;t.sort((r,l)=>{for(var c,d=n;d>=0;d--){let m=e[d];if((c=this._sortRow(r,l,m.column,m.dir,m.params))!==0)break}return c})}_sortRow(t,e,n,r,l){var c,d,m=r=="asc"?t:e,b=r=="asc"?e:t;return t=(t=n.getFieldValue(m.getData()))!==void 0?t:"",e=(e=n.getFieldValue(b.getData()))!==void 0?e:"",c=m.getComponent(),d=b.getComponent(),n.modules.sort.sorter.call(this,t,e,c,d,n.getComponent(),r,l)}};G(ki,"moduleName","sort"),G(ki,"sorters",Vu);let Eo=ki;class Wu{constructor(t,e){this.columnCount=t,this.rowCount=e,this.columnString=[],this.columns=[],this.rows=[]}genColumns(t){var e=Math.max(this.columnCount,Math.max(...t.map(n=>n.length)));this.columnString=[],this.columns=[];for(let n=1;n<=e;n++)this.incrementChar(this.columnString.length-1),this.columns.push(this.columnString.join(""));return this.columns}genRows(t){var e=Math.max(this.rowCount,t.length);this.rows=[];for(let n=1;n<=e;n++)this.rows.push(n);return this.rows}incrementChar(t){let e=this.columnString[t];e?e!=="Z"?this.columnString[t]=String.fromCharCode(this.columnString[t].charCodeAt(0)+1):(this.columnString[t]="A",t?this.incrementChar(t-1):this.columnString.push("A")):this.columnString.push("A")}setRowCount(t){this.rowCount=t}setColumnCount(t){this.columnCount=t}}class Ra{constructor(t){return this._sheet=t,new Proxy(this,{get:function(e,n,r){return e[n]!==void 0?e[n]:e._sheet.table.componentFunctionBinder.handle("sheet",e._sheet,n)}})}getTitle(){return this._sheet.title}getKey(){return this._sheet.key}getDefinition(){return this._sheet.getDefinition()}getData(){return this._sheet.getData()}setData(t){return this._sheet.setData(t)}clear(){return this._sheet.clear()}remove(){return this._sheet.remove()}active(){return this._sheet.active()}setTitle(t){return this._sheet.setTitle(t)}setRows(t){return this._sheet.setRows(t)}setColumns(t){return this._sheet.setColumns(t)}}class xa extends h{constructor(t,e){super(t.table),this.spreadsheetManager=t,this.definition=e,this.title=this.definition.title||"",this.key=this.definition.key||this.definition.title,this.rowCount=this.definition.rows,this.columnCount=this.definition.columns,this.data=this.definition.data||[],this.element=null,this.isActive=!1,this.grid=new Wu(this.columnCount,this.rowCount),this.defaultColumnDefinition={width:100,headerHozAlign:"center",headerSort:!1},this.columnDefinition=Object.assign(this.defaultColumnDefinition,this.options("spreadsheetColumnDefinition")),this.columnDefs=[],this.rowDefs=[],this.columnFields=[],this.columns=[],this.rows=[],this.scrollTop=null,this.scrollLeft=null,this.initialize(),this.dispatchExternal("sheetAdded",this.getComponent())}initialize(){this.initializeElement(),this.initializeColumns(),this.initializeRows()}reinitialize(){this.initializeColumns(),this.initializeRows()}initializeElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-spreadsheet-tab"),this.element.innerText=this.title,this.element.addEventListener("click",()=>{this.spreadsheetManager.loadSheet(this)})}initializeColumns(){this.grid.setColumnCount(this.columnCount),this.columnFields=this.grid.genColumns(this.data),this.columnDefs=[],this.columnFields.forEach(t=>{var e=Object.assign({},this.columnDefinition);e.field=t,e.title=t,this.columnDefs.push(e)})}initializeRows(){var t;this.grid.setRowCount(this.rowCount),t=this.grid.genRows(this.data),this.rowDefs=[],t.forEach((e,n)=>{var r={_id:e},l=this.data[n];l&&l.forEach((c,d)=>{var m=this.columnFields[d];m&&(r[m]=c)}),this.rowDefs.push(r)})}unload(){this.isActive=!1,this.scrollTop=this.table.rowManager.scrollTop,this.scrollLeft=this.table.rowManager.scrollLeft,this.data=this.getData(!0),this.element.classList.remove("tabulator-spreadsheet-tab-active")}load(){var t=!this.isActive;this.isActive=!0,this.table.blockRedraw(),this.table.setData([]),this.table.setColumns(this.columnDefs),this.table.setData(this.rowDefs),this.table.restoreRedraw(),t&&this.scrollTop!==null&&(this.table.rowManager.element.scrollLeft=this.scrollLeft,this.table.rowManager.element.scrollTop=this.scrollTop),this.element.classList.add("tabulator-spreadsheet-tab-active"),this.dispatchExternal("sheetLoaded",this.getComponent())}getComponent(){return new Ra(this)}getDefinition(){return{title:this.title,key:this.key,rows:this.rowCount,columns:this.columnCount,data:this.getData()}}getData(t){var e,n,r,l=[];return this.rowDefs.forEach(c=>{var d=[];this.columnFields.forEach(m=>{d.push(c[m])}),l.push(d)}),t||this.options("spreadsheetOutputFull")||(e=l.map(c=>c.findLastIndex(d=>d!==void 0)+1),n=Math.max(...e),r=e.findLastIndex(c=>c>0)+1,l=(l=l.slice(0,r)).map(c=>c.slice(0,n))),l}setData(t){this.data=t,this.reinitialize(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}clear(){this.setData([])}setTitle(t){this.title=t,this.element.innerText=t,this.dispatchExternal("sheetUpdated",this.getComponent())}setRows(t){this.rowCount=t,this.initializeRows(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}setColumns(t){this.columnCount=t,this.reinitialize(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}remove(){this.spreadsheetManager.removeSheet(this)}destroy(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.dispatchExternal("sheetRemoved",this.getComponent())}active(){this.spreadsheetManager.loadSheet(this)}}var ju={integer:function(o,t,e){return t===""||t==null||(t=Number(t),!isNaN(t)&&isFinite(t)&&Math.floor(t)===t)},float:function(o,t,e){return t===""||t==null||(t=Number(t),!isNaN(t)&&isFinite(t)&&t%1!=0)},numeric:function(o,t,e){return t===""||t==null||!isNaN(t)},string:function(o,t,e){return t===""||t==null||isNaN(t)},alphanumeric:function(o,t,e){return t===""||t==null||new RegExp(/^[a-z0-9]+$/i).test(t)},max:function(o,t,e){return t===""||t==null||parseFloat(t)<=e},min:function(o,t,e){return t===""||t==null||parseFloat(t)>=e},starts:function(o,t,e){return t===""||t==null||String(t).toLowerCase().startsWith(String(e).toLowerCase())},ends:function(o,t,e){return t===""||t==null||String(t).toLowerCase().endsWith(String(e).toLowerCase())},minLength:function(o,t,e){return t===""||t==null||String(t).length>=e},maxLength:function(o,t,e){return t===""||t==null||String(t).length<=e},in:function(o,t,e){return t===""||t==null||(typeof e=="string"&&(e=e.split("|")),e.indexOf(t)>-1)},regex:function(o,t,e){return t===""||t==null||new RegExp(e).test(t)},unique:function(o,t,e){if(t===""||t==null)return!0;var n=!0,r=o.getData(),l=o.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(c){var d=c.getData();d!==r&&t==l.getFieldValue(d)&&(n=!1)}),n},required:function(o,t,e){return t!==""&&t!=null}};const ks=class ks extends Z{constructor(t){super(t),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("edit-success",this.editValidate.bind(this)),this.subscribe("edit-editor-clear",this.editorClear.bind(this)),this.subscribe("edit-edited-clear",this.editedClear.bind(this))}editValidate(t,e,n){var r=this.table.options.validationMode==="manual"||this.validate(t.column.modules.validate,t,e);return r!==!0&&setTimeout(()=>{t.getElement().classList.add("tabulator-validation-fail"),this.dispatchExternal("validationFailed",t.getComponent(),e,r)}),r}editorClear(t,e){e&&t.column.modules.validate&&this.cellValidate(t),t.getElement().classList.remove("tabulator-validation-fail")}editedClear(t){t.modules.validate&&(t.modules.validate.invalid=!1)}cellIsValid(t){return t.modules.validate&&t.modules.validate.invalid||!0}cellValidate(t){return this.validate(t.column.modules.validate,t,t.getValue())}columnValidate(t){var e=[];return t.cells.forEach(n=>{this.cellValidate(n)!==!0&&e.push(n.getComponent())}),!e.length||e}rowValidate(t){var e=[];return t.cells.forEach(n=>{this.cellValidate(n)!==!0&&e.push(n.getComponent())}),!e.length||e}userClearCellValidation(t){t||(t=this.getInvalidCells()),Array.isArray(t)||(t=[t]),t.forEach(e=>{this.clearValidation(e._getSelf())})}userValidate(t){var e=[];return this.table.rowManager.rows.forEach(n=>{var r=(n=n.getComponent()).validate();r!==!0&&(e=e.concat(r))}),!e.length||e}initializeColumnCheck(t){t.definition.validator!==void 0&&this.initializeColumn(t)}initializeColumn(t){var e,n=this,r=[];t.definition.validator&&(Array.isArray(t.definition.validator)?t.definition.validator.forEach(l=>{(e=n._extractValidator(l))&&r.push(e)}):(e=this._extractValidator(t.definition.validator))&&r.push(e),t.modules.validate=!!r.length&&r)}_extractValidator(t){var e,n,r;switch(typeof t){case"string":return(r=t.indexOf(":"))>-1?(e=t.substring(0,r),n=t.substring(r+1)):e=t,this._buildValidator(e,n);case"function":return this._buildValidator(t);case"object":return this._buildValidator(t.type,t.parameters)}}_buildValidator(t,e){var n=typeof t=="function"?t:ks.validators[t];return n?{type:typeof t=="function"?"function":t,func:n,params:e}:(console.warn("Validator Setup Error - No matching validator found:",t),!1)}validate(t,e,n){var r=this,l=[],c=this.invalidCells.indexOf(e);return t&&t.forEach(d=>{d.func.call(r,e.getComponent(),n,d.params)||l.push({type:d.type,parameters:d.params})}),e.modules.validate||(e.modules.validate={}),l.length?(e.modules.validate.invalid=l,this.table.options.validationMode!=="manual"&&e.getElement().classList.add("tabulator-validation-fail"),c==-1&&this.invalidCells.push(e)):(e.modules.validate.invalid=!1,e.getElement().classList.remove("tabulator-validation-fail"),c>-1&&this.invalidCells.splice(c,1)),!l.length||l}getInvalidCells(){var t=[];return this.invalidCells.forEach(e=>{t.push(e.getComponent())}),t}clearValidation(t){var e;t.modules.validate&&t.modules.validate.invalid&&(t.getElement().classList.remove("tabulator-validation-fail"),t.modules.validate.invalid=!1,(e=this.invalidCells.indexOf(t))>-1&&this.invalidCells.splice(e,1))}};G(ks,"moduleName","validate"),G(ks,"validators",ju);let Co=ks;var yo=Object.freeze({__proto__:null,AccessorModule:Ut,AjaxModule:y,ClipboardModule:A,ColumnCalcsModule:j,DataTreeModule:(To=class extends Z{constructor(o){super(o),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var o=null,t=this.table.options;switch(this.field=t.dataTreeChildField,this.indent=t.dataTreeChildIndent,this.options("movableRows")&&console.warn("The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior"),t.dataTreeBranchElement?t.dataTreeBranchElement===!0?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):typeof t.dataTreeBranchElement=="string"?((o=document.createElement("div")).innerHTML=t.dataTreeBranchElement,this.branchEl=o.firstChild):this.branchEl=t.dataTreeBranchElement:(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch-empty")),t.dataTreeCollapseElement?typeof t.dataTreeCollapseElement=="string"?((o=document.createElement("div")).innerHTML=t.dataTreeCollapseElement,this.collapseEl=o.firstChild):this.collapseEl=t.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),t.dataTreeExpandElement?typeof t.dataTreeExpandElement=="string"?((o=document.createElement("div")).innerHTML=t.dataTreeExpandElement,this.expandEl=o.firstChild):this.expandEl=t.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof t.dataTreeStartExpanded){case"boolean":this.startOpen=function(e,n){return t.dataTreeStartExpanded};break;case"function":this.startOpen=t.dataTreeStartExpanded;break;default:this.startOpen=function(e,n){return t.dataTreeStartExpanded[n]}}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.subscribe("table-redrawing",this.tableRedrawing.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}tableRedrawing(o){o&&this.table.rowManager.getRows().forEach(t=>{this.reinitializeRowChildren(t)})}initializeElementField(){var o=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||!!o&&o.field}getRowChildren(o){return this.getTreeChildren(o,!0)}columnMoving(){var o=[];return this.table.rowManager.rows.forEach(t=>{o=o.concat(this.getTreeChildren(t,!1,!0))}),o}rowDataChanged(o,t,e){this.redrawNeeded(e)&&(this.initializeRow(o),t&&(this.layoutRow(o),this.refreshData(!0)))}cellValueChanged(o){o.column.getField()===this.elementField&&this.layoutRow(o.row)}initializeRow(o){var t=o.getData()[this.field],e=Array.isArray(t),n=e||!e&&typeof t=="object"&&t!==null;!n&&o.modules.dataTree&&o.modules.dataTree.branchEl&&o.modules.dataTree.branchEl.parentNode.removeChild(o.modules.dataTree.branchEl),!n&&o.modules.dataTree&&o.modules.dataTree.controlEl&&o.modules.dataTree.controlEl.parentNode.removeChild(o.modules.dataTree.controlEl),o.modules.dataTree={index:o.modules.dataTree?o.modules.dataTree.index:0,open:!!n&&(o.modules.dataTree?o.modules.dataTree.open:this.startOpen(o.getComponent(),0)),controlEl:!(!o.modules.dataTree||!n)&&o.modules.dataTree.controlEl,branchEl:!(!o.modules.dataTree||!n)&&o.modules.dataTree.branchEl,parent:!!o.modules.dataTree&&o.modules.dataTree.parent,children:n}}reinitializeRowChildren(o){this.getTreeChildren(o,!1,!0).forEach(function(t){t.reinitialize(!0)})}layoutRow(o){var t=(this.elementField?o.getCell(this.elementField):o.getCells()[0]).getElement(),e=o.modules.dataTree;e.branchEl&&(e.branchEl.parentNode&&e.branchEl.parentNode.removeChild(e.branchEl),e.branchEl=!1),e.controlEl&&(e.controlEl.parentNode&&e.controlEl.parentNode.removeChild(e.controlEl),e.controlEl=!1),this.generateControlElement(o,t),o.getElement().classList.add("tabulator-tree-level-"+e.index),e.index&&(this.branchEl?(e.branchEl=this.branchEl.cloneNode(!0),t.insertBefore(e.branchEl,t.firstChild),this.table.rtl?e.branchEl.style.marginRight=(e.branchEl.offsetWidth+e.branchEl.style.marginLeft)*(e.index-1)+e.index*this.indent+"px":e.branchEl.style.marginLeft=(e.branchEl.offsetWidth+e.branchEl.style.marginRight)*(e.index-1)+e.index*this.indent+"px"):this.table.rtl?t.style.paddingRight=parseInt(window.getComputedStyle(t,null).getPropertyValue("padding-right"))+e.index*this.indent+"px":t.style.paddingLeft=parseInt(window.getComputedStyle(t,null).getPropertyValue("padding-left"))+e.index*this.indent+"px")}generateControlElement(o,t){var e=o.modules.dataTree,n=e.controlEl;t=t||o.getCells()[0].getElement(),e.children!==!1&&(e.open?(e.controlEl=this.collapseEl.cloneNode(!0),e.controlEl.addEventListener("click",r=>{r.stopPropagation(),this.collapseRow(o)})):(e.controlEl=this.expandEl.cloneNode(!0),e.controlEl.addEventListener("click",r=>{r.stopPropagation(),this.expandRow(o)})),e.controlEl.addEventListener("mousedown",r=>{r.stopPropagation()}),n&&n.parentNode===t?n.parentNode.replaceChild(e.controlEl,n):t.insertBefore(e.controlEl,t.firstChild))}getRows(o){var t=[];return o.forEach((e,n)=>{var r;t.push(e),e instanceof W&&(e.create(),(r=e.modules.dataTree).index||r.children===!1||this.getChildren(e,!1,!0).forEach(l=>{l.create(),t.push(l)}))}),t}getChildren(o,t,e){var n=o.modules.dataTree,r=[],l=[];return n.children!==!1&&(n.open||t)&&(Array.isArray(n.children)||(n.children=this.generateChildren(o)),r=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(n.children):n.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(r,e),r.forEach(c=>{l.push(c),this.getChildren(c,!1,!0).forEach(d=>{l.push(d)})})),l}generateChildren(o){var t=[],e=o.getData()[this.field];return Array.isArray(e)||(e=[e]),e.forEach(n=>{var r=new W(n||{},this.table.rowManager);r.create(),r.modules.dataTree.index=o.modules.dataTree.index+1,r.modules.dataTree.parent=o,r.modules.dataTree.children&&(r.modules.dataTree.open=this.startOpen(r.getComponent(),r.modules.dataTree.index)),t.push(r)}),t}expandRow(o,t){var e=o.modules.dataTree;e.children!==!1&&(e.open=!0,o.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",o.getComponent(),o.modules.dataTree.index))}collapseRow(o){var t=o.modules.dataTree;t.children!==!1&&(t.open=!1,o.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",o.getComponent(),o.modules.dataTree.index))}toggleRow(o){var t=o.modules.dataTree;t.children!==!1&&(t.open?this.collapseRow(o):this.expandRow(o))}isRowExpanded(o){return o.modules.dataTree.open}getTreeParent(o){return!!o.modules.dataTree.parent&&o.modules.dataTree.parent.getComponent()}getTreeParentRoot(o){return o.modules.dataTree&&o.modules.dataTree.parent?this.getTreeParentRoot(o.modules.dataTree.parent):o}getFilteredTreeChildren(o){var t=o.modules.dataTree,e=[];return t.children&&(Array.isArray(t.children)||(t.children=this.generateChildren(o)),(this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(t.children):t.children).forEach(n=>{n instanceof W&&e.push(n)})),e}rowDeleting(o){var t=o.modules.dataTree;t&&t.children&&Array.isArray(t.children)&&t.children.forEach(e=>{e instanceof W&&e.wipe()})}rowDelete(o){var t,e=o.modules.dataTree.parent;e&&((t=this.findChildIndex(o,e))!==!1&&e.data[this.field].splice(t,1),e.data[this.field].length||delete e.data[this.field],this.initializeRow(e),this.layoutRow(e)),this.refreshData(!0)}addTreeChildRow(o,t,e,n){var r=!1;typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(o.data[this.field])||(o.data[this.field]=[],o.modules.dataTree.open=this.startOpen(o.getComponent(),o.modules.dataTree.index)),n!==void 0&&(r=this.findChildIndex(n,o))!==!1&&o.data[this.field].splice(e?r:r+1,0,t),r===!1&&(e?o.data[this.field].unshift(t):o.data[this.field].push(t)),this.initializeRow(o),this.layoutRow(o),this.refreshData(!0)}findChildIndex(o,t){var e=!1;return typeof o=="object"?o instanceof W?e=o.data:o instanceof O?e=o._getSelf().data:typeof HTMLElement<"u"&&o instanceof HTMLElement?t.modules.dataTree&&(e=t.modules.dataTree.children.find(n=>n instanceof W&&n.element===o))&&(e=e.data):o===null&&(e=!1):e=o!==void 0&&t.data[this.field].find(n=>n.data[this.table.options.index]==o),e&&(Array.isArray(t.data[this.field])&&(e=t.data[this.field].indexOf(e)),e==-1&&(e=!1)),e}getTreeChildren(o,t,e){var n=o.modules.dataTree,r=[];return n&&n.children&&(Array.isArray(n.children)||(n.children=this.generateChildren(o)),n.children.forEach(l=>{l instanceof W&&(r.push(t?l.getComponent():l),e&&this.getTreeChildren(l,t,e).forEach(c=>{r.push(c)}))})),r}getChildField(){return this.field}redrawNeeded(o){return!!this.field&&o[this.field]!==void 0||!!this.elementField&&o[this.elementField]!==void 0}},G(To,"moduleName","dataTree"),To),DownloadModule:z,EditModule:at,ExportModule:Ft,FilterModule:Kt,FormatModule:Gi,FrozenColumnsModule:(Ro=class extends Z{constructor(o){super(o),this.leftColumns=[],this.rightColumns=[],this.initializationMode="left",this.active=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("column-add",this.reinitializeColumns.bind(this)),this.subscribe("column-deleted",this.reinitializeColumns.bind(this)),this.subscribe("column-hide",this.reinitializeColumns.bind(this)),this.subscribe("column-show",this.reinitializeColumns.bind(this)),this.subscribe("columns-loaded",this.reinitializeColumns.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(o){this.layoutElement(o.element,o.column)}reinitializeColumns(){this.reset(),this.table.columnManager.columnsByIndex.forEach(o=>{this.initializeColumn(o)}),this.layout()}initializeColumn(o){var t={margin:0,edge:!1};o.isGroup||(this.frozenCheck(o)?(t.position=this.initializationMode,this.initializationMode=="left"?this.leftColumns.push(o):this.rightColumns.unshift(o),this.active=!0,o.modules.frozen=t):this.initializationMode="right")}frozenCheck(o){return o.parent.isGroup&&o.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),o.parent.isGroup?this.frozenCheck(o.parent):o.definition.frozen}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(o){o.forEach(t=>{t.calcs.top&&this.layoutRow(t.calcs.top),t.calcs.bottom&&this.layoutRow(t.calcs.bottom),t.groupList&&t.groupList.length&&this.layoutGroupCalcs(t.groupList)})}layoutColumnPosition(o){var t=[],e=0,n=0;this.leftColumns.forEach((r,l)=>{if(r.modules.frozen.marginValue=e,r.modules.frozen.margin=r.modules.frozen.marginValue+"px",r.visible&&(e+=r.getWidth()),l==this.leftColumns.length-1?r.modules.frozen.edge=!0:r.modules.frozen.edge=!1,r.parent.isGroup){var c=this.getColGroupParentElement(r);t.includes(c)||(this.layoutElement(c,r),t.push(c)),c.classList.toggle("tabulator-frozen-left",r.modules.frozen.edge&&r.modules.frozen.position==="left"),c.classList.toggle("tabulator-frozen-right",r.modules.frozen.edge&&r.modules.frozen.position==="right")}else this.layoutElement(r.getElement(),r);o&&r.cells.forEach(d=>{this.layoutElement(d.getElement(!0),r)})}),this.rightColumns.forEach((r,l)=>{r.modules.frozen.marginValue=n,r.modules.frozen.margin=r.modules.frozen.marginValue+"px",r.visible&&(n+=r.getWidth()),l==this.rightColumns.length-1?r.modules.frozen.edge=!0:r.modules.frozen.edge=!1,r.parent.isGroup?this.layoutElement(this.getColGroupParentElement(r),r):this.layoutElement(r.getElement(),r),o&&r.cells.forEach(c=>{this.layoutElement(c.getElement(!0),r)})})}getColGroupParentElement(o){return o.parent.isGroup?this.getColGroupParentElement(o.parent):o.getElement()}layout(){this.active&&!this.blocked&&(this.layoutColumnPosition(),this.reinitializeRows(),this.layoutCalcRows())}reinitializeRows(){var o=this.table.rowManager.getVisibleRows(!0);this.table.rowManager.getRows().filter(t=>!o.includes(t)).forEach(t=>{t.deinitialize()}),o.forEach(t=>{t.type==="row"&&this.layoutRow(t)})}layoutRow(o){this.table.options.layout==="fitDataFill"&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach(t=>{var e=o.getCell(t);e&&this.layoutElement(e.getElement(!0),t)}),this.rightColumns.forEach(t=>{var e=o.getCell(t);e&&this.layoutElement(e.getElement(!0),t)})}layoutElement(o,t){var e;t.modules.frozen&&o&&(o.style.position="sticky",e=this.table.rtl?t.modules.frozen.position==="left"?"right":"left":t.modules.frozen.position,o.style[e]=t.modules.frozen.margin,o.classList.add("tabulator-frozen"),o.classList.toggle("tabulator-frozen-left",t.modules.frozen.edge&&t.modules.frozen.position==="left"),o.classList.toggle("tabulator-frozen-right",t.modules.frozen.edge&&t.modules.frozen.position==="right"))}adjustForScrollbar(o){this.rightColumns.length&&(this.table.columnManager.getContentsElement().style.width="calc(100% - "+o+"px)")}getFrozenColumns(){return this.leftColumns.concat(this.rightColumns)}_calcSpace(o,t){var e=0;for(let n=0;n<t;n++)o[n].visible&&(e+=o[n].getWidth());return e}},G(Ro,"moduleName","frozenColumns"),Ro),FrozenRowsModule:(xo=class extends Z{constructor(o){super(o),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this)),this.registerTableOption("frozenRowsField","id"),this.registerTableOption("frozenRows",!1)}initialize(){var o=document.createDocumentFragment();this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),o.appendChild(document.createElement("br")),o.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(o,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10),this.table.options.frozenRows&&(this.subscribe("data-processed",this.initializeRows.bind(this)),this.subscribe("row-added",this.initializeRow.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this))),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}initializeRows(){this.table.rowManager.getRows().forEach(o=>{this.initializeRow(o)})}initializeRow(o){var t=this.table.options.frozenRows,e=typeof t;e==="number"?o.getPosition()&&o.getPosition()+this.rows.length<=t&&this.freezeRow(o):e==="function"?t.call(this.table,o.getComponent())&&this.freezeRow(o):Array.isArray(t)&&t.includes(o.data[this.options("frozenRowsField")])&&this.freezeRow(o)}isRowFrozen(o){return this.rows.indexOf(o)>-1}isFrozen(){return!!this.rows.length}visibleRows(o,t){return this.rows.forEach(e=>{t.push(e)}),t}getRows(o){var t=o.slice(0);return this.rows.forEach(function(e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}),t}freezeRow(o){o.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(o.modules.frozen=!0,this.topElement.appendChild(o.getElement()),o.initialize(),o.normalizeHeight(),this.rows.push(o),this.refreshData(!1,"display"),this.table.rowManager.adjustTableSize(),this.styleRows())}unfreezeRow(o){o.modules.frozen?(o.modules.frozen=!1,this.detachRow(o),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(o){var t=this.rows.indexOf(o);if(t>-1){var e=o.getElement();e.parentNode&&e.parentNode.removeChild(e),this.rows.splice(t,1)}}styleRows(o){this.rows.forEach((t,e)=>{this.table.rowManager.styleRow(t,e)})}},G(xo,"moduleName","frozenRows"),xo),GroupRowsModule:(So=class extends Z{constructor(o){super(o),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayHandler=this.getRows.bind(this),this.blockRedraw=!1,this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.subscribe("table-destroy",this._blockRedrawing.bind(this)),this.subscribe("rows-wipe",this._blockRedrawing.bind(this)),this.subscribe("rows-wiped",this._restore_redrawing.bind(this)),this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}_blockRedrawing(){this.blockRedraw=!0}_restore_redrawing(){this.blockRedraw=!1}configureGroupSetup(){if(this.table.options.groupBy){var o=this.table.options.groupBy,t=this.table.options.groupStartOpen,e=this.table.options.groupHeader;this.allowedValues=this.table.options.groupValues,Array.isArray(o)&&Array.isArray(e)&&o.length>e.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(n,r)=>{this.headerGenerator[0]=(l,c,d)=>(l===void 0?"":l)+"<span>("+c+" "+(c===1?n:r.groups.items)+")</span>"}),this.groupIDLookups=[],o?this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="table"&&this.table.options.columnCalcs!="both"&&this.table.modules.columnCalcs.removeCalcs():this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="group"&&this.table.columnManager.getRealColumns().forEach(n=>{n.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),n.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()}),Array.isArray(o)||(o=[o]),o.forEach((n,r)=>{var l,c;l=typeof n=="function"?n:(c=this.table.columnManager.getColumnByField(n))?function(d){return c.getFieldValue(d)}:function(d){return d[n]},this.groupIDLookups.push({field:typeof n!="function"&&n,func:l,values:!!this.allowedValues&&this.allowedValues[r]})}),t&&(Array.isArray(t)||(t=[t]),t.forEach(n=>{}),this.startOpen=t),e&&(this.headerGenerator=Array.isArray(e)?e:[e])}else this.groupList=[],this.groups={}}rowSample(o,t){if(this.table.options.groupBy){var e=this.getGroups(!1)[0];t.push(e.getRows(!1)[0])}return t}virtualRenderFill(){var o=this.table.rowManager.tableElement,t=this.table.rowManager.getVisibleRows();if(!this.table.options.groupBy)return t;t=t.filter(e=>e.type!=="group"),o.style.minWidth=t.length?"":this.table.columnManager.getWidth()+"px"}rowAddingIndex(o,t,e){if(this.table.options.groupBy){this.assignRowToGroup(o);var n=o.modules.group.rows;return n.length>1&&(!t||t&&n.indexOf(t)==-1?e?n[0]!==o&&(t=n[0],this.table.rowManager.moveRowInArray(o.modules.group.rows,o,t,!e)):n[n.length-1]!==o&&(t=n[n.length-1],this.table.rowManager.moveRowInArray(o.modules.group.rows,o,t,!e)):this.table.rowManager.moveRowInArray(o.modules.group.rows,o,t,!e)),t}}trackChanges(){this.dispatch("group-changed")}setGroupBy(o){this.table.options.groupBy=o,this.initialized||this.initialize(),this.configureGroupSetup(),!o&&this.table.modExists("columnCalcs")&&this.table.options.columnCalcs===!0&&this.table.modules.columnCalcs.reinitializeCalcs(),this.refreshData(),this.trackChanges()}setGroupValues(o){this.table.options.groupValues=o,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(o){this.table.options.groupStartOpen=o,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(o){this.table.options.groupHeader=o,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(o){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(o){return!!o.modules.group&&o.modules.group.getComponent()}rowMoving(o,t,e){if(this.table.options.groupBy){!e&&t instanceof Yt&&(t=this.table.rowManager.prevDisplayRow(o)||t);var n=t instanceof Yt?t:t.modules.group,r=o instanceof Yt?o:o.modules.group;n===r?this.table.rowManager.moveRowInArray(n.rows,o,t,e):(r&&r.removeRow(o),n.insertRow(o,t,e))}}rowDeleting(o){this.table.options.groupBy&&o.modules.group&&o.modules.group.removeRow(o)}rowsUpdated(o){this.table.options.groupBy&&this.updateGroupRows(!0)}cellUpdated(o){this.table.options.groupBy&&this.reassignRowToGroup(o.row)}getRows(o){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(o),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):o.slice(0)}getGroups(o){var t=[];return this.groupList.forEach(function(e){t.push(o?e.getComponent():e)}),t}getChildGroups(o){var t=[];return o||(o=this),o.groupList.forEach(e=>{e.groupList.length?t=t.concat(this.getChildGroups(e)):t.push(e)}),t}wipe(){this.table.options.groupBy&&(this.groupList.forEach(function(o){o.wipe()}),this.groupList=[],this.groups={})}pullGroupListData(o){var t=[];return o.forEach(e=>{var n={level:0,rowCount:0,headerContent:""},r=[];e.hasSubGroups?(r=this.pullGroupListData(e.groupList),n.level=e.level,n.rowCount=r.length-e.groupList.length,n.headerContent=e.generator(e.key,n.rowCount,e.rows,e),t.push(n),t=t.concat(r)):(n.level=e.level,n.headerContent=e.generator(e.key,e.rows.length,e.rows,e),n.rowCount=e.getRows().length,t.push(n),e.getRows().forEach(l=>{t.push(l.getData("data"))}))}),t}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(o){var t=!1;return this.options("dataTree")&&(o=this.table.modules.dataTree.getTreeParentRoot(o)),this.groupList.forEach(e=>{var n=e.getRowGroup(o);n&&(t=n)}),t}countGroups(){return this.groupList.length}generateGroups(o){var t=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(e=>{this.createGroup(e,0,t)}),o.forEach(e=>{this.assignRowToExistingGroup(e,t)})):o.forEach(e=>{this.assignRowToGroup(e,t)}),Object.values(t).forEach(e=>{e.wipe(!0)})}createGroup(o,t,e){var n,r=t+"_"+o;e=e||[],n=new Yt(this,!1,t,o,this.groupIDLookups[0].field,this.headerGenerator[0],e[r]),this.groups[r]=n,this.groupList.push(n)}assignRowToExistingGroup(o,t){var e="0_"+this.groupIDLookups[0].func(o.getData());this.groups[e]&&this.groups[e].addRow(o)}assignRowToGroup(o,t){var e=this.groupIDLookups[0].func(o.getData()),n=!this.groups["0_"+e];return n&&this.createGroup(e,0,t),this.groups["0_"+e].addRow(o),!n}reassignRowToGroup(o){if(o.type==="row"){var t=o.modules.group,e=t.getPath(),n=this.getExpectedPath(o);e.length==n.length&&e.every((r,l)=>r===n[l])||(t.removeRow(o),this.assignRowToGroup(o,this.groups),this.refreshData(!0))}}getExpectedPath(o){var t=[],e=o.getData();return this.groupIDLookups.forEach(n=>{t.push(n.func(e))}),t}updateGroupRows(o){var t=[];return this.blockRedraw||(this.groupList.forEach(e=>{t=t.concat(e.getHeadersAndRows())}),o&&this.refreshData(!0)),t}scrollHeaders(o){this.table.options.groupBy&&(this.table.options.renderHorizontal==="virtual"&&(o-=this.table.columnManager.renderer.vDomPadLeft),o+="px",this.groupList.forEach(t=>{t.scrollHeader(o)}))}removeGroup(o){var t,e=o.level+"_"+o.key;this.groups[e]&&(delete this.groups[e],(t=this.groupList.indexOf(o))>-1&&this.groupList.splice(t,1))}checkBasicModeGroupHeaderWidth(){var o=this.table.rowManager.tableElement,t=!0;this.table.rowManager.getDisplayRows().forEach((e,n)=>{this.table.rowManager.styleRow(e,n),o.appendChild(e.getElement()),e.initialize(!0),e.type!=="group"&&(t=!1)}),o.style.minWidth=t?this.table.columnManager.getWidth()+"px":""}},G(So,"moduleName","groupRows"),So),HistoryModule:uo,HtmlTableImportModule:(Mo=class extends Z{constructor(o){super(o),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&this.table.originalElement.tagName==="TABLE"&&(this.table.originalElement.childNodes.length?this.parseTable():console.warn("Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element."))}parseTable(){var o=this.table.originalElement,t=this.table.options,e=o.getElementsByTagName("th"),n=o.getElementsByTagName("tbody")[0],r=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),n=n?n.getElementsByTagName("tr"):[],this._extractOptions(o,t),e.length?this._extractHeaders(e,n):this._generateBlankHeaders(e,n);for(var l=0;l<n.length;l++){var c=n[l].getElementsByTagName("td"),d={};this.hasIndex||(d[t.index]=l);for(var m=0;m<c.length;m++){var b=c[m];this.fieldIndex[m]!==void 0&&(d[this.fieldIndex[m]]=b.innerHTML)}r.push(d)}t.data=r,this.dispatchExternal("htmlImported")}_extractOptions(o,t,e){var n=o.attributes,r=Object.keys(e||t),l={};for(var c in r.forEach(b=>{l[b.toLowerCase()]=b}),n){var d,m=n[c];m&&typeof m=="object"&&m.name&&m.name.indexOf("tabulator-")===0&&(d=m.name.replace("tabulator-",""),l[d]!==void 0&&(t[l[d]]=this._attribValue(m.value)))}}_attribValue(o){return o==="true"||o!=="false"&&o}_findCol(o){return this.table.options.columns.find(t=>t.title===o)||!1}_extractHeaders(o,t){for(var e=0;e<o.length;e++){var n,r=o[e],l=!1,c=this._findCol(r.textContent);c?l=!0:c={title:r.textContent.trim()},c.field||(c.field=r.textContent.trim().toLowerCase().replaceAll(" ","_")),(n=r.getAttribute("width"))&&!c.width&&(c.width=n),this._extractOptions(r,c,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[e]=c.field,c.field==this.table.options.index&&(this.hasIndex=!0),l||this.table.options.columns.push(c)}}_generateBlankHeaders(o,t){for(var e=0;e<o.length;e++){var n=o[e],r={title:"",field:"col"+e};this.fieldIndex[e]=r.field;var l=n.getAttribute("width");l&&(r.width=l),this.table.options.columns.push(r)}}},G(Mo,"moduleName","htmlTableImport"),Mo),ImportModule:po,InteractionModule:(Lo=class extends Z{constructor(o){super(o),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowMouseDown:"row-mousedown",rowMouseUp:"row-mouseup",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellMouseDown:"cell-mousedown",cellMouseUp:"cell-mouseup",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerMouseDown:"column-mousedown",headerMouseUp:"column-mouseup",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupMouseDown:"group-mousedown",groupMouseUp:"group-mouseup",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerMouseDown"),this.registerColumnOption("headerMouseUp"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellMouseDown"),this.registerColumnOption("cellMouseUp"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this)),this.subscribe("scroll-horizontal",this.clearTouchWatchers.bind(this)),this.subscribe("scroll-vertical",this.clearTouchWatchers.bind(this))}clearTouchWatchers(){Object.values(this.touchWatchers).forEach(o=>{for(let t in o)o[t]=null})}cellContentsSelectionFixer(o,t){var e;if(!this.table.modExists("edit")||this.table.modules.edit.currentCell!==t){o.preventDefault();try{document.selection?((e=document.body.createTextRange()).moveToElementText(t.getElement()),e.select()):window.getSelection&&((e=document.createRange()).selectNode(t.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(e))}catch{}}}initializeExternalEvents(){for(let o in this.eventMap)this.subscriptionChangeExternal(o,this.subscriptionChanged.bind(this,o))}subscriptionChanged(o,t){t?this.subscribers[o]||(this.eventMap[o].includes("-")?(this.subscribers[o]=this.handle.bind(this,o),this.subscribe(this.eventMap[o],this.subscribers[o])):this.subscribeTouchEvents(o)):this.eventMap[o].includes("-")?!this.subscribers[o]||this.columnSubscribers[o]||this.subscribedExternal(o)||(this.unsubscribe(this.eventMap[o],this.subscribers[o]),delete this.subscribers[o]):this.unsubscribeTouchEvents(o)}subscribeTouchEvents(o){var t=this.eventMap[o];this.touchSubscribers[t+"-touchstart"]||(this.touchSubscribers[t+"-touchstart"]=this.handleTouch.bind(this,t,"start"),this.touchSubscribers[t+"-touchend"]=this.handleTouch.bind(this,t,"end"),this.subscribe(t+"-touchstart",this.touchSubscribers[t+"-touchstart"]),this.subscribe(t+"-touchend",this.touchSubscribers[t+"-touchend"])),this.subscribers[o]=!0}unsubscribeTouchEvents(o){var t=!0,e=this.eventMap[o];if(this.subscribers[o]&&!this.subscribedExternal(o)){delete this.subscribers[o];for(let n in this.eventMap)this.eventMap[n]===e&&this.subscribers[n]&&(t=!1);t&&(this.unsubscribe(e+"-touchstart",this.touchSubscribers[e+"-touchstart"]),this.unsubscribe(e+"-touchend",this.touchSubscribers[e+"-touchend"]),delete this.touchSubscribers[e+"-touchstart"],delete this.touchSubscribers[e+"-touchend"])}}initializeColumn(o){var t=o.definition;for(let e in this.eventMap)t[e]&&(this.subscriptionChanged(e,!0),this.columnSubscribers[e]||(this.columnSubscribers[e]=[]),this.columnSubscribers[e].push(o))}handle(o,t,e){this.dispatchEvent(o,t,e)}handleTouch(o,t,e,n){var r=this.touchWatchers[o];switch(o==="column"&&(o="header"),t){case"start":r.tap=!0,clearTimeout(r.tapHold),r.tapHold=setTimeout(()=>{clearTimeout(r.tapHold),r.tapHold=null,r.tap=null,clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(o+"TapHold",e,n)},1e3);break;case"end":r.tap&&(r.tap=null,this.dispatchEvent(o+"Tap",e,n)),r.tapDbl?(clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(o+"DblTap",e,n)):r.tapDbl=setTimeout(()=>{clearTimeout(r.tapDbl),r.tapDbl=null},300),clearTimeout(r.tapHold),r.tapHold=null}}dispatchEvent(o,t,e){var n,r=e.getComponent();this.columnSubscribers[o]&&(e instanceof g?n=e.column.definition[o]:e instanceof v&&(n=e.definition[o]),n&&n(t,r)),this.dispatchExternal(o,t,r)}},G(Lo,"moduleName","interaction"),Lo),KeybindingsModule:mo,MenuModule:(ko=class extends Z{constructor(o){super(o),this.menuContainer=null,this.nestedMenuBlock=!1,this.currentComponent=null,this.rootPopup=null,this.columnSubscribers={},this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("rowDblClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("groupDblClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerDblClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("headerMenuIcon"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu"),this.registerColumnOption("dblClickMenu")}initialize(){this.deprecatedOptionsCheck(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu)),this.table.options.rowDblClickMenu&&this.subscribe("row-dblclick",this.loadMenuEvent.bind(this,this.table.options.rowDblClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu)),this.table.options.groupDblClickMenu&&this.subscribe("group-dblclick",this.loadMenuEvent.bind(this,this.table.options.groupDblClickMenu))}initializeColumn(o){var t=o.definition;t.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),t.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),t.headerDblClickMenu&&!this.columnSubscribers.headerDblClickMenu&&(this.columnSubscribers.headerDblClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerDblClickMenu"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickMenu)),t.headerMenu&&this.initializeColumnHeaderMenu(o),t.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),t.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu)),t.dblClickMenu&&!this.columnSubscribers.dblClickMenu&&(this.columnSubscribers.dblClickMenu=this.loadMenuTableCellEvent.bind(this,"dblClickMenu"),this.subscribe("cell-dblclick",this.columnSubscribers.dblClickMenu))}initializeColumnHeaderMenu(o){var t,e=o.definition.headerMenuIcon;(t=document.createElement("span")).classList.add("tabulator-header-popup-button"),e?(typeof e=="function"&&(e=e(o.getComponent())),e instanceof HTMLElement?t.appendChild(e):t.innerHTML=e):t.innerHTML="&vellip;",t.addEventListener("click",n=>{n.stopPropagation(),n.preventDefault(),this.loadMenuEvent(o.definition.headerMenu,n,o)}),o.titleElement.insertBefore(t,o.titleElement.firstChild)}loadMenuTableCellEvent(o,t,e){e._cell&&(e=e._cell),e.column.definition[o]&&this.loadMenuEvent(e.column.definition[o],t,e)}loadMenuTableColumnEvent(o,t,e){e._column&&(e=e._column),e.definition[o]&&this.loadMenuEvent(e.definition[o],t,e)}loadMenuEvent(o,t,e){e._group?e=e._group:e._row&&(e=e._row),o=typeof o=="function"?o.call(this.table,t,e.getComponent()):o,this.loadMenu(t,e,o)}loadMenu(o,t,e,n,r){var l,c=!(o instanceof MouseEvent),d=document.createElement("div");if(d.classList.add("tabulator-menu"),c||o.preventDefault(),e&&e.length){if(n)l=r.child(d);else{if(this.nestedMenuBlock){if(this.rootPopup)return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.rootPopup&&this.rootPopup.hide(),this.rootPopup=l=this.popup(d)}e.forEach(m=>{var b=document.createElement("div"),C=m.label,R=m.disabled;m.separator?b.classList.add("tabulator-menu-separator"):(b.classList.add("tabulator-menu-item"),typeof C=="function"&&(C=C.call(this.table,t.getComponent())),C instanceof Node?b.appendChild(C):b.innerHTML=C,typeof R=="function"&&(R=R.call(this.table,t.getComponent())),R?(b.classList.add("tabulator-menu-item-disabled"),b.addEventListener("click",x=>{x.stopPropagation()})):m.menu&&m.menu.length?b.addEventListener("click",x=>{x.stopPropagation(),this.loadMenu(x,t,m.menu,b,l)}):m.action&&b.addEventListener("click",x=>{m.action(x,t.getComponent())}),m.menu&&m.menu.length&&b.classList.add("tabulator-menu-item-submenu")),d.appendChild(b)}),d.addEventListener("click",m=>{this.rootPopup&&this.rootPopup.hide()}),l.show(n||o),l===this.rootPopup&&(this.rootPopup.hideOnBlur(()=>{this.rootPopup=null,this.currentComponent&&(this.dispatch("menu-closed",e,l),this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)}),this.currentComponent=t,this.dispatch("menu-opened",e,l),this.dispatchExternal("menuOpened",t.getComponent()))}}},G(ko,"moduleName","menu"),ko),MoveColumnsModule:(Ao=class extends Z{constructor(o){super(o),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var o=document.createElement("div");return o.classList.add("tabulator-col"),o.classList.add("tabulator-col-placeholder"),o}initialize(){this.table.options.movableColumns&&(this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("alert-show",this.abortMove.bind(this)))}abortMove(){clearTimeout(this.checkTimeout)}initializeColumn(o){var t,e=this,n={};o.modules.frozen||o.isGroup||o.isRowHeader||(t=o.getElement(),n.mousemove=(function(r){o.parent===e.moving.parent&&((e.touchMove?r.touches[0].pageX:r.pageX)-E.elOffset(t).left+e.table.columnManager.contentsElement.scrollLeft>o.getWidth()/2?e.toCol===o&&e.toColAfter||(t.parentNode.insertBefore(e.placeholderElement,t.nextSibling),e.moveColumn(o,!0)):(e.toCol!==o||e.toColAfter)&&(t.parentNode.insertBefore(e.placeholderElement,t),e.moveColumn(o,!1)))}).bind(e),t.addEventListener("mousedown",function(r){e.touchMove=!1,r.which===1&&(e.checkTimeout=setTimeout(function(){e.startMove(r,o)},e.checkPeriod))}),t.addEventListener("mouseup",function(r){r.which===1&&e.checkTimeout&&clearTimeout(e.checkTimeout)}),e.bindTouchEvents(o)),o.modules.moveColumn=n}bindTouchEvents(o){var t,e,n,r,l,c,d=o.getElement(),m=!1;d.addEventListener("touchstart",b=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,t=o.nextColumn(),n=t?t.getWidth()/2:0,e=o.prevColumn(),r=e?e.getWidth()/2:0,l=0,c=0,m=!1,this.startMove(b,o)},this.checkPeriod)},{passive:!0}),d.addEventListener("touchmove",b=>{var C,R;this.moving&&(this.moveHover(b),m||(m=b.touches[0].pageX),(C=b.touches[0].pageX-m)>0?t&&C-l>n&&(R=t)!==o&&(m=b.touches[0].pageX,R.getElement().parentNode.insertBefore(this.placeholderElement,R.getElement().nextSibling),this.moveColumn(R,!0)):e&&-C-c>r&&(R=e)!==o&&(m=b.touches[0].pageX,R.getElement().parentNode.insertBefore(this.placeholderElement,R.getElement()),this.moveColumn(R,!1)),R&&(t=R.nextColumn(),l=n,n=t?t.getWidth()/2:0,e=R.prevColumn(),c=r,r=e?e.getWidth()/2:0))},{passive:!0}),d.addEventListener("touchend",b=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(b)})}startMove(o,t){var e=t.getElement(),n=this.table.columnManager.getContentsElement(),r=this.table.columnManager.getHeadersElement();this.table.modules.selectRange&&this.table.modules.selectRange.columnSelection&&this.table.modules.selectRange.mousedown&&this.table.modules.selectRange.selecting==="column"||(this.moving=t,this.startX=(this.touchMove?o.touches[0].pageX:o.pageX)-E.elOffset(e).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",e.parentNode.insertBefore(this.placeholderElement,e),e.parentNode.removeChild(e),this.hoverElement=e.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),n.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=n.clientHeight-r.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(o),this.dispatch("column-moving",o,this.moving))}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(o){o.modules.moveColumn.mousemove&&o.getElement().addEventListener("mousemove",o.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(o){o.modules.moveColumn.mousemove&&o.getElement().removeEventListener("mousemove",o.modules.moveColumn.mousemove)})}moveColumn(o,t){var e=this.moving.getCells();this.toCol=o,this.toColAfter=t,t?o.getCells().forEach(function(n,r){var l=n.getElement(!0);l.parentNode&&e[r]&&l.parentNode.insertBefore(e[r].getElement(),l.nextSibling)}):o.getCells().forEach(function(n,r){var l=n.getElement(!0);l.parentNode&&e[r]&&l.parentNode.insertBefore(e[r].getElement(),l)})}endMove(o){(o.which===1||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(o){var t,e=this.table.columnManager.getContentsElement(),n=e.scrollLeft,r=(this.touchMove?o.touches[0].pageX:o.pageX)-E.elOffset(e).left+n;this.hoverElement.style.left=r-this.startX+"px",r-n<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{t=Math.max(0,n-5),this.table.rowManager.getElement().scrollLeft=t,this.autoScrollTimeout=!1},1))),n+e.clientWidth-r<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{t=Math.min(e.clientWidth,n+5),this.table.rowManager.getElement().scrollLeft=t,this.autoScrollTimeout=!1},1)))}},G(Ao,"moduleName","moveColumn"),Ao),MoveRowsModule:fo,MutatorModule:go,PageModule:bo,PersistenceModule:vo,PopupModule:(Do=class extends Z{constructor(o){super(o),this.columnSubscribers={},this.registerTableOption("rowContextPopup",!1),this.registerTableOption("rowClickPopup",!1),this.registerTableOption("rowDblClickPopup",!1),this.registerTableOption("groupContextPopup",!1),this.registerTableOption("groupClickPopup",!1),this.registerTableOption("groupDblClickPopup",!1),this.registerColumnOption("headerContextPopup"),this.registerColumnOption("headerClickPopup"),this.registerColumnOption("headerDblClickPopup"),this.registerColumnOption("headerPopup"),this.registerColumnOption("headerPopupIcon"),this.registerColumnOption("contextPopup"),this.registerColumnOption("clickPopup"),this.registerColumnOption("dblClickPopup"),this.registerComponentFunction("cell","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("column","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("row","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("group","popup",this._componentPopupCall.bind(this))}initialize(){this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}_componentPopupCall(o,t,e){this.loadPopupEvent(t,null,o,e)}initializeRowWatchers(){this.table.options.rowContextPopup&&(this.subscribe("row-contextmenu",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup)),this.table.on("rowTapHold",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup))),this.table.options.rowClickPopup&&this.subscribe("row-click",this.loadPopupEvent.bind(this,this.table.options.rowClickPopup)),this.table.options.rowDblClickPopup&&this.subscribe("row-dblclick",this.loadPopupEvent.bind(this,this.table.options.rowDblClickPopup))}initializeGroupWatchers(){this.table.options.groupContextPopup&&(this.subscribe("group-contextmenu",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup)),this.table.on("groupTapHold",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup))),this.table.options.groupClickPopup&&this.subscribe("group-click",this.loadPopupEvent.bind(this,this.table.options.groupClickPopup)),this.table.options.groupDblClickPopup&&this.subscribe("group-dblclick",this.loadPopupEvent.bind(this,this.table.options.groupDblClickPopup))}initializeColumn(o){var t=o.definition;t.headerContextPopup&&!this.columnSubscribers.headerContextPopup&&(this.columnSubscribers.headerContextPopup=this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextPopup),this.table.on("headerTapHold",this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"))),t.headerClickPopup&&!this.columnSubscribers.headerClickPopup&&(this.columnSubscribers.headerClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerClickPopup"),this.subscribe("column-click",this.columnSubscribers.headerClickPopup)),t.headerDblClickPopup&&!this.columnSubscribers.headerDblClickPopup&&(this.columnSubscribers.headerDblClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerDblClickPopup"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickPopup)),t.headerPopup&&this.initializeColumnHeaderPopup(o),t.contextPopup&&!this.columnSubscribers.contextPopup&&(this.columnSubscribers.contextPopup=this.loadPopupTableCellEvent.bind(this,"contextPopup"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextPopup),this.table.on("cellTapHold",this.loadPopupTableCellEvent.bind(this,"contextPopup"))),t.clickPopup&&!this.columnSubscribers.clickPopup&&(this.columnSubscribers.clickPopup=this.loadPopupTableCellEvent.bind(this,"clickPopup"),this.subscribe("cell-click",this.columnSubscribers.clickPopup)),t.dblClickPopup&&!this.columnSubscribers.dblClickPopup&&(this.columnSubscribers.dblClickPopup=this.loadPopupTableCellEvent.bind(this,"dblClickPopup"),this.subscribe("cell-click",this.columnSubscribers.dblClickPopup))}initializeColumnHeaderPopup(o){var t,e=o.definition.headerPopupIcon;(t=document.createElement("span")).classList.add("tabulator-header-popup-button"),e?(typeof e=="function"&&(e=e(o.getComponent())),e instanceof HTMLElement?t.appendChild(e):t.innerHTML=e):t.innerHTML="&vellip;",t.addEventListener("click",n=>{n.stopPropagation(),n.preventDefault(),this.loadPopupEvent(o.definition.headerPopup,n,o)}),o.titleElement.insertBefore(t,o.titleElement.firstChild)}loadPopupTableCellEvent(o,t,e){e._cell&&(e=e._cell),e.column.definition[o]&&this.loadPopupEvent(e.column.definition[o],t,e)}loadPopupTableColumnEvent(o,t,e){e._column&&(e=e._column),e.definition[o]&&this.loadPopupEvent(e.definition[o],t,e)}loadPopupEvent(o,t,e,n){var r;e._group?e=e._group:e._row&&(e=e._row),o=typeof o=="function"?o.call(this.table,t,e.getComponent(),function(l){r=l}):o,this.loadPopup(t,e,o,r,n)}loadPopup(o,t,e,n,r){var l,c,d=!(o instanceof MouseEvent);e instanceof HTMLElement?l=e:(l=document.createElement("div")).innerHTML=e,l.classList.add("tabulator-popup"),l.addEventListener("click",m=>{m.stopPropagation()}),d||o.preventDefault(),c=this.popup(l),typeof n=="function"&&c.renderCallback(n),o?c.show(o):c.show(t.getElement(),r||"center"),c.hideOnBlur(()=>{this.dispatchExternal("popupClosed",t.getComponent())}),this.dispatchExternal("popupOpened",t.getComponent())}},G(Do,"moduleName","popup"),Do),PrintModule:(Oo=class extends Z{constructor(o){super(o),this.element=!1,this.manualBlock=!1,this.beforeprintEventHandler=null,this.afterprintEventHandler=null,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(this.beforeprintEventHandler=this.replaceTable.bind(this),this.afterprintEventHandler=this.cleanup.bind(this),window.addEventListener("beforeprint",this.beforeprintEventHandler),window.addEventListener("afterprint",this.afterprintEventHandler),this.subscribe("table-destroy",this.destroy.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}destroy(){this.table.options.printAsHtml&&(window.removeEventListener("beforeprint",this.beforeprintEventHandler),window.removeEventListener("afterprint",this.afterprintEventHandler))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(o,t,e){var n,r,l=window.scrollX,c=window.scrollY,d=document.createElement("div"),m=document.createElement("div"),b=this.table.modules.export.generateTable(e!==void 0?e:this.table.options.printConfig,t!==void 0?t:this.table.options.printStyled,o||this.table.options.printRowRange,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(d.classList.add("tabulator-print-header"),typeof(n=typeof this.table.options.printHeader=="function"?this.table.options.printHeader.call(this.table):this.table.options.printHeader)=="string"?d.innerHTML=n:d.appendChild(n),this.element.appendChild(d)),this.element.appendChild(b),this.table.options.printFooter&&(m.classList.add("tabulator-print-footer"),typeof(r=typeof this.table.options.printFooter=="function"?this.table.options.printFooter.call(this.table):this.table.options.printFooter)=="string"?m.innerHTML=r:m.appendChild(r),this.element.appendChild(m)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,b),window.print(),this.cleanup(),window.scrollTo(l,c),this.manualBlock=!1}},G(Oo,"moduleName","print"),Oo),ReactiveDataModule:(Po=class extends Z{constructor(o){super(o),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this,"cellsave")),this.subscribe("cell-value-save-after",this.unblock.bind(this,"cellsave")),this.subscribe("row-data-save-before",this.block.bind(this,"rowsave")),this.subscribe("row-data-save-after",this.unblock.bind(this,"rowsave")),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(o){var t,e=this;this.currentVersion++,t=this.currentVersion,this.unwatchData(),this.data=o,this.origFuncs.push=o.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var n,r=Array.from(arguments);return e.blocked||t!==e.currentVersion||(e.block("data-push"),r.forEach(l=>{e.table.rowManager.addRowActual(l,!1)}),n=e.origFuncs.push.apply(o,arguments),e.unblock("data-push")),n}}),this.origFuncs.unshift=o.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var n,r=Array.from(arguments);return e.blocked||t!==e.currentVersion||(e.block("data-unshift"),r.forEach(l=>{e.table.rowManager.addRowActual(l,!0)}),n=e.origFuncs.unshift.apply(o,arguments),e.unblock("data-unshift")),n}}),this.origFuncs.shift=o.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var n,r;return e.blocked||t!==e.currentVersion||(e.block("data-shift"),e.data.length&&(n=e.table.rowManager.getRowFromDataObject(e.data[0]))&&n.deleteActual(),r=e.origFuncs.shift.call(o),e.unblock("data-shift")),r}}),this.origFuncs.pop=o.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var n,r;return e.blocked||t!==e.currentVersion||(e.block("data-pop"),e.data.length&&(n=e.table.rowManager.getRowFromDataObject(e.data[e.data.length-1]))&&n.deleteActual(),r=e.origFuncs.pop.call(o),e.unblock("data-pop")),r}}),this.origFuncs.splice=o.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var n,r,l=Array.from(arguments),c=l[0]<0?o.length+l[0]:l[0],d=l[1],m=!!l[2]&&l.slice(2);if(!e.blocked&&t===e.currentVersion){if(e.block("data-splice"),m&&((n=!!o[c]&&e.table.rowManager.getRowFromDataObject(o[c]))?m.forEach(C=>{e.table.rowManager.addRowActual(C,!0,n,!0)}):(m=m.slice().reverse()).forEach(C=>{e.table.rowManager.addRowActual(C,!0,!1,!0)})),d!==0){var b=o.slice(c,l[1]===void 0?l[1]:c+d);b.forEach((C,R)=>{var x=e.table.rowManager.getRowFromDataObject(C);x&&x.deleteActual(R!==b.length-1)})}(m||d!==0)&&e.table.rowManager.reRenderInPosition(),r=e.origFuncs.splice.apply(o,arguments),e.unblock("data-splice")}return r}})}unwatchData(){if(this.data!==!1)for(var o in this.origFuncs)Object.defineProperty(this.data,o,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(o){var t=o.getData();for(var e in t)this.watchKey(o,t,e);this.table.options.dataTree&&this.watchTreeChildren(o)}watchTreeChildren(o){var t=this,e=o.getData()[this.table.options.dataTreeChildField],n={};e&&(n.push=e.push,Object.defineProperty(e,"push",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-push");var r=n.push.apply(e,arguments);this.rebuildTree(o),t.unblock("tree-push")}return r}}),n.unshift=e.unshift,Object.defineProperty(e,"unshift",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-unshift");var r=n.unshift.apply(e,arguments);this.rebuildTree(o),t.unblock("tree-unshift")}return r}}),n.shift=e.shift,Object.defineProperty(e,"shift",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-shift");var r=n.shift.call(e);this.rebuildTree(o),t.unblock("tree-shift")}return r}}),n.pop=e.pop,Object.defineProperty(e,"pop",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-pop");var r=n.pop.call(e);this.rebuildTree(o),t.unblock("tree-pop")}return r}}),n.splice=e.splice,Object.defineProperty(e,"splice",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-splice");var r=n.splice.apply(e,arguments);this.rebuildTree(o),t.unblock("tree-splice")}return r}}))}rebuildTree(o){this.table.modules.dataTree.initializeRow(o),this.table.modules.dataTree.layoutRow(o),this.table.rowManager.refreshActiveData("tree",!1,!0)}watchKey(o,t,e){var n=this,r=Object.getOwnPropertyDescriptor(t,e),l=t[e],c=this.currentVersion;Object.defineProperty(t,e,{set:d=>{if(l=d,!n.blocked&&c===n.currentVersion){n.block("key");var m={};m[e]=d,o.updateData(m),n.unblock("key")}r.set&&r.set(d)},get:()=>(r.get&&r.get(),l)})}unwatchRow(o){var t=o.getData();for(var e in t)Object.defineProperty(t,e,{value:t[e]})}block(o){this.blocked||(this.blocked=o)}unblock(o){this.blocked===o&&(this.blocked=!1)}},G(Po,"moduleName","reactiveData"),Po),ResizeColumnsModule:(Ho=class extends Z{constructor(o){super(o),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.latestX=!1,this.handle=null,this.initialNextColumn=null,this.nextColumn=null,this.initialized=!1,this.registerColumnOption("resizable",!0),this.registerTableOption("resizableColumnFit",!1),this.registerTableOption("resizableColumnGuide",!1)}initialize(){this.subscribe("column-rendered",this.layoutColumnHeader.bind(this))}initializeEventWatchers(){this.initialized||(this.subscribe("cell-rendered",this.layoutCellHandles.bind(this)),this.subscribe("cell-delete",this.deInitializeComponent.bind(this)),this.subscribe("cell-height",this.resizeHandle.bind(this)),this.subscribe("column-moved",this.columnLayoutUpdated.bind(this)),this.subscribe("column-hide",this.deInitializeColumn.bind(this)),this.subscribe("column-show",this.columnLayoutUpdated.bind(this)),this.subscribe("column-width",this.columnWidthUpdated.bind(this)),this.subscribe("column-delete",this.deInitializeComponent.bind(this)),this.subscribe("column-height",this.resizeHandle.bind(this)),this.initialized=!0)}layoutCellHandles(o){o.row.type==="row"&&(this.deInitializeComponent(o),this.initializeColumn("cell",o,o.column,o.element))}layoutColumnHeader(o){o.definition.resizable&&(this.initializeEventWatchers(),this.deInitializeComponent(o),this.initializeColumn("header",o,o,o.element))}columnLayoutUpdated(o){var t=o.prevColumn();this.reinitializeColumn(o),t&&this.reinitializeColumn(t)}columnWidthUpdated(o){o.modules.frozen&&(this.table.modules.frozenColumns.leftColumns.includes(o)?this.table.modules.frozenColumns.leftColumns.forEach(t=>{this.reinitializeColumn(t)}):this.table.modules.frozenColumns.rightColumns.includes(o)&&this.table.modules.frozenColumns.rightColumns.forEach(t=>{this.reinitializeColumn(t)}))}frozenColumnOffset(o){var t=!1;return o.modules.frozen&&(t=o.modules.frozen.marginValue,o.modules.frozen.position==="left"?t+=o.getWidth()-3:t&&(t-=3)),t!==!1&&t+"px"}reinitializeColumn(o){var t=this.frozenColumnOffset(o);o.cells.forEach(e=>{e.modules.resize&&e.modules.resize.handleEl&&(t&&(e.modules.resize.handleEl.style[o.modules.frozen.position]=t,e.modules.resize.handleEl.style["z-index"]=11),e.element.after(e.modules.resize.handleEl))}),o.modules.resize&&o.modules.resize.handleEl&&(t&&(o.modules.resize.handleEl.style[o.modules.frozen.position]=t),o.element.after(o.modules.resize.handleEl))}initializeColumn(o,t,e,n){var r=this,l=e.definition.resizable,c={},d=e.getLastColumn();if(o==="header"&&(c={variableHeight:e.definition.formatter=="textarea"||e.definition.variableHeight}),(l===!0||l==o)&&this._checkResizability(d)){var m=document.createElement("span");m.className="tabulator-col-resize-handle",m.addEventListener("click",function(C){C.stopPropagation()});var b=function(C){r.startColumn=e,r.initialNextColumn=r.nextColumn=d.nextColumn(),r._mouseDown(C,d,m)};m.addEventListener("mousedown",b),m.addEventListener("touchstart",b,{passive:!0}),m.addEventListener("dblclick",C=>{var R=d.getWidth();C.stopPropagation(),d.reinitializeWidth(!0),R!==d.getWidth()&&(r.dispatch("column-resized",d),r.dispatchExternal("columnResized",d.getComponent()))}),e.modules.frozen&&(m.style.position="sticky",m.style[e.modules.frozen.position]=this.frozenColumnOffset(e)),c.handleEl=m,n.parentNode&&e.visible&&n.after(m)}t.modules.resize=c}deInitializeColumn(o){this.deInitializeComponent(o),o.cells.forEach(t=>{this.deInitializeComponent(t)})}deInitializeComponent(o){var t;o.modules.resize&&(t=o.modules.resize.handleEl)&&t.parentElement&&t.parentElement.removeChild(t)}resizeHandle(o,t){o.modules.resize&&o.modules.resize.handleEl&&(o.modules.resize.handleEl.style.height=t)}resize(o,t){var e,n,r=o.clientX===void 0?o.touches[0].clientX:o.clientX,l=r-this.startX,c=r-this.latestX;if(this.latestX=r,this.table.rtl&&(l=-l,c=-c),e=t.width==t.minWidth||t.width==t.maxWidth,t.setWidth(this.startWidth+l),n=t.width==t.minWidth||t.width==t.maxWidth,c<0&&(this.nextColumn=this.initialNextColumn),this.table.options.resizableColumnFit&&this.nextColumn&&(!e||!n)){let d=this.nextColumn.getWidth();c>0&&d<=this.nextColumn.minWidth&&(this.nextColumn=this.nextColumn.nextColumn()),this.nextColumn&&this.nextColumn.setWidth(this.nextColumn.getWidth()-c)}this.table.columnManager.rerenderColumns(!0),!this.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights()}calcGuidePosition(o,t,e){var n=o.clientX===void 0?o.touches[0].clientX:o.clientX,r=e.getBoundingClientRect().x-this.table.element.getBoundingClientRect().x,l=this.table.element.getBoundingClientRect().x,c=t.element.getBoundingClientRect().left-l,d=n-this.startX,m=Math.max(r+d,c+t.minWidth);return t.maxWidth&&(m=Math.min(m,c+t.maxWidth)),m}_checkResizability(o){return o.definition.resizable}_mouseDown(o,t,e){var n,r=this;function l(d){r.table.options.resizableColumnGuide?n.style.left=r.calcGuidePosition(d,t,e)+"px":r.resize(d,t)}function c(d){r.table.options.resizableColumnGuide&&(r.resize(d,t),n.remove()),r.startColumn.modules.edit&&(r.startColumn.modules.edit.blocked=!1),r.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights(),document.body.removeEventListener("mouseup",c),document.body.removeEventListener("mousemove",l),e.removeEventListener("touchmove",l),e.removeEventListener("touchend",c),r.table.element.classList.remove("tabulator-block-select"),r.startWidth!==t.getWidth()&&(r.table.columnManager.verticalAlignHeaders(),r.dispatch("column-resized",t),r.dispatchExternal("columnResized",t.getComponent()))}this.dispatchExternal("columnResizing",t.getComponent()),r.table.options.resizableColumnGuide&&((n=document.createElement("span")).classList.add("tabulator-col-resize-guide"),r.table.element.appendChild(n),setTimeout(()=>{n.style.left=r.calcGuidePosition(o,t,e)+"px"})),r.table.element.classList.add("tabulator-block-select"),o.stopPropagation(),r.startColumn.modules.edit&&(r.startColumn.modules.edit.blocked=!0),r.startX=o.clientX===void 0?o.touches[0].clientX:o.clientX,r.latestX=r.startX,r.startWidth=t.getWidth(),document.body.addEventListener("mousemove",l),document.body.addEventListener("mouseup",c),e.addEventListener("touchmove",l,{passive:!0}),e.addEventListener("touchend",c)}},G(Ho,"moduleName","resizeColumns"),Ho),ResizeRowsModule:(Fo=class extends Z{constructor(o){super(o),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1),this.registerTableOption("resizableRowGuide",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(o){var t=this,e=o.getElement(),n=document.createElement("div");n.className="tabulator-row-resize-handle";var r=document.createElement("div");r.className="tabulator-row-resize-handle prev",n.addEventListener("click",function(d){d.stopPropagation()});var l=function(d){t.startRow=o,t._mouseDown(d,o,n)};n.addEventListener("mousedown",l),n.addEventListener("touchstart",l,{passive:!0}),r.addEventListener("click",function(d){d.stopPropagation()});var c=function(d){var m=t.table.rowManager.prevDisplayRow(o);m&&(t.startRow=m,t._mouseDown(d,m,r))};r.addEventListener("mousedown",c),r.addEventListener("touchstart",c,{passive:!0}),e.appendChild(n),e.appendChild(r)}resize(o,t){t.setHeight(this.startHeight+((o.screenY===void 0?o.touches[0].screenY:o.screenY)-this.startY))}calcGuidePosition(o,t,e){var n=o.screenY===void 0?o.touches[0].screenY:o.screenY,r=e.getBoundingClientRect().y-this.table.element.getBoundingClientRect().y,l=this.table.element.getBoundingClientRect().y,c=t.element.getBoundingClientRect().top-l,d=n-this.startY;return Math.max(r+d,c)}_mouseDown(o,t,e){var n,r=this;function l(d){r.table.options.resizableRowGuide?n.style.top=r.calcGuidePosition(d,t,e)+"px":r.resize(d,t)}function c(d){r.table.options.resizableRowGuide&&(r.resize(d,t),n.remove()),document.body.removeEventListener("mouseup",l),document.body.removeEventListener("mousemove",l),e.removeEventListener("touchmove",l),e.removeEventListener("touchend",c),r.table.element.classList.remove("tabulator-block-select"),r.dispatchExternal("rowResized",t.getComponent())}r.dispatchExternal("rowResizing",t.getComponent()),r.table.options.resizableRowGuide&&((n=document.createElement("span")).classList.add("tabulator-row-resize-guide"),r.table.element.appendChild(n),setTimeout(()=>{n.style.top=r.calcGuidePosition(o,t,e)+"px"})),r.table.element.classList.add("tabulator-block-select"),o.stopPropagation(),r.startY=o.screenY===void 0?o.touches[0].screenY:o.screenY,r.startHeight=t.getHeight(),document.body.addEventListener("mousemove",l),document.body.addEventListener("mouseup",c),e.addEventListener("touchmove",l,{passive:!0}),e.addEventListener("touchend",c)}},G(Fo,"moduleName","resizeRows"),Fo),ResizeTableModule:(zo=class extends Z{constructor(o){super(o),this.binding=!1,this.visibilityObserver=!1,this.resizeObserver=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.visible=!1,this.initialized=!1,this.initialRedraw=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var o,t=this.table;this.tableHeight=t.element.clientHeight,this.tableWidth=t.element.clientWidth,t.element.parentNode&&(this.containerHeight=t.element.parentNode.clientHeight,this.containerWidth=t.element.parentNode.clientWidth),typeof IntersectionObserver<"u"&&typeof ResizeObserver<"u"&&t.rowManager.getRenderMode()==="virtual"?(this.initializeVisibilityObserver(),this.autoResize=!0,this.resizeObserver=new ResizeObserver(e=>{if(!t.browserMobile||t.browserMobile&&(!t.modules.edit||t.modules.edit&&!t.modules.edit.currentCell)){var n=Math.floor(e[0].contentRect.height),r=Math.floor(e[0].contentRect.width);this.tableHeight==n&&this.tableWidth==r||(this.tableHeight=n,this.tableWidth=r,t.element.parentNode&&(this.containerHeight=t.element.parentNode.clientHeight,this.containerWidth=t.element.parentNode.clientWidth),this.redrawTable())}}),this.resizeObserver.observe(t.element),o=window.getComputedStyle(t.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(o.getPropertyValue("max-height")||o.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(e=>{if(!t.browserMobile||t.browserMobile&&(!t.modules.edit||t.modules.edit&&!t.modules.edit.currentCell)){var n=Math.floor(e[0].contentRect.height),r=Math.floor(e[0].contentRect.width);this.containerHeight==n&&this.containerWidth==r||(this.containerHeight=n,this.containerWidth=r,this.tableHeight=t.element.clientHeight,this.tableWidth=t.element.clientWidth),this.redrawTable()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!t.browserMobile||t.browserMobile&&(!t.modules.edit||t.modules.edit&&!t.modules.edit.currentCell))&&(t.columnManager.rerenderColumns(!0),t.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver(o=>{this.visible=o[0].isIntersecting,this.initialized?this.visible&&(this.redrawTable(this.initialRedraw),this.initialRedraw=!1):(this.initialized=!0,this.initialRedraw=!this.visible)}),this.visibilityObserver.observe(this.table.element)}redrawTable(o){this.initialized&&this.visible&&(this.table.columnManager.rerenderColumns(!0),this.table.redraw(o))}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.resizeObserver&&this.resizeObserver.unobserve(this.table.element),this.visibilityObserver&&this.visibilityObserver.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}},G(zo,"moduleName","resizeTable"),zo),ResponsiveLayoutModule:(gn=class extends Z{constructor(o){super(o),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),this.table.options.responsiveLayout==="collapse"&&(this.subscribe("row-data-changed",this.generateCollapsedRowContent.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(o){["fitColumns","fitDataStretch"].indexOf(this.layoutMode())===-1&&(o||this.update())}initializeResponsivity(){var o=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.collapseFormatter&&(this.collapseFormatter=this.collapseFormatter.bind(this.table)),this.table.columnManager.columnsByIndex.forEach((t,e)=>{t.modules.responsive&&t.modules.responsive.order&&t.modules.responsive.visible&&(t.modules.responsive.index=e,o.push(t),t.visible||this.mode!=="collapse"||this.hiddenColumns.push(t))}),o=(o=o.reverse()).sort((t,e)=>e.modules.responsive.order-t.modules.responsive.order||e.modules.responsive.index-t.modules.responsive.index),this.columns=o,this.mode==="collapse"&&this.generateCollapsedContent();for(let t of this.table.columnManager.columnsByIndex)if(t.definition.formatter=="responsiveCollapse"){this.collapseHandleColumn=t;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(o){var t=o.getDefinition();o.modules.responsive={order:t.responsive===void 0?1:t.responsive,visible:t.visible!==!1}}initializeRow(o){var t;o.type!=="calc"&&((t=document.createElement("div")).classList.add("tabulator-responsive-collapse"),o.modules.responsiveLayout={element:t,open:this.collapseStartOpen},this.collapseStartOpen||(t.style.display="none"))}layoutRow(o){var t=o.getElement();o.modules.responsiveLayout&&(t.appendChild(o.modules.responsiveLayout.element),this.generateCollapsedRowContent(o))}updateColumnVisibility(o,t){!t&&o.modules.responsive&&(o.modules.responsive.visible=o.visible,this.initializeResponsivity())}hideColumn(o){var t=this.hiddenColumns.length;o.hide(!1,!0),this.mode==="collapse"&&(this.hiddenColumns.unshift(o),this.generateCollapsedContent(),this.collapseHandleColumn&&!t&&this.collapseHandleColumn.show())}showColumn(o){var t;o.show(!1,!0),o.setWidth(o.getWidth()),this.mode==="collapse"&&((t=this.hiddenColumns.indexOf(o))>-1&&this.hiddenColumns.splice(t,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var o=!0;o;){let t=this.table.modules.layout.getMode()=="fitColumns"?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),e=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-t;if(e<0){let n=this.columns[this.index];n?(this.hideColumn(n),this.index++):o=!1}else{let n=this.columns[this.index-1];n&&e>0&&e>=n.getWidth()?(this.showColumn(n),this.index--):o=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){this.table.rowManager.getDisplayRows().forEach(o=>{this.generateCollapsedRowContent(o)})}generateCollapsedRowContent(o){var t,e;if(o.modules.responsiveLayout){for(t=o.modules.responsiveLayout.element;t.firstChild;)t.removeChild(t.firstChild);(e=this.collapseFormatter(this.generateCollapsedRowData(o)))&&t.appendChild(e),o.calcHeight(!0)}}generateCollapsedRowData(o){var t,e=o.getData(),n=[];return this.hiddenColumns.forEach(r=>{var l=r.getFieldValue(e);if(r.definition.title&&r.field)if(r.modules.format&&this.table.options.responsiveLayoutCollapseUseFormatters){let d=function(m){m()};var c=d;t={value:!1,data:{},getValue:function(){return l},getData:function(){return e},getType:function(){return"cell"},getElement:function(){return document.createElement("div")},getRow:function(){return o.getComponent()},getColumn:function(){return r.getComponent()},getTable:()=>this.table},n.push({field:r.field,title:r.definition.title,value:r.modules.format.formatter.call(this.table.modules.format,t,r.modules.format.params,d)})}else n.push({field:r.field,title:r.definition.title,value:l})}),n}formatCollapsedData(o){var t=document.createElement("table");return o.forEach(e=>{var n,r=document.createElement("tr"),l=document.createElement("td"),c=document.createElement("td"),d=document.createElement("strong");l.appendChild(d),this.modules.localize.bind("columns|"+e.field,function(m){d.innerHTML=m||e.title}),e.value instanceof Node?((n=document.createElement("div")).appendChild(e.value),c.appendChild(n)):c.innerHTML=e.value,r.appendChild(l),r.appendChild(c),t.appendChild(r)}),Object.keys(o).length?t:""}},G(gn,"moduleName","responsiveLayout"),G(gn,"moduleExtensions",Fu),gn),SelectRangeModule:(As=class extends Z{constructor(o){super(o),this.selecting="cell",this.mousedown=!1,this.ranges=[],this.overlay=null,this.rowHeader=null,this.layoutChangeTimeout=null,this.columnSelection=!1,this.rowSelection=!1,this.maxRanges=0,this.activeRange=!1,this.blockKeydown=!1,this.keyDownEvent=this._handleKeyDown.bind(this),this.mouseUpEvent=this._handleMouseUp.bind(this),this.registerTableOption("selectableRange",!1),this.registerTableOption("selectableRangeColumns",!1),this.registerTableOption("selectableRangeRows",!1),this.registerTableOption("selectableRangeClearCells",!1),this.registerTableOption("selectableRangeClearCellsValue",void 0),this.registerTableOption("selectableRangeAutoFocus",!0),this.registerTableFunction("getRangesData",this.getRangesData.bind(this)),this.registerTableFunction("getRanges",this.getRanges.bind(this)),this.registerTableFunction("addRange",this.addRangeFromComponent.bind(this)),this.registerComponentFunction("cell","getRanges",this.cellGetRanges.bind(this)),this.registerComponentFunction("row","getRanges",this.rowGetRanges.bind(this)),this.registerComponentFunction("column","getRanges",this.colGetRanges.bind(this))}initialize(){this.options("selectableRange")&&(this.options("selectableRows")?console.warn("SelectRange functionality cannot be used in conjunction with row selection"):(this.maxRanges=this.options("selectableRange"),this.initializeTable(),this.initializeWatchers()),this.options("columns").findIndex(o=>o.frozen)>0&&console.warn("Having frozen column in arbitrary position with selectRange option may result in unpredictable behavior."),this.options("columns").filter(o=>o.frozen)>1&&console.warn("Having multiple frozen columns with selectRange option may result in unpredictable behavior."))}initializeTable(){this.overlay=document.createElement("div"),this.overlay.classList.add("tabulator-range-overlay"),this.rangeContainer=document.createElement("div"),this.rangeContainer.classList.add("tabulator-range-container"),this.activeRangeCellElement=document.createElement("div"),this.activeRangeCellElement.classList.add("tabulator-range-cell-active"),this.overlay.appendChild(this.rangeContainer),this.overlay.appendChild(this.activeRangeCellElement),this.table.rowManager.element.addEventListener("keydown",this.keyDownEvent),this.resetRanges(),this.table.rowManager.element.appendChild(this.overlay),this.table.columnManager.element.setAttribute("tabindex",0),this.table.element.classList.add("tabulator-ranges")}initializeWatchers(){this.columnSelection=this.options("selectableRangeColumns"),this.rowSelection=this.options("selectableRangeRows"),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-mousedown",this.handleColumnMouseDown.bind(this)),this.subscribe("column-mousemove",this.handleColumnMouseMove.bind(this)),this.subscribe("column-resized",this.handleColumnResized.bind(this)),this.subscribe("column-moving",this.handleColumnMoving.bind(this)),this.subscribe("column-moved",this.handleColumnMoved.bind(this)),this.subscribe("column-width",this.layoutChange.bind(this)),this.subscribe("column-height",this.layoutChange.bind(this)),this.subscribe("column-resized",this.layoutChange.bind(this)),this.subscribe("columns-loaded",this.updateHeaderColumn.bind(this)),this.subscribe("cell-height",this.layoutChange.bind(this)),this.subscribe("cell-rendered",this.renderCell.bind(this)),this.subscribe("cell-mousedown",this.handleCellMouseDown.bind(this)),this.subscribe("cell-mousemove",this.handleCellMouseMove.bind(this)),this.subscribe("cell-click",this.handleCellClick.bind(this)),this.subscribe("cell-editing",this.handleEditingCell.bind(this)),this.subscribe("page-changed",this.redraw.bind(this)),this.subscribe("scroll-vertical",this.layoutChange.bind(this)),this.subscribe("scroll-horizontal",this.layoutChange.bind(this)),this.subscribe("data-destroy",this.tableDestroyed.bind(this)),this.subscribe("data-processed",this.resetRanges.bind(this)),this.subscribe("table-layout",this.layoutElement.bind(this)),this.subscribe("table-redraw",this.redraw.bind(this)),this.subscribe("table-destroy",this.tableDestroyed.bind(this)),this.subscribe("edit-editor-clear",this.finishEditingCell.bind(this)),this.subscribe("edit-blur",this.restoreFocus.bind(this)),this.subscribe("keybinding-nav-prev",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-next",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-left",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-right",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-up",this.keyNavigate.bind(this,"up")),this.subscribe("keybinding-nav-down",this.keyNavigate.bind(this,"down")),this.subscribe("keybinding-nav-range",this.keyNavigateRange.bind(this))}initializeColumn(o){this.columnSelection&&o.definition.headerSort&&this.options("headerSortClickElement")!=="icon"&&console.warn("Using column headerSort with selectableRangeColumns option may result in unpredictable behavior. Consider using headerSortClickElement: 'icon'."),o.modules.edit}updateHeaderColumn(){var o;this.rowSelection&&(this.rowHeader=this.table.columnManager.getVisibleColumnsByIndex()[0],this.rowHeader&&(this.rowHeader.definition.cssClass=this.rowHeader.definition.cssClass+" tabulator-range-row-header",this.rowHeader.definition.headerSort&&console.warn("Using column headerSort with selectableRangeRows option may result in unpredictable behavior"),this.rowHeader.definition.editor&&console.warn("Using column editor with selectableRangeRows option may result in unpredictable behavior"))),this.table.modules.frozenColumns&&this.table.modules.frozenColumns.active&&((o=this.table.modules.frozenColumns.getFrozenColumns()).length>1||o.length===1&&o[0]!==this.rowHeader)&&console.warn("Using frozen columns that are not the range header in combination with the selectRange option may result in unpredictable behavior")}getRanges(){return this.ranges.map(o=>o.getComponent())}getRangesData(){return this.ranges.map(o=>o.getData())}addRangeFromComponent(o,t){return o=o?o._cell:null,t=t?t._cell:null,this.addRange(o,t)}cellGetRanges(o){var t=[];return t=o.column===this.rowHeader?this.ranges.filter(e=>e.occupiesRow(o.row)):this.ranges.filter(e=>e.occupies(o)),t.map(e=>e.getComponent())}rowGetRanges(o){var t=this.ranges.filter(e=>e.occupiesRow(o));return t.map(e=>e.getComponent())}colGetRanges(o){var t=this.ranges.filter(e=>e.occupiesColumn(o));return t.map(e=>e.getComponent())}_handleMouseUp(o){this.mousedown=!1,document.removeEventListener("mouseup",this.mouseUpEvent)}_handleKeyDown(o){if(!this.blockKeydown&&(!this.table.modules.edit||this.table.modules.edit&&!this.table.modules.edit.currentCell)){if(o.key==="Enter"){if(this.table.modules.edit&&this.table.modules.edit.currentCell)return;this.table.modules.edit.editCell(this.getActiveCell()),o.preventDefault()}o.key!=="Backspace"&&o.key!=="Delete"||!this.options("selectableRangeClearCells")||this.activeRange&&this.activeRange.clearValues()}}initializeFocus(o){var t;this.restoreFocus();try{document.selection?((t=document.body.createTextRange()).moveToElementText(o.getElement()),t.select()):window.getSelection&&((t=document.createRange()).selectNode(o.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(t))}catch{}}restoreFocus(o){return this.table.rowManager.element.focus(),!0}handleColumnResized(o){var t;this.selecting!=="column"&&this.selecting!=="all"||(t=this.ranges.some(e=>e.occupiesColumn(o)),t&&this.ranges.forEach(e=>{e.getColumns(!0).forEach(n=>{n!==o&&n.setWidth(o.width)})}))}handleColumnMoving(o,t){this.resetRanges().setBounds(t),this.overlay.style.visibility="hidden"}handleColumnMoved(o,t,e){this.activeRange.setBounds(o),this.layoutElement()}handleColumnMouseDown(o,t){(o.button!==2||this.selecting!=="column"&&this.selecting!=="all"||!this.activeRange.occupiesColumn(t))&&(this.table.options.movableColumns&&this.selecting==="column"&&this.activeRange.occupiesColumn(t)||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(o,t)))}handleColumnMouseMove(o,t){t!==this.rowHeader&&this.mousedown&&this.selecting!=="all"&&this.activeRange.setBounds(!1,t,!0)}renderCell(o){var t=o.getElement(),e=this.ranges.findIndex(n=>n.occupies(o));t.classList.toggle("tabulator-range-selected",e!==-1),t.classList.toggle("tabulator-range-only-cell-selected",this.ranges.length===1&&this.ranges[0].atTopLeft(o)&&this.ranges[0].atBottomRight(o)),t.dataset.range=e}handleCellMouseDown(o,t){o.button===2&&(this.activeRange.occupies(t)||(this.selecting==="row"||this.selecting==="all")&&this.activeRange.occupiesRow(t.row))||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(o,t))}handleCellMouseMove(o,t){this.mousedown&&this.selecting!=="all"&&this.activeRange.setBounds(!1,t,!0)}handleCellClick(o,t){this.initializeFocus(t)}handleEditingCell(o){this.activeRange&&this.activeRange.setBounds(o)}finishEditingCell(){this.blockKeydown=!0,this.table.rowManager.element.focus(),setTimeout(()=>{this.blockKeydown=!1},10)}keyNavigate(o,t){this.navigate(!1,!1,o),t.preventDefault()}keyNavigateRange(o,t,e,n){this.navigate(e,n,t),o.preventDefault()}navigate(o,t,e){var n,r,l,c,d,m,b,C,R,x,L;if(this.table.modules.edit&&this.table.modules.edit.currentCell)return!1;if(this.ranges.length>1&&(this.ranges=this.ranges.filter(H=>H===this.activeRange?(H.setEnd(H.start.row,H.start.col),!0):(H.destroy(),!1))),l={top:(n=this.activeRange).top,bottom:n.bottom,left:n.left,right:n.right},c=(r=t?n.end:n.start).row,d=r.col,o)switch(e){case"left":d=this.findJumpCellLeft(n.start.row,r.col);break;case"right":d=this.findJumpCellRight(n.start.row,r.col);break;case"up":c=this.findJumpCellUp(r.row,n.start.col);break;case"down":c=this.findJumpCellDown(r.row,n.start.col)}else{if(t&&(this.selecting==="row"&&(e==="left"||e==="right")||this.selecting==="column"&&(e==="up"||e==="down")))return;switch(e){case"left":d=Math.max(d-1,0);break;case"right":d=Math.min(d+1,this.getTableColumns().length-1);break;case"up":c=Math.max(c-1,0);break;case"down":c=Math.min(c+1,this.getTableRows().length-1)}}return this.rowHeader&&d===0&&(d=1),t||n.setStart(c,d),n.setEnd(c,d),t||(this.selecting="cell"),l.top!==n.top||l.bottom!==n.bottom||l.left!==n.left||l.right!==n.right?(m=this.getRowByRangePos(n.end.row),b=this.getColumnByRangePos(n.end.col),C=m.getElement().getBoundingClientRect(),x=b.getElement().getBoundingClientRect(),R=this.table.rowManager.getElement().getBoundingClientRect(),L=this.table.columnManager.getElement().getBoundingClientRect(),C.top>=R.top&&C.bottom<=R.bottom||(m.getElement().parentNode&&b.getElement().parentNode?this.autoScroll(n,m.getElement(),b.getElement()):m.getComponent().scrollTo(void 0,!1)),x.left>=L.left+this.getRowHeaderWidth()&&x.right<=L.right||(m.getElement().parentNode&&b.getElement().parentNode?this.autoScroll(n,m.getElement(),b.getElement()):b.getComponent().scrollTo(void 0,!1)),this.layoutElement(),!0):void 0}rangeRemoved(o){this.ranges=this.ranges.filter(t=>t!==o),this.activeRange===o&&(this.ranges.length?this.activeRange=this.ranges[this.ranges.length-1]:this.addRange()),this.layoutElement()}findJumpRow(o,t,e,n,r){return e&&(t=t.reverse()),this.findJumpItem(n,r,t,function(l){return l.getData()[o.getField()]})}findJumpCol(o,t,e,n,r){return e&&(t=t.reverse()),this.findJumpItem(n,r,t,function(l){return o.getData()[l.getField()]})}findJumpItem(o,t,e,n){var r;for(let l of e){let c=n(l);if(o){if(r=l,c)break}else if(t){if(r=l,c)break}else{if(!c)break;r=l}}return r}findJumpCellLeft(o,t){var e=this.getRowByRangePos(o),n=this.getTableColumns(),r=this.isEmpty(e.getData()[n[t].getField()]),l=!!n[t-1]&&this.isEmpty(e.getData()[n[t-1].getField()]),c=this.rowHeader?n.slice(1,t):n.slice(0,t),d=this.findJumpCol(e,c,!0,r,l);return d?d.getPosition()-1:t}findJumpCellRight(o,t){var e=this.getRowByRangePos(o),n=this.getTableColumns(),r=this.isEmpty(e.getData()[n[t].getField()]),l=!!n[t+1]&&this.isEmpty(e.getData()[n[t+1].getField()]),c=this.findJumpCol(e,n.slice(t+1,n.length),!1,r,l);return c?c.getPosition()-1:t}findJumpCellUp(o,t){var e=this.getColumnByRangePos(t),n=this.getTableRows(),r=this.isEmpty(n[o].getData()[e.getField()]),l=!!n[o-1]&&this.isEmpty(n[o-1].getData()[e.getField()]),c=this.findJumpRow(e,n.slice(0,o),!0,r,l);return c?c.position-1:o}findJumpCellDown(o,t){var e=this.getColumnByRangePos(t),n=this.getTableRows(),r=this.isEmpty(n[o].getData()[e.getField()]),l=!!n[o+1]&&this.isEmpty(n[o+1].getData()[e.getField()]),c=this.findJumpRow(e,n.slice(o+1,n.length),!1,r,l);return c?c.position-1:o}newSelection(o,t){var e;if(t.type==="column"){if(!this.columnSelection)return;if(t===this.rowHeader){e=this.resetRanges(),this.selecting="all";var n,r=this.getCell(-1,-1);return n=this.rowHeader?this.getCell(0,1):this.getCell(0,0),void e.setBounds(n,r)}this.selecting="column"}else t.column===this.rowHeader?this.selecting="row":this.selecting="cell";o.shiftKey?this.activeRange.setBounds(!1,t):o.ctrlKey?this.addRange().setBounds(t):this.resetRanges().setBounds(t)}autoScroll(o,t,e){var n,r,l,c=this.table.rowManager.element;t===void 0&&(t=this.getRowByRangePos(o.end.row).getElement()),e===void 0&&(e=this.getColumnByRangePos(o.end.col).getElement()),n={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight},l=(r={left:c.scrollLeft+this.getRowHeaderWidth(),right:Math.ceil(c.scrollLeft+c.clientWidth),top:c.scrollTop,bottom:c.scrollTop+c.offsetHeight-this.table.rowManager.scrollbarWidth}).top<n.top&&n.top<r.bottom&&r.top<n.bottom&&n.bottom<r.bottom,r.left<n.left&&n.left<r.right&&r.left<n.right&&n.right<r.right||(n.left<r.left?c.scrollLeft=n.left-this.getRowHeaderWidth():n.right>r.right&&(c.scrollLeft=Math.min(n.right-c.clientWidth,n.left-this.getRowHeaderWidth()))),l||(n.top<r.top?c.scrollTop=n.top:n.bottom>r.bottom&&(c.scrollTop=n.bottom-c.clientHeight))}layoutChange(){this.overlay.style.visibility="hidden",clearTimeout(this.layoutChangeTimeout),this.layoutChangeTimeout=setTimeout(this.layoutRanges.bind(this),200)}redraw(o){o&&(this.selecting="cell",this.resetRanges(),this.layoutElement())}layoutElement(o){(o?this.table.rowManager.getVisibleRows(!0):this.table.rowManager.getRows()).forEach(t=>{t.type==="row"&&(this.layoutRow(t),t.cells.forEach(e=>this.renderCell(e)))}),this.getTableColumns().forEach(t=>{this.layoutColumn(t)}),this.layoutRanges()}layoutRow(o){var t=o.getElement(),e=!1,n=this.ranges.some(r=>r.occupiesRow(o));this.selecting==="row"?e=n:this.selecting==="all"&&(e=!0),t.classList.toggle("tabulator-range-selected",e),t.classList.toggle("tabulator-range-highlight",n)}layoutColumn(o){var t=o.getElement(),e=!1,n=this.ranges.some(r=>r.occupiesColumn(o));this.selecting==="column"?e=n:this.selecting==="all"&&(e=!0),t.classList.toggle("tabulator-range-selected",e),t.classList.toggle("tabulator-range-highlight",n)}layoutRanges(){var o,t,e;this.table.initialized&&(o=this.getActiveCell())&&(t=o.getElement(),e=o.row.getElement(),this.table.rtl?this.activeRangeCellElement.style.right=e.offsetWidth-t.offsetLeft-t.offsetWidth+"px":this.activeRangeCellElement.style.left=e.offsetLeft+t.offsetLeft+"px",this.activeRangeCellElement.style.top=e.offsetTop+"px",this.activeRangeCellElement.style.width=t.offsetWidth+"px",this.activeRangeCellElement.style.height=e.offsetHeight+"px",this.ranges.forEach(n=>n.layout()),this.overlay.style.visibility="visible")}getCell(o,t){var e;return t<0&&(t=this.getTableColumns().length+t)<0?null:(o<0&&(o=this.getTableRows().length+o),(e=this.table.rowManager.getRowFromPosition(o+1))?e.getCells(!1,!0).filter(n=>n.column.visible)[t]:null)}getActiveCell(){return this.getCell(this.activeRange.start.row,this.activeRange.start.col)}getRowByRangePos(o){return this.getTableRows()[o]}getColumnByRangePos(o){return this.getTableColumns()[o]}getTableRows(){return this.table.rowManager.getDisplayRows().filter(o=>o.type==="row")}getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}addRange(o,t){var e;return this.maxRanges!==!0&&this.ranges.length>=this.maxRanges&&this.ranges.shift().destroy(),e=new Iu(this.table,this,o,t),this.activeRange=e,this.ranges.push(e),this.rangeContainer.appendChild(e.element),e}resetRanges(){var o,t,e;return this.ranges.forEach(n=>n.destroy()),this.ranges=[],o=this.addRange(),this.table.rowManager.activeRows.length&&(e=this.table.rowManager.activeRows[0].cells.filter(n=>n.column.visible),(t=e[this.rowHeader?1:0])&&(o.setBounds(t),this.options("selectableRangeAutoFocus")&&this.initializeFocus(t))),o}tableDestroyed(){document.removeEventListener("mouseup",this.mouseUpEvent),this.table.rowManager.element.removeEventListener("keydown",this.keyDownEvent)}selectedRows(o){return o?this.activeRange.getRows().map(t=>t.getComponent()):this.activeRange.getRows()}selectedColumns(o){return o?this.activeRange.getColumns().map(t=>t.getComponent()):this.activeRange.getColumns()}getRowHeaderWidth(){return this.rowHeader?this.rowHeader.getElement().offsetWidth:0}isEmpty(o){return o==null||o===""}},G(As,"moduleName","selectRange"),G(As,"moduleInitOrder",1),G(As,"moduleExtensions",Bu),As),SelectRowModule:(bn=class extends Z{constructor(o){super(o),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectableRows","highlight"),this.registerTableOption("selectableRowsRangeMode","drag"),this.registerTableOption("selectableRowsRollingSelection",!0),this.registerTableOption("selectableRowsPersistence",!0),this.registerTableOption("selectableRowsCheck",function(t,e){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){this.deprecatedOptionsCheck(),this.table.options.selectableRows==="highlight"&&this.table.options.selectableRange&&(this.table.options.selectableRows=!1),this.table.options.selectableRows!==!1&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectableRows&&!this.table.options.selectableRowsPersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}deprecatedOptionsCheck(){}rowRetrieve(o,t){return o==="selected"?this.selectedRows:t}rowDeleted(o){this._deselectRow(o,!0)}clearSelectionData(o){var t=this.selectedRows.length;this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],t&&o!==!0&&this._rowSelectionChanged()}initializeRow(o){var t=this,e=t.checkRowSelectability(o),n=o.getElement(),r=function(){setTimeout(function(){t.selecting=!1},50),document.body.removeEventListener("mouseup",r)};o.modules.select={selected:!1},n.classList.toggle("tabulator-selectable",e),n.classList.toggle("tabulator-unselectable",!e),t.checkRowSelectability(o)&&t.table.options.selectableRows&&t.table.options.selectableRows!="highlight"&&(t.table.options.selectableRowsRangeMode==="click"?n.addEventListener("click",this.handleComplexRowClick.bind(this,o)):(n.addEventListener("click",function(l){t.table.modExists("edit")&&t.table.modules.edit.getCurrentCell()||t.table._clearSelection(),t.selecting||t.toggleRow(o)}),n.addEventListener("mousedown",function(l){if(l.shiftKey)return t.table._clearSelection(),t.selecting=!0,t.selectPrev=[],document.body.addEventListener("mouseup",r),document.body.addEventListener("keyup",r),t.toggleRow(o),!1}),n.addEventListener("mouseenter",function(l){t.selecting&&(t.table._clearSelection(),t.toggleRow(o),t.selectPrev[1]==o&&t.toggleRow(t.selectPrev[0]))}),n.addEventListener("mouseout",function(l){t.selecting&&(t.table._clearSelection(),t.selectPrev.unshift(o))})))}handleComplexRowClick(o,t){if(t.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||o;var e=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),n=this.table.rowManager.getDisplayRowIndex(o),r=e<=n?e:n,l=e>=n?e:n,c=this.table.rowManager.getDisplayRows().slice(0).splice(r,l-r+1);t.ctrlKey||t.metaKey?(c.forEach(d=>{d!==this.lastClickedRow&&(this.table.options.selectableRows===!0||this.isRowSelected(o)||this.selectedRows.length<this.table.options.selectableRows)&&this.toggleRow(d)}),this.lastClickedRow=o):(this.deselectRows(void 0,!0),this.table.options.selectableRows!==!0&&c.length>this.table.options.selectableRows&&(c=c.slice(0,this.table.options.selectableRows)),this.selectRows(c)),this.table._clearSelection()}else t.ctrlKey||t.metaKey?(this.toggleRow(o),this.lastClickedRow=o):(this.deselectRows(void 0,!0),this.selectRows(o),this.lastClickedRow=o)}checkRowSelectability(o){return!(!o||o.type!=="row")&&this.table.options.selectableRowsCheck.call(this.table,o.getComponent())}toggleRow(o){this.checkRowSelectability(o)&&(o.modules.select&&o.modules.select.selected?this._deselectRow(o):this._selectRow(o))}selectRows(o){var t,e,n=[];switch(typeof o){case"undefined":t=this.table.rowManager.rows;break;case"number":t=this.table.rowManager.findRow(o);break;case"string":(t=this.table.rowManager.findRow(o))||(t=this.table.rowManager.getRows(o));break;default:t=o}Array.isArray(t)?t.length&&(t.forEach(r=>{(e=this._selectRow(r,!0,!0))&&n.push(e)}),this._rowSelectionChanged(!1,n)):t&&this._selectRow(t,!1,!0)}_selectRow(o,t,e){if(!isNaN(this.table.options.selectableRows)&&this.table.options.selectableRows!==!0&&!e&&this.selectedRows.length>=this.table.options.selectableRows){if(!this.table.options.selectableRowsRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var n=this.table.rowManager.findRow(o);if(n){if(this.selectedRows.indexOf(n)==-1)return n.getElement().classList.add("tabulator-selected"),n.modules.select||(n.modules.select={}),n.modules.select.selected=!0,n.modules.select.checkboxEl&&(n.modules.select.checkboxEl.checked=!0),this.selectedRows.push(n),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(n,!0),this.dispatchExternal("rowSelected",n.getComponent()),this._rowSelectionChanged(t,n),n}else t||console.warn("Selection Error - No such row found, ignoring selection:"+o)}isRowSelected(o){return this.selectedRows.indexOf(o)!==-1}deselectRows(o,t){var e,n,r=[];switch(typeof o){case"undefined":e=Object.assign([],this.selectedRows);break;case"number":e=this.table.rowManager.findRow(o);break;case"string":(e=this.table.rowManager.findRow(o))||(e=this.table.rowManager.getRows(o));break;default:e=o}Array.isArray(e)?e.length&&(e.forEach(l=>{(n=this._deselectRow(l,!0,!0))&&r.push(n)}),this._rowSelectionChanged(t,[],r)):e&&this._deselectRow(e,t,!0)}_deselectRow(o,t){var e,n,r=this,l=r.table.rowManager.findRow(o);if(l){if((e=r.selectedRows.findIndex(function(c){return c==l}))>-1)return(n=l.getElement())&&n.classList.remove("tabulator-selected"),l.modules.select||(l.modules.select={}),l.modules.select.selected=!1,l.modules.select.checkboxEl&&(l.modules.select.checkboxEl.checked=!1),r.selectedRows.splice(e,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(l,!1),this.dispatchExternal("rowDeselected",l.getComponent()),r._rowSelectionChanged(t,void 0,l),l}else t||console.warn("Deselection Error - No such row found, ignoring selection:"+o)}getSelectedData(){var o=[];return this.selectedRows.forEach(function(t){o.push(t.getData())}),o}getSelectedRows(){var o=[];return this.selectedRows.forEach(function(t){o.push(t.getComponent())}),o}_rowSelectionChanged(o,t=[],e=[]){this.headerCheckboxElement&&(this.selectedRows.length===0?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),o||(Array.isArray(t)||(t=[t]),t=t.map(n=>n.getComponent()),Array.isArray(e)||(e=[e]),e=e.map(n=>n.getComponent()),this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows(),t,e))}registerRowSelectCheckbox(o,t){o._row.modules.select||(o._row.modules.select={}),o._row.modules.select.checkboxEl=t}registerHeaderSelectCheckbox(o){this.headerCheckboxElement=o}childRowSelection(o,t){var e=this.table.modules.dataTree.getChildren(o,!0,!0);if(t)for(let n of e)this._selectRow(n,!0);else for(let n of e)this._deselectRow(n,!0)}},G(bn,"moduleName","selectRow"),G(bn,"moduleExtensions",zu),bn),SortModule:Eo,SpreadsheetModule:(No=class extends Z{constructor(o){super(o),this.sheets=[],this.element=null,this.registerTableOption("spreadsheet",!1),this.registerTableOption("spreadsheetRows",50),this.registerTableOption("spreadsheetColumns",50),this.registerTableOption("spreadsheetColumnDefinition",{}),this.registerTableOption("spreadsheetOutputFull",!1),this.registerTableOption("spreadsheetData",!1),this.registerTableOption("spreadsheetSheets",!1),this.registerTableOption("spreadsheetSheetTabs",!1),this.registerTableOption("spreadsheetSheetTabsElement",!1),this.registerTableFunction("setSheets",this.setSheets.bind(this)),this.registerTableFunction("addSheet",this.addSheet.bind(this)),this.registerTableFunction("getSheets",this.getSheets.bind(this)),this.registerTableFunction("getSheetDefinitions",this.getSheetDefinitions.bind(this)),this.registerTableFunction("setSheetData",this.setSheetData.bind(this)),this.registerTableFunction("getSheet",this.getSheet.bind(this)),this.registerTableFunction("getSheetData",this.getSheetData.bind(this)),this.registerTableFunction("clearSheet",this.clearSheet.bind(this)),this.registerTableFunction("removeSheet",this.removeSheetFunc.bind(this)),this.registerTableFunction("activeSheet",this.activeSheetFunc.bind(this))}initialize(){this.options("spreadsheet")&&(this.subscribe("table-initialized",this.tableInitialized.bind(this)),this.subscribe("data-loaded",this.loadRemoteData.bind(this)),this.table.options.index="_id",this.options("spreadsheetData")&&this.options("spreadsheetSheets")&&(console.warn("You cannot use spreadsheetData and spreadsheetSheets at the same time, ignoring spreadsheetData"),this.table.options.spreadsheetData=!1),this.compatibilityCheck(),this.options("spreadsheetSheetTabs")&&this.initializeTabset())}compatibilityCheck(){this.options("data")&&console.warn("Do not use the data option when working with spreadsheets, use either spreadsheetData or spreadsheetSheets to pass data into the table"),this.options("pagination")&&console.warn("The spreadsheet module is not compatible with the pagination module"),this.options("groupBy")&&console.warn("The spreadsheet module is not compatible with the row grouping module"),this.options("responsiveCollapse")&&console.warn("The spreadsheet module is not compatible with the responsive collapse module")}initializeTabset(){this.element=document.createElement("div"),this.element.classList.add("tabulator-spreadsheet-tabs");var o=this.options("spreadsheetSheetTabsElement");!o||o instanceof HTMLElement||(o=document.querySelector(o))||console.warn("Unable to find element matching spreadsheetSheetTabsElement selector:",this.options("spreadsheetSheetTabsElement")),o?o.appendChild(this.element):this.footerAppend(this.element)}tableInitialized(){this.sheets.length?this.loadSheet(this.sheets[0]):this.options("spreadsheetSheets")?this.loadSheets(this.options("spreadsheetSheets")):this.options("spreadsheetData")&&this.loadData(this.options("spreadsheetData"))}loadRemoteData(o,t,e){return console.log("data",o,t,e),Array.isArray(o)?(this.table.dataLoader.clearAlert(),this.dispatchExternal("dataLoaded",o),!o.length||Array.isArray(o[0])?this.loadData(o):this.loadSheets(o)):console.error(`Spreadsheet Loading Error - Unable to process remote data due to invalid data type 
Expecting: array 
Received: `,typeof o,`
Data:     `,o),!1}loadData(o){var t={data:o};this.loadSheet(this.newSheet(t))}destroySheets(){this.sheets.forEach(o=>{o.destroy()}),this.sheets=[],this.activeSheet=null}loadSheets(o){Array.isArray(o)||(o=[]),this.destroySheets(),o.forEach(t=>{this.newSheet(t)}),this.loadSheet(this.sheets[0])}loadSheet(o){this.activeSheet!==o&&(this.activeSheet&&this.activeSheet.unload(),this.activeSheet=o,o.load())}newSheet(o={}){var t;return o.rows||(o.rows=this.options("spreadsheetRows")),o.columns||(o.columns=this.options("spreadsheetColumns")),t=new xa(this,o),this.sheets.push(t),this.element&&this.element.appendChild(t.element),t}removeSheet(o){var t,e=this.sheets.indexOf(o);this.sheets.length>1?e>-1&&(this.sheets.splice(e,1),o.destroy(),this.activeSheet===o&&((t=this.sheets[e-1]||this.sheets[0])?this.loadSheet(t):this.activeSheet=null)):console.warn("Unable to remove sheet, at least one sheet must be active")}lookupSheet(o){return o?o instanceof xa?o:o instanceof Ra?o._sheet:this.sheets.find(t=>t.key===o)||!1:this.activeSheet}setSheets(o){return this.loadSheets(o),this.getSheets()}addSheet(o){return this.newSheet(o).getComponent()}getSheetDefinitions(){return this.sheets.map(o=>o.getDefinition())}getSheets(){return this.sheets.map(o=>o.getComponent())}getSheet(o){var t=this.lookupSheet(o);return!!t&&t.getComponent()}setSheetData(o,t){o&&!t&&(t=o,o=!1);var e=this.lookupSheet(o);return!!e&&e.setData(t)}getSheetData(o){var t=this.lookupSheet(o);return!!t&&t.getData()}clearSheet(o){var t=this.lookupSheet(o);return!!t&&t.clear()}removeSheetFunc(o){var t=this.lookupSheet(o);t&&this.removeSheet(t)}activeSheetFunc(o){var t=this.lookupSheet(o);return!!t&&this.loadSheet(t)}},G(No,"moduleName","spreadsheet"),No),TooltipModule:(Io=class extends Z{constructor(o){super(o),this.tooltipSubscriber=null,this.headerSubscriber=null,this.timeout=null,this.popupInstance=null,this.registerTableOption("tooltipDelay",300),this.registerColumnOption("tooltip"),this.registerColumnOption("headerTooltip")}initialize(){this.deprecatedOptionsCheck(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){}initializeColumn(o){o.definition.headerTooltip&&!this.headerSubscriber&&(this.headerSubscriber=!0,this.subscribe("column-mousemove",this.mousemoveCheck.bind(this,"headerTooltip")),this.subscribe("column-mouseout",this.mouseoutCheck.bind(this,"headerTooltip"))),o.definition.tooltip&&!this.tooltipSubscriber&&(this.tooltipSubscriber=!0,this.subscribe("cell-mousemove",this.mousemoveCheck.bind(this,"tooltip")),this.subscribe("cell-mouseout",this.mouseoutCheck.bind(this,"tooltip")))}mousemoveCheck(o,t,e){var n=o==="tooltip"?e.column.definition.tooltip:e.definition.headerTooltip;n&&(this.clearPopup(),this.timeout=setTimeout(this.loadTooltip.bind(this,t,e,n),this.table.options.tooltipDelay))}mouseoutCheck(o,t,e){this.popupInstance||this.clearPopup()}clearPopup(o,t,e){clearTimeout(this.timeout),this.timeout=null,this.popupInstance&&this.popupInstance.hide()}loadTooltip(o,t,e){var n,r,l;typeof e=="function"&&(e=e(o,t.getComponent(),function(c){r=c})),e instanceof HTMLElement?n=e:(n=document.createElement("div"),e===!0&&(t instanceof g?e=t.value:t.definition.field?this.langBind("columns|"+t.definition.field,c=>{n.innerHTML=e=c||t.definition.title}):e=t.definition.title),n.innerHTML=e),(e||e===0||e===!1)&&(n.classList.add("tabulator-tooltip"),n.addEventListener("mousemove",c=>c.preventDefault()),this.popupInstance=this.popup(n),typeof r=="function"&&this.popupInstance.renderCallback(r),l=this.popupInstance.containerEventCoords(o),this.popupInstance.show(l.x+15,l.y+15).hideOnBlur(()=>{this.dispatchExternal("TooltipClosed",t.getComponent()),this.popupInstance=null}),this.dispatchExternal("TooltipOpened",t.getComponent()))}},G(Io,"moduleName","tooltip"),Io),ValidateModule:Co}),$u=class extends Nt{static extendModule(){Nt.initializeModuleBinder(yo),Nt._extendModule(...arguments)}static registerModule(){Nt.initializeModuleBinder(yo),Nt._registerModule(...arguments)}constructor(o,t,e){super(o,t,yo)}};return $u})})(yu);var OE=yu.exports;const mn=DE(OE),PE={id:"table",ref:"table"},HE={__name:"ViewZero",props:{tableData:Array},setup(s){const i=s;return _i(()=>{new mn("#table",{data:i.tableData,layout:"fitColumns",columns:[{title:"FromTo",field:"FromTo"},{title:"0",field:"0"},{title:"1",field:"1"},{title:"2",field:"2"},{title:"3",field:"3"},{title:"4",field:"4"},{title:"Total",field:"Total"}]})}),(a,h)=>(ei(),ii("div",null,[It("div",PE,null,512)]))}},FE={id:"table",ref:"table"},zE={__name:"ViewOne",props:{tableData:Array},setup(s){const i=s;return _i(()=>{new mn("#table",{data:i.tableData,layout:"fitColumns",columns:[{title:"FromTo",field:"FromTo"},{title:"0",field:"0"},{title:"1",field:"1"},{title:"2",field:"2"},{title:"3",field:"3"},{title:"4",field:"4"},{title:"Total",field:"Total"}]})}),(a,h)=>(ei(),ii("div",null,[It("div",FE,null,512)]))}},NE={id:"table",ref:"table"},IE={__name:"ViewTwo",props:{tableData:Array},setup(s){const i=s;return _i(()=>{new mn("#table",{data:i.tableData,layout:"fitColumns",columns:[{title:"FromTo",field:"FromTo"},{title:"0",field:"0"},{title:"1",field:"1"},{title:"2",field:"2"},{title:"3",field:"3"},{title:"4",field:"4"},{title:"Total",field:"Total"}]})}),(a,h)=>(ei(),ii("div",null,[It("div",NE,null,512)]))}},BE={id:"table",ref:"table"},VE={__name:"ViewThree",props:{tableData:Array},setup(s){const i=s;return _i(()=>{new mn("#table",{data:i.tableData,layout:"fitColumns",columns:[{title:"FromTo",field:"FromTo"},{title:"0",field:"0"},{title:"1",field:"1"},{title:"2",field:"2"},{title:"3",field:"3"},{title:"4",field:"4"},{title:"Total",field:"Total"}]})}),(a,h)=>(ei(),ii("div",null,[It("div",BE,null,512)]))}},WE={id:"table",ref:"table"},jE={__name:"ViewFour",props:{tableData:Array},setup(s){const i=s;return _i(()=>{new mn("#table",{data:i.tableData,layout:"fitColumns",columns:[{title:"FromTo",field:"FromTo"},{title:"0",field:"0"},{title:"1",field:"1"},{title:"2",field:"2"},{title:"3",field:"3"},{title:"4",field:"4"},{title:"Total",field:"Total"}]})}),(a,h)=>(ei(),ii("div",null,[It("div",WE,null,512)]))}},$E={__name:"Empty",setup(s){const i=ra();return _i(()=>{i.push(i.pathTo.replace("/",""))}),(a,h)=>(ei(),ii("div"))}},GE=[{path:"/",redirect:"/0"},{path:"/empty",component:$E,name:"empty"},{path:"/0",component:HE,name:"viewZero",matrixIndex:0},{path:"/1",component:zE,name:"viewOne",matrixIndex:1},{path:"/2",component:IE,name:"viewTwo",matrixIndex:2},{path:"/3",component:VE,name:"viewThree",matrixIndex:3},{path:"/4",component:jE,name:"viewFour",matrixIndex:4}],rs=ff({history:jm(),routes:GE});rs.beforeEach((s,i,a)=>{rs.routeFrom=i.name,rs.routeTo=s.name,s.name!="empty"&&(rs.pathFrom=i.path.replace("/","")==""?void 0:i.path.replace("/",""),rs.pathTo=s.path.replace("/","")==""?void 0:s.path.replace("/","")),a()});const Tu=hm(kf);Tu.use(rs);Tu.mount("#app");
